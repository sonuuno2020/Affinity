/*! For license information please see 2.14e63e9c.chunk.js.LICENSE.txt */
(this["webpackJsonpAffinity-Map"]=this["webpackJsonpAffinity-Map"]||[]).push([[2],[function(e,t,n){e.exports=n(123)},function(e,t,n){"use strict";e.exports=n(118)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return N})),n.d(t,"c",(function(){return C})),n.d(t,"d",(function(){return Q})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return f})),n.d(t,"j",(function(){return U})),n.d(t,"k",(function(){return m})),n.d(t,"l",(function(){return $})),n.d(t,"m",(function(){return p})),n.d(t,"n",(function(){return B})),n.d(t,"o",(function(){return v})),n.d(t,"p",(function(){return Z})),n.d(t,"q",(function(){return G})),n.d(t,"r",(function(){return ie})),n.d(t,"s",(function(){return g})),n.d(t,"t",(function(){return F})),n.d(t,"u",(function(){return w})),n.d(t,"v",(function(){return _})),n.d(t,"w",(function(){return j})),n.d(t,"x",(function(){return q})),n.d(t,"y",(function(){return x})),n.d(t,"z",(function(){return I})),n.d(t,"A",(function(){return b})),n.d(t,"B",(function(){return k})),n.d(t,"C",(function(){return S})),n.d(t,"D",(function(){return O})),n.d(t,"E",(function(){return T})),n.d(t,"F",(function(){return E})),n.d(t,"G",(function(){return M})),n.d(t,"H",(function(){return A})),n.d(t,"I",(function(){return z})),n.d(t,"J",(function(){return H})),n.d(t,"K",(function(){return K})),n.d(t,"L",(function(){return V})),n.d(t,"M",(function(){return re})),n.d(t,"N",(function(){return ne})),n.d(t,"O",(function(){return D})),n.d(t,"P",(function(){return X})),n.d(t,"Q",(function(){return ee})),n.d(t,"R",(function(){return te}));var r=n(31),i=!1,a=!1,o="${JSCORE_VERSION}",u=function(e,t){if(!e)throw s(t)},s=function(e){return new Error("Firebase Database ("+o+") INTERNAL ASSERT FAILED: "+e)},c=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},l={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(c(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&(a=e[n++]))<<12|(63&(u=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{a=e[n++];var u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&a)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},f=function(e){var t=c(e);return l.encodeByteArray(t,!0)},h=function(e){return f(e).replace(/\./g,"")},d=function(e){try{return l.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function p(e){return v(void 0,e)}function v(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=v(e[n],t[n]));return e}var y=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function m(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",i=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=Object(r.a)({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e);return[h(JSON.stringify({alg:"none",type:"JWT"})),h(JSON.stringify(o)),""].join(".")}function g(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function b(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(g())}function k(){try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(t){return!1}}function w(){return"object"===typeof self&&self.self===self}function _(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function O(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function j(){return g().indexOf("Electron/")>=0}function x(){var e=g();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function E(){return g().indexOf("MSAppHost/")>=0}function S(){return!0===i||!0===a}function T(){return!k()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function I(){return"indexedDB"in self&&null!=indexedDB}var C=function(e){function t(n,r,i){var a=e.call(this,r)||this;return a.code=n,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(a,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(a,N.prototype.create),a}return Object(r.c)(t,e),t}(Error),N=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,a=this.errors[e],o=a?P(a,r):"Error",u=this.serviceName+": "+o+" ("+i+").",s=new C(i,u,r);return s},e}();function P(e,t){return e.replace(R,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var R=/\{\$([^}]+)}/g;function A(e){return JSON.parse(e)}function D(e){return JSON.stringify(e)}var L=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=A(d(a[0])||""),n=A(d(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}},M=function(e){var t=L(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")},F=function(e){var t=L(e).claims;return"object"===typeof t&&!0===t.admin};function U(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function V(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function q(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function z(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function B(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(W(u)&&W(s)){if(!B(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){o=l[c];if(!n.includes(o))return!1}return!0}function W(e){return null!==e&&"object"===typeof e}function H(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var a=i[r];n(a[0],a[1])}return t.length?"&"+t.join("&"):""}function K(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function G(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var Q=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var a,o,u=this.chain_[0],s=this.chain_[1],c=this.chain_[2],l=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(a=l^s&(c^l),o=1518500249):(a=s^c^l,o=1859775393):r<60?(a=s&c|l&(s|c),o=2400959708):(a=s^c^l,o=3395469782);i=(u<<5|u>>>27)+a+f+o+n[r]&4294967295;f=l,l=c,c=4294967295&(s<<30|s>>>2),s=u,u=i}this.chain_[0]=this.chain_[0]+u&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();function $(e,t){var n=new Y(e,t);return n.subscribe.bind(n)}var Y=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=J),void 0===r.error&&(r.error=J),void 0===r.complete&&(r.complete=J);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function J(){}var X=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function Z(e,t){return e+" failed: "+t+" argument "}function ee(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(Z(e,t)+"must be a valid function.")}function te(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(Z(e,t)+"must be a valid context object.")}var ne=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,u(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},re=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function ie(e){return e&&e._delegate?e._delegate:e}}).call(this,n(72))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function u(e){r(o,i,a,u,s,"next",e)}function s(e){r(o,i,a,u,s,"throw",e)}u(void 0)}))}}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";e.exports=n(132)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(61);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object(r.a)(e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(29),i=n(76);function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n(49);function u(e,t){return!t||"object"!==a(t)&&"function"!==typeof t?Object(o.a)(e):t}function s(e){var t=Object(i.a)();return function(){var n,i=Object(r.a)(e);if(t){var a=Object(r.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return u(this,n)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return T})),n.d(t,"b",(function(){return rt})),n.d(t,"c",(function(){return Ft})),n.d(t,"d",(function(){return zt})),n.d(t,"e",(function(){return Wt})),n.d(t,"f",(function(){return Bt})),n.d(t,"g",(function(){return It})),n.d(t,"h",(function(){return qt})),n.d(t,"i",(function(){return ji})),n.d(t,"j",(function(){return Fa})),n.d(t,"k",(function(){return S})),n.d(t,"l",(function(){return fi})),n.d(t,"m",(function(){return Ht})),n.d(t,"n",(function(){return Kt})),n.d(t,"o",(function(){return V})),n.d(t,"p",(function(){return Xe})),n.d(t,"q",(function(){return D})),n.d(t,"r",(function(){return Tr})),n.d(t,"s",(function(){return W})),n.d(t,"t",(function(){return na})),n.d(t,"u",(function(){return Le})),n.d(t,"w",(function(){return Cn})),n.d(t,"x",(function(){return Or})),n.d(t,"y",(function(){return La})),n.d(t,"z",(function(){return xr})),n.d(t,"A",(function(){return Pn})),n.d(t,"B",(function(){return Tn})),n.d(t,"C",(function(){return et})),n.d(t,"E",(function(){return Ln})),n.d(t,"F",(function(){return C})),n.d(t,"G",(function(){return Kn})),n.d(t,"H",(function(){return hr})),n.d(t,"I",(function(){return vr})),n.d(t,"J",(function(){return ea})),n.d(t,"K",(function(){return De})),n.d(t,"L",(function(){return Qr})),n.d(t,"M",(function(){return qn})),n.d(t,"N",(function(){return vn})),n.d(t,"O",(function(){return yi})),n.d(t,"P",(function(){return Mi})),n.d(t,"Q",(function(){return Xi})),n.d(t,"R",(function(){return br})),n.d(t,"S",(function(){return mn})),n.d(t,"T",(function(){return gi})),n.d(t,"U",(function(){return Di})),n.d(t,"V",(function(){return Yi})),n.d(t,"W",(function(){return Qn})),n.d(t,"X",(function(){return En})),n.d(t,"Y",(function(){return Un})),n.d(t,"Z",(function(){return Jt})),n.d(t,"ab",(function(){return dn})),n.d(t,"bb",(function(){return wn})),n.d(t,"cb",(function(){return Fn})),n.d(t,"db",(function(){return zn})),n.d(t,"eb",(function(){return pi})),n.d(t,"fb",(function(){return Ri})),n.d(t,"gb",(function(){return Qi})),n.d(t,"hb",(function(){return nn})),n.d(t,"ib",(function(){return nr})),n.d(t,"jb",(function(){return rr})),n.d(t,"kb",(function(){return _i})),n.d(t,"lb",(function(){return er})),n.d(t,"mb",(function(){return Yn})),n.d(t,"nb",(function(){return An})),n.d(t,"v",(function(){return co})),n.d(t,"D",(function(){return uo}));var r=n(74),i=n(73),a=n(51),o=n(75);var u,s=n(0),c=n.n(s),l=n(3),f=n(5),h=n(34),d=n(29),p=n(9),v=n(10),y=n(4),m=n(49),g=n(12),b=n(20),k=n(26),w=n(7),_=n(2),O=n(19),j=n(31),x=n(30),E=n(27),S={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},T={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function I(){return Object(w.a)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var C=function(){var e;return e={},Object(w.a)(e,"admin-restricted-operation","This operation is restricted to administrators only."),Object(w.a)(e,"argument-error",""),Object(w.a)(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Object(w.a)(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Object(w.a)(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Object(w.a)(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Object(w.a)(e,"cordova-not-ready","Cordova framework is not ready."),Object(w.a)(e,"cors-unsupported","This browser is not supported."),Object(w.a)(e,"credential-already-in-use","This credential is already associated with a different user account."),Object(w.a)(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Object(w.a)(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Object(w.a)(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Object(w.a)(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Object(w.a)(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Object(w.a)(e,"email-already-in-use","The email address is already in use by another account."),Object(w.a)(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Object(w.a)(e,"expired-action-code","The action code has expired."),Object(w.a)(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Object(w.a)(e,"internal-error","An internal AuthError has occurred."),Object(w.a)(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Object(w.a)(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Object(w.a)(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Object(w.a)(e,"invalid-auth-event","An internal AuthError has occurred."),Object(w.a)(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Object(w.a)(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Object(w.a)(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Object(w.a)(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Object(w.a)(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Object(w.a)(e,"invalid-email","The email address is badly formatted."),Object(w.a)(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Object(w.a)(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Object(w.a)(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Object(w.a)(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Object(w.a)(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Object(w.a)(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Object(w.a)(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Object(w.a)(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Object(w.a)(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Object(w.a)(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Object(w.a)(e,"wrong-password","The password is invalid or the user does not have a password."),Object(w.a)(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Object(w.a)(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Object(w.a)(e,"invalid-provider-id","The specified provider ID is invalid."),Object(w.a)(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Object(w.a)(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Object(w.a)(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Object(w.a)(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Object(w.a)(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Object(w.a)(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Object(w.a)(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Object(w.a)(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Object(w.a)(e,"missing-continue-uri","A continue URL must be provided in the request."),Object(w.a)(e,"missing-iframe-start","An internal AuthError has occurred."),Object(w.a)(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Object(w.a)(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Object(w.a)(e,"missing-multi-factor-info","No second factor identifier is provided."),Object(w.a)(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Object(w.a)(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Object(w.a)(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Object(w.a)(e,"app-deleted","This instance of FirebaseApp has been deleted."),Object(w.a)(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Object(w.a)(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Object(w.a)(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Object(w.a)(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Object(w.a)(e,"no-auth-event","An internal AuthError has occurred."),Object(w.a)(e,"no-such-provider","User was not linked to an account with the given provider."),Object(w.a)(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Object(w.a)(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Object(w.a)(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Object(w.a)(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Object(w.a)(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Object(w.a)(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Object(w.a)(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Object(w.a)(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Object(w.a)(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Object(w.a)(e,"rejected-credential","The request contains malformed or mismatching credentials."),Object(w.a)(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Object(w.a)(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Object(w.a)(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Object(w.a)(e,"timeout","The operation has timed out."),Object(w.a)(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Object(w.a)(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Object(w.a)(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Object(w.a)(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Object(w.a)(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Object(w.a)(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Object(w.a)(e,"unverified-email","The operation requires a verified email."),Object(w.a)(e,"user-cancelled","The user did not grant your application the permissions it requested."),Object(w.a)(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Object(w.a)(e,"user-disabled","The user account has been disabled by an administrator."),Object(w.a)(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Object(w.a)(e,"user-signed-out",""),Object(w.a)(e,"weak-password","The password must be 6 characters long or more."),Object(w.a)(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Object(w.a)(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},N=I,P=new _.b("auth","Firebase",I()),R=new x.b("@firebase/auth");function A(e){if(R.logLevel<=x.a.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];R.error.apply(R,["Auth (".concat(O.SDK_VERSION,"): ").concat(e)].concat(n))}}function D(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw U.apply(void 0,[e].concat(n))}function L(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return U.apply(void 0,[e].concat(n))}function M(e,t,n){var r=Object.assign(Object.assign({},N()),Object(w.a)({},t,n));return new _.b("auth","Firebase",r).create(t,{appName:e.name})}function F(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&D(e,"argument-error"),M(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function U(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Object(k.a)(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Object(k.a)(o)))}return P.create.apply(P,[e].concat(n))}function V(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw U.apply(void 0,[t].concat(r))}}function q(e){var t="INTERNAL ASSERTION FAILED: "+e;throw A(t),new Error(t)}function z(e,t){e||q(t)}var B=new Map;function W(e){z(e instanceof Function,"Expected a class definition");var t=B.get(e);return t?(z(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,B.set(e,t),t)}function H(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function K(){return"http:"===G()||"https:"===G()}function G(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Q=function(){function e(t,n){Object(l.a)(this,e),this.shortDelay=t,this.longDelay=n,z(n>t,"Short delay should be less than long delay!"),this.isMobile=Object(_.A)()||Object(_.D)()}return Object(f.a)(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(K()||Object(_.v)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function $(e,t){z(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Y=function(){function e(){Object(l.a)(this,e)}return Object(f.a)(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void q("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void q("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void q("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),J=(u={},Object(w.a)(u,"CREDENTIAL_MISMATCH","custom-token-mismatch"),Object(w.a)(u,"MISSING_CUSTOM_TOKEN","internal-error"),Object(w.a)(u,"INVALID_IDENTIFIER","invalid-email"),Object(w.a)(u,"MISSING_CONTINUE_URI","internal-error"),Object(w.a)(u,"INVALID_PASSWORD","wrong-password"),Object(w.a)(u,"MISSING_PASSWORD","internal-error"),Object(w.a)(u,"EMAIL_EXISTS","email-already-in-use"),Object(w.a)(u,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Object(w.a)(u,"INVALID_IDP_RESPONSE","invalid-credential"),Object(w.a)(u,"INVALID_PENDING_TOKEN","invalid-credential"),Object(w.a)(u,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Object(w.a)(u,"MISSING_REQ_TYPE","internal-error"),Object(w.a)(u,"EMAIL_NOT_FOUND","user-not-found"),Object(w.a)(u,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Object(w.a)(u,"EXPIRED_OOB_CODE","expired-action-code"),Object(w.a)(u,"INVALID_OOB_CODE","invalid-action-code"),Object(w.a)(u,"MISSING_OOB_CODE","internal-error"),Object(w.a)(u,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Object(w.a)(u,"INVALID_ID_TOKEN","invalid-user-token"),Object(w.a)(u,"TOKEN_EXPIRED","user-token-expired"),Object(w.a)(u,"USER_NOT_FOUND","user-token-expired"),Object(w.a)(u,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Object(w.a)(u,"INVALID_CODE","invalid-verification-code"),Object(w.a)(u,"INVALID_SESSION_INFO","invalid-verification-id"),Object(w.a)(u,"INVALID_TEMPORARY_PROOF","invalid-credential"),Object(w.a)(u,"MISSING_SESSION_INFO","missing-verification-id"),Object(w.a)(u,"SESSION_EXPIRED","code-expired"),Object(w.a)(u,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Object(w.a)(u,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Object(w.a)(u,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Object(w.a)(u,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Object(w.a)(u,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Object(w.a)(u,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Object(w.a)(u,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Object(w.a)(u,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Object(w.a)(u,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Object(w.a)(u,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Object(w.a)(u,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),u),X=new Q(3e4,6e4);function Z(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function ee(e,t,n,r){return te.apply(this,arguments)}function te(){return(te=Object(y.a)(c.a.mark((function e(t,n,r,i){var a,o=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",ne(t,a,(function(){var e={},a={};i&&("GET"===n?a=i:e={body:JSON.stringify(i)});var o=Object(_.J)(Object.assign({key:t.config.apiKey},a)).slice(1),u=new(Y.headers());return u.set("Content-Type","application/json"),u.set("X-Client-Version",t._getSdkClientVersion()),t.languageCode&&u.set("X-Firebase-Locale",t.languageCode),Y.fetch()(oe(t,t.config.apiHost,r,o),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},e))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e,t,n){return re.apply(this,arguments)}function re(){return(re=Object(y.a)(c.a.mark((function e(t,n,r){var i,a,o,u,s,l,f,h,d,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},J),n),e.prev=2,a=new ue(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw se(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,l=s.split(" : "),f=Object(b.a)(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw se(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=25;break}throw se(t,"email-already-in-use",u);case 25:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw M(t,p,d);case 30:D(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof _.c)){e.next=37;break}throw e.t0;case 37:D(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])})))).apply(this,arguments)}function ie(e,t,n,r){return ae.apply(this,arguments)}function ae(){return(ae=Object(y.a)(c.a.mark((function e(t,n,r,i){var a,o,u=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,ee(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&D(t,"multi-factor-auth-required",{serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?$(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var ue=function(){function e(t){var n=this;Object(l.a)(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(L(n.auth,"timeout"))}),X.get())}))}return Object(f.a)(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function se(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=L(e,t,r);return i.customData._tokenResponse=n,i}function ce(e,t){return le.apply(this,arguments)}function le(){return(le=Object(y.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fe(e,t){return he.apply(this,arguments)}function he(){return(he=Object(y.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(e,t){return pe.apply(this,arguments)}function pe(){return(pe=Object(y.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ve(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function ye(){return(ye=Object(y.a)(c.a.mark((function e(t){var n,r,i,a,o,u,s=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Object(_.r)(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,V((a=ge(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:ve(me(a.auth_time)),issuedAtTime:ve(me(a.iat)),expirationTime:ve(me(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function me(e){return 1e3*Number(e)}function ge(e){var t=e.split("."),n=Object(b.a)(t,3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return A("JWT malformed, contained fewer than 3 sections"),null;try{var o=Object(_.h)(i);return o?JSON.parse(o):(A("Failed to decode base64 JWT payload"),null)}catch(u){return A("Caught error parsing JWT payload as JSON",u),null}}function be(e,t){return ke.apply(this,arguments)}function ke(){return(ke=Object(y.a)(c.a.mark((function e(t,n){var r=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof _.c&&we(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function we(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var _e=function(){function e(t){Object(l.a)(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Object(f.a)(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Object(y.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Object(y.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Oe=function(){function e(t,n){Object(l.a)(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Object(f.a)(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=ve(this.lastLoginAt),this.creationTime=ve(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function je(e){return xe.apply(this,arguments)}function xe(){return(xe=Object(y.a)(c.a.mark((function e(t){var n,r,i,a,o,u,s,l,f,h,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,be(t,de(r,{idToken:i}));case 6:V(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Te(o.providerUserInfo):[],s=Se(t.providerData,u),l=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),h=!!l&&f,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Oe(o.createdAt,o.lastLoginAt),isAnonymous:h},Object.assign(t,d);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ee(){return(Ee=Object(y.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(_.r)(t),e.next=3,je(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Se(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Object(k.a)(n),Object(k.a)(t))}function Te(e){return e.map((function(e){var t=e.providerId,n=Object(j.f)(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Ie(e,t){return Ce.apply(this,arguments)}function Ce(){return(Ce=Object(y.a)(c.a.mark((function e(t,n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne(t,{},(function(){var e=Object(_.J)({grant_type:"refresh_token",refresh_token:n}).slice(1),r=t.config,i=r.tokenApiHost,a=r.apiKey,o=oe(t,i,"/v1/token","key=".concat(a));return Y.fetch()(o,{method:"POST",headers:{"X-Client-Version":t._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:e})}));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ne=function(){function e(){Object(l.a)(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Object(f.a)(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){V(e.idToken,"internal-error"),V("undefined"!==typeof e.idToken,"internal-error"),V("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=ge(e);return V(t,"internal-error"),V("undefined"!==typeof t.exp,"internal-error"),V("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Object(y.a)(c.a.mark((function e(t){var n,r=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],V(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Object(y.a)(c.a.mark((function e(t,n){var r,i,a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return q("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(V("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(V("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(V("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Pe(e,t){V("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Re=function(){function e(t){Object(l.a)(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Object(j.f)(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new _e(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.metadata=new Oe(a.createdAt||void 0,a.lastLoginAt||void 0)}return Object(f.a)(e,[{key:"getIdToken",value:function(){var e=Object(y.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(V(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return ye.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Ee.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(V(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){V(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Object(y.a)(c.a.mark((function e(t){var n,r,i=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,je(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(y.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,be(this,ce(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,y=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,m=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,k=n.emailVerified,w=n.isAnonymous,_=n.providerData,O=n.stsTokenManager;V(b&&O,t,"internal-error");var j=Ne.fromJSON(this.name,O);V("string"===typeof b,t,"internal-error"),Pe(f,t.name),Pe(h,t.name),V("boolean"===typeof k,t,"internal-error"),V("boolean"===typeof w,t,"internal-error"),Pe(d,t.name),Pe(p,t.name),Pe(v,t.name),Pe(y,t.name),Pe(m,t.name),Pe(g,t.name);var x=new e({uid:b,auth:t,email:h,emailVerified:k,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:j,createdAt:m,lastLoginAt:g});return _&&Array.isArray(_)&&(x.providerData=_.map((function(e){return Object.assign({},e)}))),y&&(x._redirectEventId=y),x}},{key:"_fromIdTokenResponse",value:function(){var t=Object(y.a)(c.a.mark((function t(n,r){var i,a,o,u=arguments;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Ne).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,je(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Ae=function(){function e(){Object(l.a)(this,e),this.type="NONE",this.storage={}}return Object(f.a)(e,[{key:"_isAvailable",value:function(){var e=Object(y.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Object(y.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Object(y.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Object(y.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Ae.type="NONE";var De=Ae;function Le(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Me=function(){function e(t,n,r){Object(l.a)(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Le(this.userKey,a.apiKey,o),this.fullPersistenceKey=Le("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Object(f.a)(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Object(y.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Re._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Object(y.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Object(y.a)(c.a.mark((function t(n,r){var i,a,o,u,s,l,f,h,d,p,v,m=arguments;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=m.length>2&&void 0!==m[2]?m[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(W(De),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Object(y.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||W(De),u=Le(i,n.config.apiKey,n.name),s=null,l=Object(g.a)(r),t.prev=10,l.s();case 12:if((f=l.n()).done){t.next=29;break}return h=f.value,t.prev=14,t.next=17,h._get(u);case 17:if(!(d=t.sent)){t.next=23;break}return p=Re._fromJSON(n,d),h!==o&&(s=p),o=h,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),l.e(t.t1);case 34:return t.prev=34,l.f(),t.finish(34);case 37:if(v=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&v.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=v[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Object(y.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Fe(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ze(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ue(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(We(t))return"Blackberry";if(He(t))return"Webos";if(Ve(t))return"Safari";if((t.includes("chrome/")||qe(t))&&!t.includes("edge/"))return"Chrome";if(Be(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(_.s)();return/firefox\//i.test(e)}function Ve(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(_.s)(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function qe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(_.s)();return/crios\//i.test(e)}function ze(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(_.s)();return/iemobile/i.test(e)}function Be(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(_.s)();return/android/i.test(e)}function We(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(_.s)();return/blackberry/i.test(e)}function He(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(_.s)();return/webos/i.test(e)}function Ke(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(_.s)();return/iphone|ipad|ipod/i.test(e)}function Ge(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(_.s)();return Ke(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Qe(){return Object(_.y)()&&10===document.documentMode}function $e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(_.s)();return Ke(e)||Be(e)||He(e)||We(e)||/windows phone/i.test(e)||ze(e)}function Ye(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Fe(Object(_.s)());break;case"Worker":t="".concat(Fe(Object(_.s)()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(O.SDK_VERSION,"/").concat(r)}var Je=function(){function e(t,n){Object(l.a)(this,e),this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ze(this),this.idTokenSubscription=new Ze(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=P,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}return Object(f.a)(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=W(t)),this._initializationPromise=this.queue(Object(y.a)(c.a.mark((function r(){var i;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Me.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=10;break}return r.next=10,n._popupRedirectResolver._initialize(n);case 10:return r.next=12,n.initializeCurrentUser(t);case 12:if(!n._deleted){r.next=14;break}return r.abrupt("return");case 14:n._isInitialized=!0;case 15:case"end":return r.stop()}}),r)})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Object(y.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Object(y.a)(c.a.mark((function e(t){var n,r,i,a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return V(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Object(y.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Object(y.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,je(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Object(y.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Object(y.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Object(_.r)(t):null)&&V(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Object(y.a)(c.a.mark((function e(t){var n=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&V(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(Object(y.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Object(y.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Object(y.a)(c.a.mark((function n(){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(W(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new _.b("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Object(y.a)(c.a.mark((function e(t,n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Object(y.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return V(n=t&&W(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Me.create(this,[W(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Object(y.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Object(y.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Object(y.a)(c.a.mark((function e(t){var n=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Object(y.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return V(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Object(y.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return V(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ye(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getSdkClientVersion",value:function(){return this.clientVersion}}]),e}();function Xe(e){return Object(_.r)(e)}var Ze=function(){function e(t){var n=this;Object(l.a)(this,e),this.auth=t,this.observer=null,this.addObserver=Object(_.l)((function(e){return n.observer=e}))}return Object(f.a)(e,[{key:"next",get:function(){return V(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function et(e,t,n){var r=Xe(e);V(r._canInitEmulator,r,"emulator-config-failed"),V(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=tt(t),o=function(e){var t=tt(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:nt(r.substr(a.length+1))}}var o=r.split(":"),u=Object(b.a)(o,2);return{host:u[0],port:nt(u[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),function(e){function t(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"===typeof window||"undefined"===typeof document||e||("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}(i)}function tt(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function nt(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var rt=function(){function e(t,n){Object(l.a)(this,e),this.providerId=t,this.signInMethod=n}return Object(f.a)(e,[{key:"toJSON",value:function(){return q("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return q("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return q("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return q("not implemented")}}]),e}();function it(e,t){return at.apply(this,arguments)}function at(){return(at=Object(y.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:resetPassword",Z(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ot(e,t){return ut.apply(this,arguments)}function ut(){return(ut=Object(y.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function st(e,t){return ct.apply(this,arguments)}function ct(){return(ct=Object(y.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:update",Z(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lt(e,t){return ft.apply(this,arguments)}function ft(){return(ft=Object(y.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ie(t,"POST","/v1/accounts:signInWithPassword",Z(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ht(e,t){return dt.apply(this,arguments)}function dt(){return(dt=Object(y.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:sendOobCode",Z(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pt(e,t){return vt.apply(this,arguments)}function vt(){return(vt=Object(y.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ht(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yt(e,t){return mt.apply(this,arguments)}function mt(){return(mt=Object(y.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ht(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gt(e,t){return bt.apply(this,arguments)}function bt(){return(bt=Object(y.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ht(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kt(e,t){return wt.apply(this,arguments)}function wt(){return(wt=Object(y.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ht(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _t(e,t){return Ot.apply(this,arguments)}function Ot(){return(Ot=Object(y.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ie(t,"POST","/v1/accounts:signInWithEmailLink",Z(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jt(e,t){return xt.apply(this,arguments)}function xt(){return(xt=Object(y.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ie(t,"POST","/v1/accounts:signInWithEmailLink",Z(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Et=function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Object(l.a)(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Object(f.a)(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Object(y.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",lt(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",_t(t,{email:this._email,oobCode:this._password}));case 5:D(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Object(y.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ot(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",jt(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:D(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(rt);function St(e,t){return Tt.apply(this,arguments)}function Tt(){return(Tt=Object(y.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ie(t,"POST","/v1/accounts:signInWithIdp",Z(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var It=function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Object(f.a)(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return St(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,St(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,St(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Object(_.J)(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):D("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Object(j.f)(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return Object.assign(o,a),o}}]),n}(rt);function Ct(e,t){return Nt.apply(this,arguments)}function Nt(){return(Nt=Object(y.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:sendVerificationCode",Z(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pt(){return(Pt=Object(y.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ie(t,"POST","/v1/accounts:signInWithPhoneNumber",Z(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rt(){return(Rt=Object(y.a)(c.a.mark((function e(t,n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie(t,"POST","/v1/accounts:signInWithPhoneNumber",Z(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw se(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var At=Object(w.a)({},"USER_NOT_FOUND","user-not-found");function Dt(){return(Dt=Object(y.a)(c.a.mark((function e(t,n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",ie(t,"POST","/v1/accounts:signInWithPhoneNumber",Z(t,r),At));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Lt=function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Object(f.a)(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Pt.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Rt.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Dt.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(rt);var Mt=function(){function e(t){var n,r,i,a,o,u;Object(l.a)(this,e);var s=Object(_.K)(Object(_.q)(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,f=null!==(r=s.oobCode)&&void 0!==r?r:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);V(c&&f&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=f,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return Object(f.a)(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Object(_.K)(Object(_.q)(e)).link,n=t?Object(_.K)(Object(_.q)(t)).deep_link_id:null,r=Object(_.K)(Object(_.q)(e)).deep_link_id;return(r?Object(_.K)(Object(_.q)(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var Ft=function(){function e(){Object(l.a)(this,e),this.providerId=e.PROVIDER_ID}return Object(f.a)(e,null,[{key:"credential",value:function(e,t){return Et._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Mt.parseLink(t);return V(n,"argument-error"),Et._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Ft.PROVIDER_ID="password",Ft.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ft.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Ut=function(){function e(t){Object(l.a)(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Object(f.a)(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Vt=function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Object(f.a)(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Object(k.a)(this.scopes)}}]),n}(Ut),qt=function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"credential",value:function(e){return this._credential(e)}},{key:"_credential",value:function(e){return V(e.idToken||e.accessToken,"argument-error"),It._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return V("providerId"in t&&"signInMethod"in t,"argument-error"),It._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,rawNonce:u,pendingToken:o})}catch(c){return null}}}]),n}(Vt),zt=function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(){return Object(l.a)(this,n),t.call(this,"facebook.com")}return Object(f.a)(n,null,[{key:"credential",value:function(e){return It._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Vt);zt.FACEBOOK_SIGN_IN_METHOD="facebook.com",zt.PROVIDER_ID="facebook.com";var Bt=function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Object(f.a)(n,null,[{key:"credential",value:function(e,t){return It._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Vt);Bt.GOOGLE_SIGN_IN_METHOD="google.com",Bt.PROVIDER_ID="google.com";var Wt=function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(){return Object(l.a)(this,n),t.call(this,"github.com")}return Object(f.a)(n,null,[{key:"credential",value:function(e){return It._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Vt);Wt.GITHUB_SIGN_IN_METHOD="github.com",Wt.PROVIDER_ID="github.com";var Ht=function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(e,r){var i;return Object(l.a)(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Object(f.a)(n,[{key:"_getIdTokenResponse",value:function(e){return St(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,St(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,St(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(rt),Kt=function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(){return Object(l.a)(this,n),t.call(this,"twitter.com")}return Object(f.a)(n,null,[{key:"credential",value:function(e,t){return It._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Vt);function Gt(e,t){return Qt.apply(this,arguments)}function Qt(){return(Qt=Object(y.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ie(t,"POST","/v1/accounts:signUp",Z(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Kt.TWITTER_SIGN_IN_METHOD="twitter.com",Kt.PROVIDER_ID="twitter.com";var $t=function(){function e(t){Object(l.a)(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Object(f.a)(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Object(y.a)(c.a.mark((function t(n,r,i){var a,o,u,s,l=arguments;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=l.length>3&&void 0!==l[3]&&l[3],t.next=3,Re._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Yt(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Object(y.a)(c.a.mark((function t(n,r,i){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Yt(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Yt(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Jt(e){return Xt.apply(this,arguments)}function Xt(){return(Xt=Object(y.a)(c.a.mark((function e(t){var n,r,i,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xe(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new $t({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Gt(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,$t._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Zt=function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(e,r,i,a){var o,u;return Object(l.a)(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,o.name="FirebaseError",Object.setPrototypeOf(Object(m.a)(o),n.prototype),o.appName=e.name,o.code=r.code,o.tenantId=null!==(u=e.tenantId)&&void 0!==u?u:void 0,o.serverResponse=r.customData.serverResponse,o}return Object(f.a)(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(_.c);function en(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Zt._fromErrorAndOperation(e,n,t,r);throw n}))}function tn(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function nn(e,t){return rn.apply(this,arguments)}function rn(){return(rn=Object(y.a)(c.a.mark((function e(t,n){var r,i,a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(_.r)(t),e.next=3,un(!0,r,n);case 3:return e.t0=fe,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=tn(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function an(e,t){return on.apply(this,arguments)}function on(){return(on=Object(y.a)(c.a.mark((function e(t,n){var r,i,a=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=be,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",$t._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function un(e,t,n){return sn.apply(this,arguments)}function sn(){return(sn=Object(y.a)(c.a.mark((function e(t,n,r){var i,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je(n);case 2:i=tn(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",V(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cn(e,t){return ln.apply(this,arguments)}function ln(){return(ln=Object(y.a)(c.a.mark((function e(t,n){var r,i,a,o,u,s,l=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,be(t,en(i,a,n,t),r);case 6:return V((o=e.sent).idToken,i,"internal-error"),V(u=ge(o.idToken),i,"internal-error"),s=u.sub,V(t.uid===s,i,"user-mismatch"),e.abrupt("return",$t._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&D(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])})))).apply(this,arguments)}function fn(e,t){return hn.apply(this,arguments)}function hn(){return(hn=Object(y.a)(c.a.mark((function e(t,n){var r,i,a,o,u=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,en(t,i,n);case 4:return a=e.sent,e.next=7,$t._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dn(e,t){return pn.apply(this,arguments)}function pn(){return(pn=Object(y.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fn(Xe(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vn(e,t){return yn.apply(this,arguments)}function yn(){return(yn=Object(y.a)(c.a.mark((function e(t,n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(_.r)(t),e.next=3,un(!1,r,n.providerId);case 3:return e.abrupt("return",an(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mn(e,t){return gn.apply(this,arguments)}function gn(){return(gn=Object(y.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cn(Object(_.r)(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bn(e,t){return kn.apply(this,arguments)}function kn(){return(kn=Object(y.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ie(t,"POST","/v1/accounts:signInWithCustomToken",Z(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wn(e,t){return _n.apply(this,arguments)}function _n(){return(_n=Object(y.a)(c.a.mark((function e(t,n){var r,i,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xe(t),e.next=3,bn(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,$t._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var On=function(){function e(t,n){Object(l.a)(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Object(f.a)(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?jn._fromServerResponse(e,t):D(e,"internal-error")}}]),e}(),jn=function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Object(f.a)(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(On);function xn(e,t,n){var r;V((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),V("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(V(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iosBundleId=n.iOS.bundleId),n.android&&(V(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function En(e,t,n){return Sn.apply(this,arguments)}function Sn(){return(Sn=Object(y.a)(c.a.mark((function e(t,n,r){var i,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(_.r)(t),a={requestType:"PASSWORD_RESET",email:n},r&&xn(i,a,r),e.next=5,yt(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tn(e,t,n){return In.apply(this,arguments)}function In(){return(In=Object(y.a)(c.a.mark((function e(t,n,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,it(Object(_.r)(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cn(e,t){return Nn.apply(this,arguments)}function Nn(){return(Nn=Object(y.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,st(Object(_.r)(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pn(e,t){return Rn.apply(this,arguments)}function Rn(){return(Rn=Object(y.a)(c.a.mark((function e(t,n){var r,i,a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(_.r)(t),e.next=3,it(r,{oobCode:n});case 3:i=e.sent,V(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return V(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:V(i.mfaInfo,r,"internal-error");case 13:V(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=On._fromServerResponse(Xe(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function An(e,t){return Dn.apply(this,arguments)}function Dn(){return(Dn=Object(y.a)(c.a.mark((function e(t,n){var r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pn(Object(_.r)(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ln(e,t,n){return Mn.apply(this,arguments)}function Mn(){return(Mn=Object(y.a)(c.a.mark((function e(t,n,r){var i,a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Xe(t),e.next=3,Gt(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,$t._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fn(e,t,n){return dn(Object(_.r)(e),Ft.credential(t,n))}function Un(e,t,n){return Vn.apply(this,arguments)}function Vn(){return(Vn=Object(y.a)(c.a.mark((function e(t,n,r){var i,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(_.r)(t),a={requestType:"EMAIL_SIGNIN",email:n},V(r.handleCodeInApp,i,"argument-error"),r&&xn(i,a,r),e.next=6,gt(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qn(e,t){var n=Mt.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}function zn(e,t,n){return Bn.apply(this,arguments)}function Bn(){return(Bn=Object(y.a)(c.a.mark((function e(t,n,r){var i,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(_.r)(t),V((a=Ft.credentialWithLink(n,r||H()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",dn(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wn(e,t){return Hn.apply(this,arguments)}function Hn(){return(Hn=Object(y.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:createAuthUri",Z(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kn(e,t){return Gn.apply(this,arguments)}function Gn(){return(Gn=Object(y.a)(c.a.mark((function e(t,n){var r,i,a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=K()?H():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Wn(Object(_.r)(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qn(e,t){return $n.apply(this,arguments)}function $n(){return($n=Object(y.a)(c.a.mark((function e(t,n){var r,i,a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(_.r)(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&xn(r.auth,a,n),e.next=8,pt(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yn(e,t,n){return Jn.apply(this,arguments)}function Jn(){return(Jn=Object(y.a)(c.a.mark((function e(t,n,r){var i,a,o,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(_.r)(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&xn(i.auth,o,r),e.next=8,kt(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xn(e,t){return Zn.apply(this,arguments)}function Zn(){return(Zn=Object(y.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function er(e,t){return tr.apply(this,arguments)}function tr(){return(tr=Object(y.a)(c.a.mark((function e(t,n){var r,i,a,o,u,s,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Object(_.r)(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,be(a,Xn(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(l=a.providerData.find((function(e){return"password"===e.providerId})))&&(l.displayName=a.displayName,l.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nr(e,t){return ir(Object(_.r)(e),t,null)}function rr(e,t){return ir(Object(_.r)(e),null,t)}function ir(e,t,n){return ar.apply(this,arguments)}function ar(){return(ar=Object(y.a)(c.a.mark((function e(t,n,r){var i,a,o,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,be(t,ot(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var or=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(l.a)(this,e),this.isNewUser=t,this.providerId=n,this.profile=r},ur=function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(e,r,i,a){var o;return Object(l.a)(this,n),(o=t.call(this,e,r,i)).username=a,o}return n}(or),sr=function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(e,r){return Object(l.a)(this,n),t.call(this,e,"facebook.com",r)}return n}(or),cr=function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(e,r){return Object(l.a)(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return n}(ur),lr=function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(e,r){return Object(l.a)(this,n),t.call(this,e,"google.com",r)}return n}(or),fr=function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(e,r,i){return Object(l.a)(this,n),t.call(this,e,"twitter.com",r,i)}return n}(ur);function hr(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=ge(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new or(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new sr(a,i);case"github.com":return new cr(a,i);case"google.com":return new lr(a,i);case"twitter.com":return new fr(a,i,e.screenName||null);case"custom":case"anonymous":return new or(a,null);default:return new or(a,r,i)}}(n)}var dr=function(){function e(t,n){Object(l.a)(this,e),this.type=t,this.credential=n}return Object(f.a)(e,[{key:"toJSON",value:function(){var e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:Object(w.a)({},e,this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),pr=function(){function e(t,n,r){Object(l.a)(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Object(f.a)(e,[{key:"resolveSignIn",value:function(){var e=Object(y.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Xe(t),i=(n.serverResponse.mfaInfo||[]).map((function(e){return On._fromServerResponse(r,e)}));V(n.serverResponse.mfaPendingCredential,r,"internal-error");var a=dr._fromMfaPendingCredential(n.serverResponse.mfaPendingCredential);return new e(a,i,function(){var e=Object(y.a)(c.a.mark((function e(t){var i,o,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,a);case 2:i=e.sent,delete n.serverResponse.mfaInfo,delete n.serverResponse.mfaPendingCredential,o=Object.assign(Object.assign({},n.serverResponse),{idToken:i.idToken,refreshToken:i.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,$t._fromIdTokenResponse(r,n.operationType,o);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return V(n.user,r,"internal-error"),e.abrupt("return",$t._forOperation(n.user,n.operationType,o));case 17:D(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function vr(e,t){var n,r=Object(_.r)(e),i=t;return V(t.operationType,r,"argument-error"),V(null===(n=i.serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),pr._fromError(r,i)}function yr(e,t){return ee(e,"POST","/v2/accounts/mfaEnrollment:start",Object.assign({tenantId:e.tenantId},t))}var mr=function(){function e(t){var n=this;Object(l.a)(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return On._fromServerResponse(t.auth,e)})))}))}return Object(f.a)(e,[{key:"getSession",value:function(){var e=Object(y.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=dr,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Object(y.a)(c.a.mark((function e(t,n){var r,i,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,be(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Object(y.a)(c.a.mark((function e(t){var n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,be(this.user,(a=this.user.auth,o={idToken:r,mfaEnrollmentId:n},ee(a,"POST","/v2/accounts/mfaEnrollment:withdraw",Object.assign({tenantId:a.tenantId},o))));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var a,o}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),gr=new WeakMap;function br(e){var t=Object(_.r)(e);return gr.has(t)||gr.set(t,mr._fromUser(t)),gr.get(t)}var kr="__sak",wr=function(){function e(t,n){Object(l.a)(this,e),this.storage=t,this.type=n}return Object(f.a)(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(kr,"1"),this.storage.removeItem(kr),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}}]),e}();var _r=function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this,window.localStorage,"LOCAL")).listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Object(_.s)();return Ve(e)||Ke(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=$e(),e._shouldAllowMigration=!0,e.boundEventHandler=e.onStorageEvent.bind(Object(m.a)(e)),e}return Object(f.a)(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Qe()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Object(y.a)(c.a.mark((function e(t,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.a)(Object(d.a)(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Object(y.a)(c.a.mark((function e(t){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.a)(Object(d.a)(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Object(y.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.a)(Object(d.a)(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(wr);_r.type="LOCAL";var Or=_r,jr=function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(){return Object(l.a)(this,n),t.call(this,window.sessionStorage,"SESSION")}return Object(f.a)(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(wr);jr.type="SESSION";var xr=jr;function Er(e){return Promise.all(e.map(function(){var e=Object(y.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Sr=function(){function e(t){Object(l.a)(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Object(f.a)(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Object(y.a)(c.a.mark((function e(t){var n,r,i,a,o,u,s,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Object(y.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Er(s);case 9:l=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:l});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Tr(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Sr.receivers=[];var Ir=function(){function e(t){Object(l.a)(this,e),this.target=t,this.handlers=new Set}return Object(f.a)(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Object(y.a)(c.a.mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=Tr("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Cr(){return window}function Nr(){return"undefined"!==typeof Cr().WorkerGlobalScope&&"function"===typeof Cr().importScripts}function Pr(){return Rr.apply(this,arguments)}function Rr(){return(Rr=Object(y.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Ar(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Dr="firebaseLocalStorageDb",Lr="firebaseLocalStorage",Mr="fbase_key",Fr=function(){function e(t){Object(l.a)(this,e),this.request=t}return Object(f.a)(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Ur(e,t){return e.transaction([Lr],t?"readwrite":"readonly").objectStore(Lr)}function Vr(){var e=indexedDB.deleteDatabase(Dr);return new Fr(e).toPromise()}function qr(){var e=indexedDB.open(Dr,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Lr,{keyPath:Mr})}catch(r){n(r)}})),e.addEventListener("success",Object(y.a)(c.a.mark((function n(){var r;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Lr)){n.next=12;break}return r.close(),n.next=5,Vr();case 5:return n.t0=t,n.next=8,qr();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function zr(e,t,n){return Br.apply(this,arguments)}function Br(){return(Br=Object(y.a)(c.a.mark((function e(t,n,r){var i,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ur(t,!0).put((i={},Object(w.a)(i,Mr,n),Object(w.a)(i,"value",r),i)),e.abrupt("return",new Fr(a).toPromise());case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wr(e,t){return Hr.apply(this,arguments)}function Hr(){return(Hr=Object(y.a)(c.a.mark((function e(t,n){var r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ur(t,!1).get(n),e.next=3,new Fr(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kr(e,t){var n=Ur(e,!0).delete(t);return new Fr(n).toPromise()}var Gr=function(){function e(){Object(l.a)(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Object(f.a)(e,[{key:"_openDb",value:function(){var e=Object(y.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,qr();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Object(y.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Object(y.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nr()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Object(y.a)(c.a.mark((function e(){var t=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Sr._getInstance(Nr()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Object(y.a)(c.a.mark((function e(n,r){var i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Object(y.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Object(y.a)(c.a.mark((function e(){var t,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pr();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Ir(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Object(y.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Ar()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Object(y.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,qr();case 5:return t=e.sent,e.next=8,zr(t,kr,"1");case 8:return e.next=10,Kr(t,kr);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Object(y.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Object(y.a)(c.a.mark((function e(t,n){var r=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Object(y.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return zr(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Object(y.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Wr(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Object(y.a)(c.a.mark((function e(t){var n=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Object(y.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Kr(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Object(y.a)(c.a.mark((function e(){var t,n,r,i,a,o,u,s,l,f,h;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Ur(e,!1).getAll();return new Fr(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Object(g.a)(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(c){i.e(c)}finally{i.f()}for(l=0,f=Object.keys(this.localCache);l<f.length;l++)h=f[l],this.localCache[h]&&!r.has(h)&&(this.notifyListeners(h,null),n.push(h));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Object(y.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Gr.type="LOCAL";var Qr=Gr;function $r(e,t){return ee(e,"POST","/v2/accounts/mfaSignIn:start",Object.assign({tenantId:e.tenantId},t))}function Yr(e){return Jr.apply(this,arguments)}function Jr(){return(Jr=Object(y.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xr(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=L("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Zr(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var ei=1e12,ti=function(){function e(t){Object(l.a)(this,e),this.auth=t,this.counter=ei,this._widgets=new Map}return Object(f.a)(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new ni(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||ei;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||ei;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Object(y.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||ei,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ni=function(){function e(t,n,r){var i=this;Object(l.a)(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;V(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Object(f.a)(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var ri=Zr("rcb"),ii=new Q(3e4,6e4),ai="https://www.google.com/recaptcha/api.js?",oi=function(){function e(){Object(l.a)(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Cr().grecaptcha}return Object(f.a)(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return V(ui(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Cr().grecaptcha):new Promise((function(r,i){var a=Cr().setTimeout((function(){i(L(e,"network-request-failed"))}),ii.get());Cr()[ri]=function(){Cr().clearTimeout(a),delete Cr()[ri];var o=Cr().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(L(e,"internal-error"))},Xr("".concat(ai,"?").concat(Object(_.J)({onload:ri,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(L(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!Cr().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function ui(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var si=function(){function e(){Object(l.a)(this,e)}return Object(f.a)(e,[{key:"load",value:function(){var e=Object(y.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new ti(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),ci="recaptcha",li={theme:"light",type:"image"},fi=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},li),r=arguments.length>2?arguments[2]:void 0;Object(l.a)(this,e),this.parameters=n,this.type=ci,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Xe(r),this.isInvisible="invisible"===this.parameters.size,V("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;V(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new si:new oi,this.validateStartingState()}return Object(f.a)(e,[{key:"verify",value:function(){var e=Object(y.a)(c.a.mark((function e(){var t,n,r,i=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){V(!this.parameters.sitekey,this.auth,"argument-error"),V(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),V("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Cr()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){V(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Object(y.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Object(y.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V(K()&&!Nr(),this.auth,"internal-error"),e.next=3,hi();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Yr(this.auth);case 8:V(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return V(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function hi(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var di=function(){function e(t,n){Object(l.a)(this,e),this.verificationId=t,this.onConfirmation=n}return Object(f.a)(e,[{key:"confirm",value:function(e){var t=Lt._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function pi(e,t,n){return vi.apply(this,arguments)}function vi(){return(vi=Object(y.a)(c.a.mark((function e(t,n,r){var i,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Xe(t),e.next=3,ki(i,n,Object(_.r)(r));case 3:return a=e.sent,e.abrupt("return",new di(a,(function(e){return dn(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yi(e,t,n){return mi.apply(this,arguments)}function mi(){return(mi=Object(y.a)(c.a.mark((function e(t,n,r){var i,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(_.r)(t),e.next=3,un(!1,i,"phone");case 3:return e.next=5,ki(i.auth,n,Object(_.r)(r));case 5:return a=e.sent,e.abrupt("return",new di(a,(function(e){return vn(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gi(e,t,n){return bi.apply(this,arguments)}function bi(){return(bi=Object(y.a)(c.a.mark((function e(t,n,r){var i,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(_.r)(t),e.next=3,ki(i.auth,n,Object(_.r)(r));case 3:return a=e.sent,e.abrupt("return",new di(a,(function(e){return mn(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ki(e,t,n){return wi.apply(this,arguments)}function wi(){return(wi=Object(y.a)(c.a.mark((function e(t,n,r){var i,a,o,u,s,l,f,h,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,V("string"===typeof a,t,"argument-error"),V(r.type===ci,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return V("enroll"===u.type,t,"internal-error"),e.next=13,yr(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return V("signin"===u.type,t,"internal-error"),V(l=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,$r(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:l,phoneSignInInfo:{recaptchaToken:a}});case 22:return f=e.sent,e.abrupt("return",f.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Ct(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return h=e.sent,d=h.sessionInfo,e.abrupt("return",d);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])})))).apply(this,arguments)}function _i(e,t){return Oi.apply(this,arguments)}function Oi(){return(Oi=Object(y.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,an(Object(_.r)(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ji=function(){function e(t){Object(l.a)(this,e),this.providerId=e.PROVIDER_ID,this.auth=Xe(t)}return Object(f.a)(e,[{key:"verifyPhoneNumber",value:function(e,t){return ki(this.auth,e,Object(_.r)(t))}}],[{key:"credential",value:function(e,t){return Lt._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Lt._fromTokenResponse(n,r):null}}]),e}();function xi(e,t){return t?W(t):(V(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}ji.PROVIDER_ID="phone",ji.PHONE_SIGN_IN_METHOD="phone";var Ei=function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Object(f.a)(n,[{key:"_getIdTokenResponse",value:function(e){return St(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return St(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return St(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(rt);function Si(e){return fn(e.auth,new Ei(e),e.bypassAuthState)}function Ti(e){var t=e.auth,n=e.user;return V(n,t,"internal-error"),cn(n,new Ei(e),e.bypassAuthState)}function Ii(e){return Ci.apply(this,arguments)}function Ci(){return(Ci=Object(y.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,V(r=t.user,n,"internal-error"),e.abrupt("return",an(r,new Ei(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ni=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Object(l.a)(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Object(f.a)(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Object(y.a)(c.a.mark((function t(n,r){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Object(y.a)(c.a.mark((function e(t){var n,r,i,a,o,u,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Si;case"linkViaPopup":case"linkViaRedirect":return Ii;case"reauthViaPopup":case"reauthViaRedirect":return Ti;default:D(this.auth,"internal-error")}}},{key:"resolve",value:function(e){z(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){z(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Pi=new Q(2e3,1e4);function Ri(e,t,n){return Ai.apply(this,arguments)}function Ai(){return(Ai=Object(y.a)(c.a.mark((function e(t,n,r){var i,a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Xe(t),F(t,n,Ut),a=xi(i,r),o=new Ui(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Di(e,t,n){return Li.apply(this,arguments)}function Li(){return(Li=Object(y.a)(c.a.mark((function e(t,n,r){var i,a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F((i=Object(_.r)(t)).auth,n,Ut),a=xi(i.auth,r),o=new Ui(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mi(e,t,n){return Fi.apply(this,arguments)}function Fi(){return(Fi=Object(y.a)(c.a.mark((function e(t,n,r){var i,a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F((i=Object(_.r)(t)).auth,n,Ut),a=xi(i.auth,r),o=new Ui(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ui=function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(e,r,i,a,o){var u;return Object(l.a)(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Object(m.a)(u),u}return Object(f.a)(n,[{key:"executeNotNull",value:function(){var e=Object(y.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return V(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Object(y.a)(c.a.mark((function e(){var t,n=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(1===this.filter.length,"Popup operations only handle one event"),t=Tr(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(L(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(L(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(L(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Pi.get())}()}}]),n}(Ni);Ui.currentPopupAction=null;var Vi=new Map,qi=function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(l.a)(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Object(f.a)(n,[{key:"execute",value:function(){var e=Object(y.a)(c.a.mark((function e(){var t,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Vi.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,zi(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Object(h.a)(Object(d.a)(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Vi.set(this.auth._key(),t);case 21:return e.abrupt("return",t());case 22:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Object(y.a)(c.a.mark((function e(t){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Object(h.a)(Object(d.a)(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Object(h.a)(Object(d.a)(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Object(y.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Ni);function zi(e,t){return Bi.apply(this,arguments)}function Bi(){return(Bi=Object(y.a)(c.a.mark((function e(t,n){var r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Gi(n),e.next=3,Ki(t)._get(r);case 3:return e.t0=e.sent,i="true"===e.t0,e.next=7,Ki(t)._remove(r);case 7:return e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wi(e,t){return Hi.apply(this,arguments)}function Hi(){return(Hi=Object(y.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ki(t)._set(Gi(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ki(e){return W(e._redirectPersistence)}function Gi(e){return Le("pendingRedirect",e.config.apiKey,e.name)}function Qi(e,t,n){return function(e,t,n){return $i.apply(this,arguments)}(e,t,n)}function $i(){return($i=Object(y.a)(c.a.mark((function e(t,n,r){var i,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Xe(t),F(t,n,Ut),a=xi(i,r),e.next=5,Wi(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yi(e,t,n){return function(e,t,n){return Ji.apply(this,arguments)}(e,t,n)}function Ji(){return(Ji=Object(y.a)(c.a.mark((function e(t,n,r){var i,a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F((i=Object(_.r)(t)).auth,n,Ut),a=xi(i.auth,r),e.next=5,Wi(a,i.auth);case 5:return e.next=7,ia(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xi(e,t,n){return function(e,t,n){return Zi.apply(this,arguments)}(e,t,n)}function Zi(){return(Zi=Object(y.a)(c.a.mark((function e(t,n,r){var i,a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F((i=Object(_.r)(t)).auth,n,Ut),a=xi(i.auth,r),e.next=5,un(!1,i,n.providerId);case 5:return e.next=7,Wi(a,i.auth);case 7:return e.next=9,ia(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ea(e,t){return ta.apply(this,arguments)}function ta(){return(ta=Object(y.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xe(t)._initializationPromise;case 2:return e.abrupt("return",na(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function na(e,t){return ra.apply(this,arguments)}function ra(){return(ra=Object(y.a)(c.a.mark((function e(t,n){var r,i,a,o,u,s=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Xe(t),a=xi(i,n),o=new qi(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ia(e){return aa.apply(this,arguments)}function aa(){return(aa=Object(y.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Tr("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var oa=function(){function e(t){Object(l.a)(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Object(f.a)(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sa(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!sa(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(L(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ua(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(ua(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function ua(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function sa(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function ca(e){return la.apply(this,arguments)}function la(){return(la=Object(y.a)(c.a.mark((function e(t){var n,r=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",ee(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var fa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ha=/^https?/;function da(){return(da=Object(y.a)(c.a.mark((function e(t){var n,r,i,a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ca(t);case 4:n=e.sent,r=n.authorizedDomains,i=Object(g.a)(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!pa(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:D(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function pa(e){var t=H(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!ha.test(r))return!1;if(fa.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var va=new Q(3e4,6e4);function ya(){var e=Cr().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Object(k.a)(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var ma=null;function ga(e){return ma=ma||function(e){return new Promise((function(t,n){var r,i,a;function o(){ya(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){ya(),n(L(e,"network-request-failed"))},timeout:va.get()})}if(null===(i=null===(r=Cr().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Cr().gapi)||void 0===a?void 0:a.load)){var u=Zr("iframefcb");return Cr()[u]=function(){gapi.load?o():n(L(e,"network-request-failed"))},Xr("https://apis.google.com/js/api.js?onload=".concat(u))}o()}})).catch((function(e){throw ma=null,e}))}(e)}var ba=new Q(5e3,15e3),ka={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},wa=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _a(e){var t=e.config;V(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?$(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:O.SDK_VERSION},i=wa.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Object(_.J)(r).slice(1))}function Oa(e){return ja.apply(this,arguments)}function ja(){return(ja=Object(y.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga(t);case 2:return n=e.sent,V(r=Cr().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:_a(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ka,dontclear:!0},(function(e){return new Promise(function(){var n=Object(y.a)(c.a.mark((function n(r,i){var a,o,u;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Cr().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=L(t,"network-request-failed"),o=Cr().setTimeout((function(){i(a)}),ba.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xa={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ea="_blank",Sa="http://localhost",Ta=function(){function e(t){Object(l.a)(this,e),this.window=t,this.associatedEvent=null}return Object(f.a)(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Ia(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},xa),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Object(_.s)().toLowerCase();n&&(u=qe(c)?Ea:n),Ue(c)&&(t=t||Sa,s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=Object(b.a)(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Ge(c)&&"_self"!==u)return Ca(t||"",u),new Ta(null);var f=window.open(t||"",u,l);V(f,e,"popup-blocked");try{f.focus()}catch(h){}return new Ta(f)}function Ca(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Na="__/auth/handler",Pa="emulator/auth/handler";function Ra(e,t,n,r,i,a){V(e.config.authDomain,e,"auth-domain-config-required"),V(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:O.SDK_VERSION,eventId:i};if(t instanceof Ut){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Object(_.x)(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=Object(b.a)(s[u],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof Vt){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,v=Object.keys(d);p<v.length;p++){var y=v[p];void 0===d[y]&&delete d[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Na);return $(t,Pa)}(e),"?").concat(Object(_.J)(d).slice(1))}var Aa,Da="webStorageSupport",La=function(){function e(){Object(l.a)(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xr,this._completeRedirectFn=na}return Object(f.a)(e,[{key:"_openPopup",value:function(){var e=Object(y.a)(c.a.mark((function e(t,n,r,i){var a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Ra(t,n,r,H(),i),e.abrupt("return",Ia(t,o,Tr()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Object(y.a)(c.a.mark((function e(t,n,r,i){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Ra(t,n,r,H(),i),Cr().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=e._key();if(this.eventManagers[t]){var n=this.eventManagers[t],r=n.manager,i=n.promise;return r?Promise.resolve(r):(z(i,"If manager is not set, promise should be"),i)}var a=this.initAndGetManager(e);return this.eventManagers[t]={promise:a},a}},{key:"initAndGetManager",value:function(){var e=Object(y.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oa(t);case 2:return n=e.sent,r=new oa(t),n.register("authEvent",(function(e){return V(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Da,{type:Da},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),D(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return da.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return $e()||Ve()||Ke()}}]),e}(),Ma=function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,"phone")).credential=e,r}return Object(f.a)(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return ee(e,"POST","/v2/accounts/mfaEnrollment:finalize",Object.assign({tenantId:e.tenantId},t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return ee(e,"POST","/v2/accounts/mfaSignIn:finalize",Object.assign({tenantId:e.tenantId},t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){Object(l.a)(this,e),this.factorId=t}return Object(f.a)(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return q("unexpected MultiFactorSessionType")}}}]),e}()),Fa=function(){function e(){Object(l.a)(this,e)}return Object(f.a)(e,null,[{key:"assertion",value:function(e){return Ma._fromCredential(e)}}]),e}(),Ua=function(){function e(t){Object(l.a)(this,e),this.auth=t,this.internalListeners=new Map}return Object(f.a)(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Object(y.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){V(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function Va(){return window}Aa="Browser",Object(O._registerComponent)(new E.a("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=r.options,a=i.apiKey,o=i.authDomain;return function(e){V(a&&!a.includes(":"),"invalid-api-key",{appName:e.name}),V(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:e.name});var t={apiKey:a,authDomain:o,clientPlatform:Aa,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ye(Aa)},r=new Je(e,t);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(W);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(r,n),r}(r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Object(O._registerComponent)(new E.a("auth-internal",(function(e){return function(e){return new Ua(e)}(Xe(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Object(O.registerVersion)("@firebase/auth","0.17.2",function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Aa));function qa(e,t,n){return za.apply(this,arguments)}function za(){return(za=Object(y.a)(c.a.mark((function e(t,n,r){var i,a,o,u,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Va(),o=a.BuildInfo,z(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Qa(n.sessionId);case 4:return u=e.sent,s={},Ke()?s.ibi=o.packageName:Be()?s.apn=o.packageName:D(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",Ra(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ba(){return(Ba=Object(y.a)(c.a.mark((function e(t){var n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Va(),r=n.BuildInfo,i={},Ke()?i.iosBundleId=r.packageName:Be()?i.androidPackageName=r.packageName:D(t,"operation-not-supported-in-this-environment"),e.next=5,ca(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wa(e){var t=Va().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(_.s)();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Ha(e,t,n){return Ka.apply(this,arguments)}function Ka(){return(Ka=Object(y.a)(c.a.mark((function e(t,n,r){var i,a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Va(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(L(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Be()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])})))).apply(this,arguments)}function Ga(e){var t,n,r,i,a,o,u,s,c,l,f=Va();V("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),V("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),V("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),V("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),V("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Qa(e){return $a.apply(this,arguments)}function $a(){return($a=Object(y.a)(c.a.mark((function e(t){var n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ya(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ya(e){if(z(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Ja=function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Object(f.a)(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Object(h.a)(Object(d.a)(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Object(y.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(oa);function Xa(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:ro(),postBody:null,tenantId:e.tenantId,error:L(e,"no-auth-event")}}function Za(e,t){return io()._set(ao(e),t)}function eo(e){return to.apply(this,arguments)}function to(){return(to=Object(y.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,io()._get(ao(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,io()._remove(ao(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function no(e,t){var n,r,i=function(e){var t=oo(e),n=t.link?decodeURIComponent(t.link):void 0,r=oo(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return oo(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=oo(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?L(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function ro(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function io(){return W(Or)}function ao(e){return Le("authEvent",e.config.apiKey,e.name)}function oo(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),u=(t=n,Object(r.a)(t)||Object(i.a)(t)||Object(a.a)(t)||Object(o.a)()),s=(u[0],u.slice(1));return Object(_.K)(s.join("?"))}var uo=function(){function e(){Object(l.a)(this,e),this._redirectPersistence=xr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=na}return Object(f.a)(e,[{key:"_initialize",value:function(){var e=Object(y.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Ja(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){D(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Object(y.a)(c.a.mark((function e(t,n,r,i){var a,o,u,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ga(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Vi.clear(),e.next=10,this._originValidation(t);case 10:return o=Xa(t,r,i),e.next=13,Za(t,o);case 13:return e.next=15,qa(t,o,n);case 15:return u=e.sent,e.next=18,Wa(u);case 18:return s=e.sent,e.abrupt("return",Ha(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Ba.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Va(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Object(y.a)(c.a.mark((function n(){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,eo(e);case 2:t.onEvent(so());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Object(y.a)(c.a.mark((function n(r){var i,a;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,eo(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=no(i,r.url)),t.onEvent(a||so());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,l="".concat(a.packageName.toLowerCase(),"://");Va().handleOpenURL=function(){var e=Object(y.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(l)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}();function so(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:L("no-auth-event")}}function co(e,t){Xe(e)._logFramework(t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(51);function i(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Object(r.a)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw o}}}}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return bl})),n.d(t,"b",(function(){return vc})),n.d(t,"c",(function(){return ec})),n.d(t,"d",(function(){return Bs})),n.d(t,"e",(function(){return Qc})),n.d(t,"f",(function(){return pc})),n.d(t,"g",(function(){return L})),n.d(t,"h",(function(){return mc})),n.d(t,"i",(function(){return $c})),n.d(t,"j",(function(){return Yc})),n.d(t,"k",(function(){return Y})),n.d(t,"l",(function(){return _l})),n.d(t,"m",(function(){return Ns})),n.d(t,"n",(function(){return ge})),n.d(t,"o",(function(){return ie})),n.d(t,"p",(function(){return Fs})),n.d(t,"q",(function(){return R})),n.d(t,"r",(function(){return oe})),n.d(t,"s",(function(){return I})),n.d(t,"t",(function(){return As})),n.d(t,"u",(function(){return Al})),n.d(t,"v",(function(){return Hl})),n.d(t,"w",(function(){return Wl})),n.d(t,"x",(function(){return uc})),n.d(t,"y",(function(){return Ks})),n.d(t,"z",(function(){return Gs})),n.d(t,"A",(function(){return zs})),n.d(t,"B",(function(){return Rl})),n.d(t,"C",(function(){return zl})),n.d(t,"D",(function(){return lc})),n.d(t,"E",(function(){return Qs})),n.d(t,"F",(function(){return ic})),n.d(t,"G",(function(){return ac})),n.d(t,"H",(function(){return cc})),n.d(t,"I",(function(){return pl})),n.d(t,"J",(function(){return dl})),n.d(t,"K",(function(){return nc})),n.d(t,"L",(function(){return Ml})),n.d(t,"M",(function(){return jl})),n.d(t,"N",(function(){return El})),n.d(t,"O",(function(){return Sl})),n.d(t,"P",(function(){return Tl})),n.d(t,"Q",(function(){return Il})),n.d(t,"R",(function(){return Cl})),n.d(t,"S",(function(){return Kl})),n.d(t,"T",(function(){return ul})),n.d(t,"U",(function(){return sl})),n.d(t,"V",(function(){return fc})),n.d(t,"W",(function(){return hc})),n.d(t,"X",(function(){return Dl})),n.d(t,"Y",(function(){return Ll})),n.d(t,"Z",(function(){return al})),n.d(t,"ab",(function(){return tl})),n.d(t,"bb",(function(){return Ys})),n.d(t,"cb",(function(){return $s})),n.d(t,"db",(function(){return ql})),n.d(t,"eb",(function(){return Bl})),n.d(t,"fb",(function(){return Nl})),n.d(t,"gb",(function(){return E})),n.d(t,"hb",(function(){return Xc})),n.d(t,"ib",(function(){return fl})),n.d(t,"jb",(function(){return ll})),n.d(t,"kb",(function(){return Pl})),n.d(t,"lb",(function(){return sc})),n.d(t,"mb",(function(){return rl}));var r=n(62),i=n(34),a=n(29),o=n(20),u=n(12),s=n(0),c=n.n(s),l=n(4),f=n(9),h=n(10),d=n(105),p=n(26),v=n(3),y=n(5),m=n(19),g=n(27),b=n(30),k=n(2),w=n(35),_=function(){function e(t){Object(v.a)(this,e),this.uid=t}return Object(y.a)(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();_.UNAUTHENTICATED=new _(null),_.GOOGLE_CREDENTIALS=new _("google-credentials-uid"),_.FIRST_PARTY=new _("first-party-uid"),_.MOCK_USER=new _("mock-user");var O="9.0.2",j=new b.b("@firebase/firestore");function x(){return j.logLevel}function E(e){j.setLogLevel(e)}function S(e){if(j.logLevel<=b.a.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(C);j.debug.apply(j,["Firestore (".concat(O,"): ").concat(e)].concat(Object(p.a)(i)))}}function T(e){if(j.logLevel<=b.a.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(C);j.error.apply(j,["Firestore (".concat(O,"): ").concat(e)].concat(Object(p.a)(i)))}}function I(e){if(j.logLevel<=b.a.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(C);j.warn.apply(j,["Firestore (".concat(O,"): ").concat(e)].concat(Object(p.a)(i)))}}function C(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function N(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(O,") INTERNAL ASSERTION FAILED: ")+e;throw T(t),new Error(t)}function P(e,t){e||N()}function R(e,t){e||N()}function A(e,t){return e}var D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},L=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(v.a)(this,n),(i=t.call(this,r)).code=e,i.message=r,i.name="FirebaseError",i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return n}(Object(d.a)(Error)),M=function e(){var t=this;Object(v.a)(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},F=function e(t,n){Object(v.a)(this,e),this.user=n,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer ".concat(t)},U=function(){function e(){Object(v.a)(this,e)}return Object(y.a)(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(_.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),V=function(){function e(t){Object(v.a)(this,e),this.token=t,this.changeListener=null}return Object(y.a)(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),q=function(){function e(t){Object(v.a)(this,e),this.t=t,this.currentUser=_.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Object(y.a)(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new M;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new M,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){S("FirebaseCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(S("FirebaseCredentialsProvider","Auth not yet detected"),a.resolve(),a=new M)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(S("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(P("string"==typeof n.accessToken),new F(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return P(null===e||"string"==typeof e),new _(e)}}]),e}(),z=function(){function e(t,n,r){Object(v.a)(this,e),this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=_.FIRST_PARTY}return Object(y.a)(e,[{key:"authHeaders",get:function(){var e={"X-Goog-AuthUser":this.l},t=this.h.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}]),e}(),B=function(){function e(t,n,r){Object(v.a)(this,e),this.h=t,this.l=n,this.m=r}return Object(y.a)(e,[{key:"getToken",value:function(){return Promise.resolve(new z(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(_.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),W=function(){function e(t,n){var r=this;Object(v.a)(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.g(e)},this.p=function(e){return n.writeSequenceNumber(e)})}return Object(y.a)(e,[{key:"g",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.p&&this.p(e),e}}]),e}();function H(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}W.T=-1;var K=function(){function e(){Object(v.a)(this,e)}return Object(y.a)(e,null,[{key:"I",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=H(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function G(e,t){return e<t?-1:e>t?1:0}function Q(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function $(e){return e+"\0"}var Y=function(){function e(t,n){if(Object(v.a)(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new L(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new L(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new L(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new L(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Object(y.a)(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?G(this.nanoseconds,e.nanoseconds):G(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),J=function(){function e(t){Object(v.a)(this,e),this.timestamp=t}return Object(y.a)(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Y(0,0))}}]),e}();function X(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Z(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ee(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var te=function(){function e(t,n,r){Object(v.a)(this,e),void 0===n?n=0:n>t.length&&N(),void 0===r?r=t.length-n:r>t.length-n&&N(),this.segments=t,this.offset=n,this.len=r}return Object(y.a)(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),ne=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new L(D.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,Object(p.a)(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(te),re=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ie=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return re.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new L(D.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new L(D.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new L(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new L(D.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(te),ae=function(){function e(t){Object(v.a)(this,e),this.fields=t,t.sort(ie.comparator)}return Object(y.a)(e,[{key:"covers",value:function(e){var t,n=Object(u.a)(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Q(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();function oe(){return"undefined"!=typeof atob}var ue=function(){function e(t){Object(v.a)(this,e),this.binaryString=t}return Object(y.a)(e,[{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return G(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(t){return new e(atob(t))}},{key:"fromUint8Array",value:function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))}}]),e}();ue.EMPTY_BYTE_STRING=new ue("");var se=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ce(e){if(P(!!e),"string"==typeof e){var t=0,n=se.exec(e);if(P(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:le(e.seconds),nanos:le(e.nanos)}}function le(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function fe(e){return"string"==typeof e?ue.fromBase64String(e):ue.fromUint8Array(e)}function he(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function de(e){var t=e.mapValue.fields.__previous_value__;return he(t)?de(t):t}function pe(e){var t=ce(e.mapValue.fields.__local_write_time__.timestampValue);return new Y(t.seconds,t.nanos)}function ve(e){return null==e}function ye(e){return 0===e&&1/e==-1/0}function me(e){return"number"==typeof e&&Number.isInteger(e)&&!ye(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var ge=function(){function e(t){Object(v.a)(this,e),this.path=t}return Object(y.a)(e,[{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"isEqual",value:function(e){return null!==e&&0===ne.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(ne.fromString(t))}},{key:"fromName",value:function(t){return new e(ne.fromString(t).popFirst(5))}},{key:"comparator",value:function(e,t){return ne.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new ne(t.slice()))}}]),e}();function be(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?he(e)?4:10:N()}function ke(e,t){var n=be(e);if(n!==be(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return pe(e).isEqual(pe(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=ce(e.timestampValue),r=ce(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return fe(e.bytesValue).isEqual(fe(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return le(e.geoPointValue.latitude)===le(t.geoPointValue.latitude)&&le(e.geoPointValue.longitude)===le(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return le(e.integerValue)===le(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=le(e.doubleValue),r=le(t.doubleValue);return n===r?ye(n)===ye(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Q(e.arrayValue.values||[],t.arrayValue.values||[],ke);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(X(n)!==X(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ke(n[i],r[i])))return!1;return!0}(e,t);default:return N()}}function we(e,t){return void 0!==(e.values||[]).find((function(e){return ke(e,t)}))}function _e(e,t){var n=be(e),r=be(t);if(n!==r)return G(n,r);switch(n){case 0:return 0;case 1:return G(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=le(e.integerValue||e.doubleValue),r=le(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Oe(e.timestampValue,t.timestampValue);case 4:return Oe(pe(e),pe(t));case 5:return G(e.stringValue,t.stringValue);case 6:return function(e,t){var n=fe(e),r=fe(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=G(n[i],r[i]);if(0!==a)return a}return G(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=G(le(e.latitude),le(t.latitude));return 0!==n?n:G(le(e.longitude),le(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=_e(n[i],r[i]);if(a)return a}return G(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=G(r[o],a[o]);if(0!==u)return u;var s=_e(n[r[o]],i[a[o]]);if(0!==s)return s}return G(r.length,a.length)}(e.mapValue,t.mapValue);default:throw N()}}function Oe(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return G(e,t);var n=ce(e),r=ce(t),i=G(n.seconds,r.seconds);return 0!==i?i:G(n.nanos,r.nanos)}function je(e){return xe(e)}function xe(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=ce(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?fe(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,ge.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Object(u.a)(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=xe(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n=Object.keys(e.fields||{}).sort(),r="{",i=!0,a=Object(u.a)(n);try{for(a.s();!(t=a.n()).done;){var o=t.value;i?i=!1:r+=",",r+="".concat(o,":").concat(xe(e.fields[o]))}}catch(s){a.e(s)}finally{a.f()}return r+"}"}(e.mapValue):N();var t,n}function Ee(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Se(e){return!!e&&"integerValue"in e}function Te(e){return!!e&&"arrayValue"in e}function Ie(e){return!!e&&"nullValue"in e}function Ce(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ne(e){return!!e&&"mapValue"in e}function Pe(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Z(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Pe(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Pe(e.arrayValue.values[r]);return n}return Object.assign({},e)}var Re=function(){function e(t){Object(v.a)(this,e),this.value=t}return Object(y.a)(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Ne(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pe(t)}},{key:"setAll",value:function(e){var t=this,n=ie.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Pe(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Ne(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return ke(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Ne(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Z(t,(function(t,n){return e[t]=n}));var r,i=Object(u.a)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Pe(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Ae(e){var t=[];return Z(e.fields,(function(e,n){var r=new ie([e]);if(Ne(n)){var i=Ae(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Object(u.a)(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(c){o.e(c)}finally{o.f()}}}else t.push(r)})),new ae(t)}var De=function(){function e(t,n,r,i,a){Object(v.a)(this,e),this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=a}return Object(y.a)(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Re.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Re.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"clone",value:function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,J.min(),Re.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Re.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Re.empty(),2)}}]),e}(),Le=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Object(v.a)(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.A=null};function Me(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Le(e,t,n,r,i,a,o)}function Fe(e){var t=A(e);if(null===t.A){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+je(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),ve(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Je(t.startAt)),t.endAt&&(n+="|ub:",n+=Je(t.endAt)),t.A=n}return t.A}function Ue(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Ze(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!ke(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!tt(e.startAt,t.startAt)&&tt(e.endAt,t.endAt)}function Ve(e){return ge.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var qe=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i){var a;return Object(v.a)(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Object(y.a)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.P(_e(t,this.value)):null!==t&&be(this.value)===be(t)&&this.P(_e(t,this.value))}},{key:"P",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return N()}}},{key:"v",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.R(e,t,r):new ze(e,t,r):"array-contains"===t?new Ke(e,r):"in"===t?new Ge(e,r):"not-in"===t?new Qe(e,r):"array-contains-any"===t?new $e(e,r):new n(e,t,r)}},{key:"R",value:function(e,t,n){return"in"===t?new Be(e,n):new We(e,n)}}]),n}(function(){return function e(){Object(v.a)(this,e)}}());var ze=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i){var a;return Object(v.a)(this,n),(a=t.call(this,e,r,i)).key=ge.fromName(i.referenceValue),a}return Object(y.a)(n,[{key:"matches",value:function(e){var t=ge.comparator(e.key,this.key);return this.P(t)}}]),n}(qe),Be=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(v.a)(this,n),(i=t.call(this,e,"in",r)).keys=He("in",r),i}return Object(y.a)(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(qe),We=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(v.a)(this,n),(i=t.call(this,e,"not-in",r)).keys=He("not-in",r),i}return Object(y.a)(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(qe);function He(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return ge.fromName(e.referenceValue)}))}var Ke=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){return Object(v.a)(this,n),t.call(this,e,"array-contains",r)}return Object(y.a)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Te(t)&&we(t.arrayValue,this.value)}}]),n}(qe),Ge=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){return Object(v.a)(this,n),t.call(this,e,"in",r)}return Object(y.a)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&we(this.value.arrayValue,t)}}]),n}(qe),Qe=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){return Object(v.a)(this,n),t.call(this,e,"not-in",r)}return Object(y.a)(n,[{key:"matches",value:function(e){if(we(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!we(this.value.arrayValue,t)}}]),n}(qe),$e=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){return Object(v.a)(this,n),t.call(this,e,"array-contains-any",r)}return Object(y.a)(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Te(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return we(t.value.arrayValue,e)}))}}]),n}(qe),Ye=function e(t,n){Object(v.a)(this,e),this.position=t,this.before=n};function Je(e){return"".concat(e.before?"b":"a",":").concat(e.position.map((function(e){return je(e)})).join(","))}var Xe=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Object(v.a)(this,e),this.field=t,this.dir=n};function Ze(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function et(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?ge.comparator(ge.fromName(o.referenceValue),n.key):_e(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function tt(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!ke(e.position[n],t.position[n]))return!1;return!0}var nt=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Object(v.a)(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.V=null,this.S=null,this.startAt,this.endAt};function rt(e,t,n,r,i,a,o,u){return new nt(e,t,n,r,i,a,o,u)}function it(e){return new nt(e)}function at(e){return!ve(e.limit)&&"F"===e.limitType}function ot(e){return!ve(e.limit)&&"L"===e.limitType}function ut(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function st(e){var t,n=Object(u.a)(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.v())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function ct(e){return null!==e.collectionGroup}function lt(e){var t=A(e);if(null===t.V){t.V=[];var n=st(t),r=ut(t);if(null!==n&&null===r)n.isKeyField()||t.V.push(new Xe(n)),t.V.push(new Xe(ie.keyField(),"asc"));else{var i,a=!1,o=Object(u.a)(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.V.push(s),s.field.isKeyField()&&(a=!0)}}catch(l){o.e(l)}finally{o.f()}if(!a){var c=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.V.push(new Xe(ie.keyField(),c))}}}return t.V}function ft(e){var t=A(e);if(!t.S)if("F"===t.limitType)t.S=Me(t.path,t.collectionGroup,lt(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Object(u.a)(lt(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Xe(a.field,o))}}catch(l){i.e(l)}finally{i.f()}var s=t.endAt?new Ye(t.endAt.position,!t.endAt.before):null,c=t.startAt?new Ye(t.startAt.position,!t.startAt.before):null;t.S=Me(t.path,t.collectionGroup,r,t.filters,t.limit,s,c)}return t.S}function ht(e,t,n){return new nt(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function dt(e,t){return Ue(ft(e),ft(t))&&e.limitType===t.limitType}function pt(e){return"".concat(Fe(ft(e)),"|lt:").concat(e.limitType)}function vt(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(je(t.value));var t})).join(", "),"]")),ve(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: "+Je(e.startAt)),e.endAt&&(t+=", endAt: "+Je(e.endAt)),"Target(".concat(t,")")}(ft(e)),"; limitType=").concat(e.limitType,")")}function yt(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ge.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Object(u.a)(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Object(u.a)(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!et(e.startAt,lt(e),t))&&(!e.endAt||!et(e.endAt,lt(e),t))}(e,t)}function mt(e){return function(t,n){var r,i=!1,a=Object(u.a)(lt(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=gt(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(c){a.e(c)}finally{a.f()}return 0}}function gt(e,t,n){var r=e.field.isKeyField()?ge.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?_e(r,i):N()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return N()}}function bt(e,t){if(e.D){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ye(t)?"-0":t}}function kt(e){return{integerValue:""+e}}function wt(e,t){return me(t)?kt(t):bt(e,t)}var _t=function e(){Object(v.a)(this,e),this._=void 0};function Ot(e,t,n){return e instanceof Et?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof St?Tt(e,t):e instanceof It?Ct(e,t):function(e,t){var n=xt(e,t),r=Pt(n)+Pt(e.C);return Se(n)&&Se(e.C)?kt(r):bt(e.N,r)}(e,t)}function jt(e,t,n){return e instanceof St?Tt(e,t):e instanceof It?Ct(e,t):n}function xt(e,t){return e instanceof Nt?Se(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Et=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return n}(_t),St=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(v.a)(this,n),(r=t.call(this)).elements=e,r}return n}(_t);function Tt(e,t){var n,r=Rt(t),i=Object(u.a)(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return ke(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var It=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(v.a)(this,n),(r=t.call(this)).elements=e,r}return n}(_t);function Ct(e,t){var n,r=Rt(t),i=Object(u.a)(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!ke(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Nt=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(v.a)(this,n),(i=t.call(this)).N=e,i.C=r,i}return n}(_t);function Pt(e){return le(e.integerValue||e.doubleValue)}function Rt(e){return Te(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var At=function e(t,n){Object(v.a)(this,e),this.field=t,this.transform=n};var Dt=function e(t,n){Object(v.a)(this,e),this.version=t,this.transformResults=n},Lt=function(){function e(t,n){Object(v.a)(this,e),this.updateTime=t,this.exists=n}return Object(y.a)(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Mt(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Ft=function e(){Object(v.a)(this,e)};function Ut(e,t,n){e instanceof Wt?function(e,t,n){var r=e.value.clone(),i=Gt(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ht?function(e,t,n){if(Mt(e.precondition,t)){var r=Gt(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Kt(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Vt(e,t,n){e instanceof Wt?function(e,t,n){if(Mt(e.precondition,t)){var r=e.value.clone(),i=Qt(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Bt(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Ht?function(e,t,n){if(Mt(e.precondition,t)){var r=Qt(e.fieldTransforms,n,t),i=t.data;i.setAll(Kt(e)),i.setAll(r),t.convertToFoundDocument(Bt(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Mt(e.precondition,t)&&t.convertToNoDocument(J.min())}(e,t)}function qt(e,t){var n,r=null,i=Object(u.a)(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=xt(a.transform,o||null);null!=s&&(null==r&&(r=Re.empty()),r.set(a.field,s))}}catch(c){i.e(c)}finally{i.f()}return r||null}function zt(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Q(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof St&&t instanceof St||e instanceof It&&t instanceof It?Q(e.elements,t.elements,ke):e instanceof Nt&&t instanceof Nt?ke(e.C,t.C):e instanceof Et&&t instanceof Et}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Bt(e){return e.isFoundDocument()?e.version:J.min()}var Wt=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Object(v.a)(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return n}(Ft),Ht=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Object(v.a)(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return n}(Ft);function Kt(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Gt(e,t,n){var r=new Map;P(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,jt(o,u,n[i]))}return r}function Qt(e,t,n){var r,i=new Map,a=Object(u.a)(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,c=n.data.field(o.field);i.set(o.field,Ot(s,c,t))}}catch(l){a.e(l)}finally{a.f()}return i}var $t,Yt,Jt=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(v.a)(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return n}(Ft),Xt=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(v.a)(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return n}(Ft),Zt=function e(t){Object(v.a)(this,e),this.count=t};function en(e){switch(e){case D.OK:return N();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0;default:return N()}}function tn(e){if(void 0===e)return T("GRPC error has no .code"),D.UNKNOWN;switch(e){case $t.OK:return D.OK;case $t.CANCELLED:return D.CANCELLED;case $t.UNKNOWN:return D.UNKNOWN;case $t.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case $t.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case $t.INTERNAL:return D.INTERNAL;case $t.UNAVAILABLE:return D.UNAVAILABLE;case $t.UNAUTHENTICATED:return D.UNAUTHENTICATED;case $t.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case $t.NOT_FOUND:return D.NOT_FOUND;case $t.ALREADY_EXISTS:return D.ALREADY_EXISTS;case $t.PERMISSION_DENIED:return D.PERMISSION_DENIED;case $t.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case $t.ABORTED:return D.ABORTED;case $t.OUT_OF_RANGE:return D.OUT_OF_RANGE;case $t.UNIMPLEMENTED:return D.UNIMPLEMENTED;case $t.DATA_LOSS:return D.DATA_LOSS;default:return N()}}(Yt=$t||($t={}))[Yt.OK=0]="OK",Yt[Yt.CANCELLED=1]="CANCELLED",Yt[Yt.UNKNOWN=2]="UNKNOWN",Yt[Yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yt[Yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yt[Yt.NOT_FOUND=5]="NOT_FOUND",Yt[Yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yt[Yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yt[Yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yt[Yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yt[Yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yt[Yt.ABORTED=10]="ABORTED",Yt[Yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yt[Yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yt[Yt.INTERNAL=13]="INTERNAL",Yt[Yt.UNAVAILABLE=14]="UNAVAILABLE",Yt[Yt.DATA_LOSS=15]="DATA_LOSS";var nn=function(){function e(t,n){Object(v.a)(this,e),this.comparator=t,this.root=n||an.EMPTY}return Object(y.a)(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,an.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,an.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new rn(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new rn(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new rn(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new rn(this.root,e,this.comparator,!0)}}]),e}(),rn=function(){function e(t,n,r,i){Object(v.a)(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Object(y.a)(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),an=function(){function e(t,n,r,i,a){Object(v.a)(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Object(y.a)(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw N();if(this.right.isRed())throw N();var e=this.left.check();if(e!==this.right.check())throw N();return e+(this.isRed()?0:1)}}]),e}();an.EMPTY=null,an.RED=!0,an.BLACK=!1,an.EMPTY=new(function(){function e(){Object(v.a)(this,e),this.size=0}return Object(y.a)(e,[{key:"key",get:function(){throw N()}},{key:"value",get:function(){throw N()}},{key:"color",get:function(){throw N()}},{key:"left",get:function(){throw N()}},{key:"right",get:function(){throw N()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new an(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var on=function(){function e(t){Object(v.a)(this,e),this.comparator=t,this.data=new nn(this.comparator)}return Object(y.a)(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new un(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new un(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),un=function(){function e(t){Object(v.a)(this,e),this.iter=t}return Object(y.a)(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}(),sn=new nn(ge.comparator);function cn(){return sn}var ln=new nn(ge.comparator);function fn(){return ln}var hn=new nn(ge.comparator);function dn(){return hn}var pn=new on(ge.comparator);function vn(){for(var e=pn,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var yn=new on(G);function mn(){return yn}var gn=function(){function e(t,n,r,i,a){Object(v.a)(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Object(y.a)(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,bn.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(J.min(),r,mn(),cn(),vn())}}]),e}(),bn=function(){function e(t,n,r,i,a){Object(v.a)(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Object(y.a)(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(ue.EMPTY_BYTE_STRING,n,vn(),vn(),vn())}}]),e}(),kn=function e(t,n,r,i){Object(v.a)(this,e),this.k=t,this.removedTargetIds=n,this.key=r,this.$=i},wn=function e(t,n){Object(v.a)(this,e),this.targetId=t,this.O=n},_n=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ue.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Object(v.a)(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i},On=function(){function e(){Object(v.a)(this,e),this.F=0,this.M=En(),this.L=ue.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}return Object(y.a)(e,[{key:"current",get:function(){return this.B}},{key:"resumeToken",get:function(){return this.L}},{key:"q",get:function(){return 0!==this.F}},{key:"K",get:function(){return this.U}},{key:"j",value:function(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}},{key:"W",value:function(){var e=vn(),t=vn(),n=vn();return this.M.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:N()}})),new bn(this.L,this.B,e,t,n)}},{key:"G",value:function(){this.U=!1,this.M=En()}},{key:"H",value:function(e,t){this.U=!0,this.M=this.M.insert(e,t)}},{key:"J",value:function(e){this.U=!0,this.M=this.M.remove(e)}},{key:"Y",value:function(){this.F+=1}},{key:"X",value:function(){this.F-=1}},{key:"Z",value:function(){this.U=!0,this.B=!0}}]),e}(),jn=function(){function e(t){Object(v.a)(this,e),this.tt=t,this.et=new Map,this.nt=cn(),this.st=xn(),this.it=new on(G)}return Object(y.a)(e,[{key:"rt",value:function(e){var t,n=Object(u.a)(e.k);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.$&&e.$.isFoundDocument()?this.ot(r,e.$):this.at(r,e.key,e.$)}}catch(s){n.e(s)}finally{n.f()}var i,a=Object(u.a)(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.at(o,e.key,e.$)}}catch(s){a.e(s)}finally{a.f()}}},{key:"ct",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ut(n);switch(e.state){case 0:t.ht(n)&&r.j(e.resumeToken);break;case 1:r.X(),r.q||r.G(),r.j(e.resumeToken);break;case 2:r.X(),r.q||t.removeTarget(n);break;case 3:t.ht(n)&&(r.Z(),r.j(e.resumeToken));break;case 4:t.ht(n)&&(t.lt(n),r.j(e.resumeToken));break;default:N()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.et.forEach((function(e,r){n.ht(r)&&t(r)}))}},{key:"ft",value:function(e){var t=e.targetId,n=e.O.count,r=this.dt(t);if(r){var i=r.target;if(Ve(i))if(0===n){var a=new ge(i.path);this.at(t,a,De.newNoDocument(a,J.min()))}else P(1===n);else this.wt(t)!==n&&(this.lt(t),this.it=this.it.add(t))}}},{key:"_t",value:function(e){var t=this,n=new Map;this.et.forEach((function(r,i){var a=t.dt(i);if(a){if(r.current&&Ve(a.target)){var o=new ge(a.target.path);null!==t.nt.get(o)||t.gt(i,o)||t.at(i,o,De.newNoDocument(o,e))}r.K&&(n.set(i,r.W()),r.G())}}));var r=vn();this.st.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.dt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new gn(e,n,this.it,this.nt,r);return this.nt=cn(),this.st=xn(),this.it=new on(G),i}},{key:"ot",value:function(e,t){if(this.ht(e)){var n=this.gt(e,t.key)?2:0;this.ut(e).H(t.key,n),this.nt=this.nt.insert(t.key,t),this.st=this.st.insert(t.key,this.yt(t.key).add(e))}}},{key:"at",value:function(e,t,n){if(this.ht(e)){var r=this.ut(e);this.gt(e,t)?r.H(t,1):r.J(t),this.st=this.st.insert(t,this.yt(t).delete(e)),n&&(this.nt=this.nt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.et.delete(e)}},{key:"wt",value:function(e){var t=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Y",value:function(e){this.ut(e).Y()}},{key:"ut",value:function(e){var t=this.et.get(e);return t||(t=new On,this.et.set(e,t)),t}},{key:"yt",value:function(e){var t=this.st.get(e);return t||(t=new on(G),this.st=this.st.insert(e,t)),t}},{key:"ht",value:function(e){var t=null!==this.dt(e);return t||S("WatchChangeAggregator","Detected inactive target",e),t}},{key:"dt",value:function(e){var t=this.et.get(e);return t&&t.q?null:this.tt.Et(e)}},{key:"lt",value:function(e){var t=this;this.et.set(e,new On),this.tt.getRemoteKeysForTarget(e).forEach((function(n){t.at(e,n,null)}))}},{key:"gt",value:function(e,t){return this.tt.getRemoteKeysForTarget(e).has(t)}}]),e}();function xn(){return new nn(ge.comparator)}function En(){return new nn(ge.comparator)}var Sn={asc:"ASCENDING",desc:"DESCENDING"},Tn={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},In=function e(t,n){Object(v.a)(this,e),this.databaseId=t,this.D=n};function Cn(e,t){return e.D?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Nn(e,t){return e.D?t.toBase64():t.toUint8Array()}function Pn(e,t){return Cn(e,t.toTimestamp())}function Rn(e){return P(!!e),J.fromTimestamp(function(e){var t=ce(e);return new Y(t.seconds,t.nanos)}(e))}function An(e,t){return function(e){return new ne(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Dn(e){var t=ne.fromString(e);return P(or(t)),t}function Ln(e,t){return An(e.databaseId,t.path)}function Mn(e,t){var n=Dn(t);if(n.get(1)!==e.databaseId.projectId)throw new L(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new L(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ge(qn(n))}function Fn(e,t){return An(e.databaseId,t)}function Un(e){var t=Dn(e);return 4===t.length?ne.emptyPath():qn(t)}function Vn(e){return new ne(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function qn(e){return P(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function zn(e,t,n){return{name:Ln(e,t),fields:n.value.mapValue.fields}}function Bn(e,t,n){var r=Mn(e,t.name),i=Rn(t.updateTime),a=new Re({mapValue:{fields:t.fields}}),o=De.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Wn(e,t){return"found"in t?function(e,t){P(!!t.found),t.found.name,t.found.updateTime;var n=Mn(e,t.found.name),r=Rn(t.found.updateTime),i=new Re({mapValue:{fields:t.found.fields}});return De.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){P(!!t.missing),P(!!t.readTime);var n=Mn(e,t.missing),r=Rn(t.readTime);return De.newNoDocument(n,r)}(e,t):N()}function Hn(e,t){var n;if(t instanceof Wt)n={update:zn(e,t.key,t.value)};else if(t instanceof Jt)n={delete:Ln(e,t.key)};else if(t instanceof Ht)n={update:zn(e,t.key,t.data),updateMask:ar(t.fieldMask)};else{if(!(t instanceof Xt))return N();n={verify:Ln(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Et)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof St)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof It)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Nt)return{fieldPath:t.field.canonicalString(),increment:n.C};throw N()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Pn(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:N()}(e,t.precondition)),n}function Kn(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Lt.updateTime(Rn(e.updateTime)):void 0!==e.exists?Lt.exists(e.exists):Lt.none()}(t.currentDocument):Lt.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)P("REQUEST_TIME"===t.setToServerValue),n=new Et;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new St(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new It(i)}else"increment"in t?n=new Nt(e,t.increment):N();var a=ie.fromServerFormat(t.fieldPath);return new At(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Mn(e,t.update.name),a=new Re({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new ae(t.map((function(e){return ie.fromServerFormat(e)})))}(t.updateMask);return new Ht(i,a,o,n,r)}return new Wt(i,a,n,r)}if(t.delete){var u=Mn(e,t.delete);return new Jt(u,n)}if(t.verify){var s=Mn(e,t.verify);return new Xt(s,n)}return N()}function Gn(e,t){return{documents:[Fn(e,t.path)]}}function Qn(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Fn(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Fn(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Ce(e.value))return{unaryFilter:{field:tr(e.field),op:"IS_NAN"}};if(Ie(e.value))return{unaryFilter:{field:tr(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ce(e.value))return{unaryFilter:{field:tr(e.field),op:"IS_NOT_NAN"}};if(Ie(e.value))return{unaryFilter:{field:tr(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tr(e.field),op:er(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:tr(e.field),direction:Zn(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=function(e,t){return e.D||ve(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=Jn(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Jn(t.endAt)),n}function $n(e){var t=Un(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){P(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Yn(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Xe(nr(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return ve(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=Xn(n.startAt));var l=null;return n.endAt&&(l=Xn(n.endAt)),rt(t,i,u,o,s,"F",c,l)}function Yn(e){return e?void 0!==e.unaryFilter?[ir(e)]:void 0!==e.fieldFilter?[rr(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Yn(e)})).reduce((function(e,t){return e.concat(t)})):N():[]}function Jn(e){return{before:e.before,values:e.position}}function Xn(e){var t=!!e.before,n=e.values||[];return new Ye(n,t)}function Zn(e){return Sn[e]}function er(e){return Tn[e]}function tr(e){return{fieldPath:e.canonicalString()}}function nr(e){return ie.fromServerFormat(e.fieldPath)}function rr(e){return qe.create(nr(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return N()}}(e.fieldFilter.op),e.fieldFilter.value)}function ir(e){switch(e.unaryFilter.op){case"IS_NAN":var t=nr(e.unaryFilter.field);return qe.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=nr(e.unaryFilter.field);return qe.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=nr(e.unaryFilter.field);return qe.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=nr(e.unaryFilter.field);return qe.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return N()}}function ar(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function or(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function ur(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=cr(t)),t=sr(e.get(n),t);return cr(t)}function sr(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function cr(e){return e+"\x01\x01"}function lr(e){var t=e.length;if(P(t>=2),2===t)return P("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),ne.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&N(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:N()}a=o+2}return new ne(r)}var fr=function e(t,n){Object(v.a)(this,e),this.seconds=t,this.nanoseconds=n},hr=function e(t,n,r){Object(v.a)(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r};hr.store="owner",hr.key="owner";var dr=function e(t,n,r){Object(v.a)(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r};dr.store="mutationQueues",dr.keyPath="userId";var pr=function e(t,n,r,i,a){Object(v.a)(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a};pr.store="mutations",pr.keyPath="batchId",pr.userMutationsIndex="userMutationsIndex",pr.userMutationsKeyPath=["userId","batchId"];var vr=function(){function e(){Object(v.a)(this,e)}return Object(y.a)(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,ur(t)]}},{key:"key",value:function(e,t,n){return[e,ur(t),n]}}]),e}();vr.store="documentMutations",vr.PLACEHOLDER=new vr;var yr=function e(t,n){Object(v.a)(this,e),this.path=t,this.readTime=n},mr=function e(t,n){Object(v.a)(this,e),this.path=t,this.version=n},gr=function e(t,n,r,i,a,o){Object(v.a)(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=o};gr.store="remoteDocuments",gr.readTimeIndex="readTimeIndex",gr.readTimeIndexPath="readTime",gr.collectionReadTimeIndex="collectionReadTimeIndex",gr.collectionReadTimeIndexPath=["parentPath","readTime"];var br=function e(t){Object(v.a)(this,e),this.byteSize=t};br.store="remoteDocumentGlobal",br.key="remoteDocumentGlobalKey";var kr=function e(t,n,r,i,a,o,u){Object(v.a)(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=o,this.query=u};kr.store="targets",kr.keyPath="targetId",kr.queryTargetsIndexName="queryTargetsIndex",kr.queryTargetsKeyPath=["canonicalId","targetId"];var wr=function e(t,n,r){Object(v.a)(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r};wr.store="targetDocuments",wr.keyPath=["targetId","path"],wr.documentTargetsIndex="documentTargetsIndex",wr.documentTargetsKeyPath=["path","targetId"];var _r=function e(t,n,r,i){Object(v.a)(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i};_r.key="targetGlobalKey",_r.store="targetGlobal";var Or=function e(t,n){Object(v.a)(this,e),this.collectionId=t,this.parent=n};Or.store="collectionParents",Or.keyPath=["collectionId","parent"];var jr=function e(t,n,r,i){Object(v.a)(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i};jr.store="clientMetadata",jr.keyPath="clientId";var xr=function e(t,n,r){Object(v.a)(this,e),this.bundleId=t,this.createTime=n,this.version=r};xr.store="bundles",xr.keyPath="bundleId";var Er=function e(t,n,r){Object(v.a)(this,e),this.name=t,this.readTime=n,this.bundledQuery=r};Er.store="namedQueries",Er.keyPath="name";var Sr=[dr.store,pr.store,vr.store,gr.store,kr.store,hr.store,_r.store,wr.store].concat([jr.store]).concat([br.store]).concat([Or.store]).concat([xr.store,Er.store]),Tr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ir=function(){function e(){Object(v.a)(this,e),this.onCommittedListeners=[]}return Object(y.a)(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),Cr=function(){function e(t){var n=this;Object(v.a)(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Object(y.a)(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&N(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Object(u.a)(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),Nr=function(){function e(t,n){var r=this;Object(v.a)(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.Tt=new M,this.transaction.oncomplete=function(){r.Tt.resolve()},this.transaction.onabort=function(){n.error?r.Tt.reject(new Ar(t,n.error)):r.Tt.resolve()},this.transaction.onerror=function(e){var n=Ur(e.target.error);r.Tt.reject(new Ar(t,n))}}return Object(y.a)(e,[{key:"It",get:function(){return this.Tt.promise}},{key:"abort",value:function(e){e&&this.Tt.reject(e),this.aborted||(S("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Lr(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Ar(n,t)}}}]),e}(),Pr=function(){function t(e,n,r){Object(v.a)(this,t),this.name=e,this.version=n,this.At=r,12.2===t.Rt(Object(k.s)())&&T("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Object(y.a)(t,[{key:"Dt",value:function(){var e=Object(l.a)(c.a.mark((function e(t){var n=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return S("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Ar(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new L(D.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new L(D.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Ar(t,n))},i.onupgradeneeded=function(e){S("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.At.Ct(t,i.transaction,e.oldVersion,n.version).next((function(){S("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Nt&&(this.db.onversionchange=function(e){return n.Nt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"xt",value:function(e){this.Nt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Object(l.a)(c.a.mark((function e(t,n,r,i){var a,o,u,s,l=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(c.a.mark((function e(){var n,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.Dt(t);case 2:return l.db=e.sent,n=Nr.open(l.db,t,a?"readonly":"readwrite",r),(o=i(n).catch((function(e){return n.abort(e),Cr.reject(e)})).toPromise()).catch((function(){})),e.next=7,n.It;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,S("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return S("SimpleDb","Removing database:",e),Mr(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"bt",value:function(){if("undefined"==typeof indexedDB)return!1;if(t.Pt())return!0;var e=Object(k.s)(),n=t.Rt(e),r=0<n&&n<10,i=t.vt(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}},{key:"Pt",value:function(){var t;return"undefined"!=typeof e&&"YES"===(null===(t=Object({NODE_ENV:"production",PUBLIC_URL:"/Affinity",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}))||void 0===t?void 0:t.Vt)}},{key:"St",value:function(e,t){return e.store(t)}},{key:"Rt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"vt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),t}(),Rr=function(){function e(t){Object(v.a)(this,e),this.kt=t,this.$t=!1,this.Ot=null}return Object(y.a)(e,[{key:"isDone",get:function(){return this.$t}},{key:"Ft",get:function(){return this.Ot}},{key:"cursor",set:function(e){this.kt=e}},{key:"done",value:function(){this.$t=!0}},{key:"Mt",value:function(e){this.Ot=e}},{key:"delete",value:function(){return Mr(this.kt.delete())}}]),e}(),Ar=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(v.a)(this,n),(i=t.call(this,D.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return n}(L);function Dr(e){return"IndexedDbTransactionError"===e.name}var Lr=function(){function e(t){Object(v.a)(this,e),this.store=t}return Object(y.a)(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(S("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(S("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Mr(n)}},{key:"add",value:function(e){return S("SimpleDb","ADD",this.store.name,e,e),Mr(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Mr(this.store.get(e)).next((function(n){return void 0===n&&(n=null),S("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return S("SimpleDb","DELETE",this.store.name,e),Mr(this.store.delete(e))}},{key:"count",value:function(){return S("SimpleDb","COUNT",this.store.name),Mr(this.store.count())}},{key:"Lt",value:function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.Bt(n,(function(e,t){r.push(t)})).next((function(){return r}))}},{key:"Ut",value:function(e,t){S("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.qt=!1;var r=this.cursor(n);return this.Bt(r,(function(e,t,n){return n.delete()}))}},{key:"Kt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Bt(r,t)}},{key:"jt",value:function(e){var t=this.cursor({});return new Cr((function(n,r){t.onerror=function(e){var t=Ur(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Bt",value:function(e,t){var n=[];return new Cr((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Rr(i),o=t(i.primaryKey,i.value,a);if(o instanceof Cr){var u=o.catch((function(e){return a.done(),Cr.reject(e)}));n.push(u)}a.isDone?r():null===a.Ft?i.continue():i.continue(a.Ft)}else r()}})).next((function(){return Cr.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.qt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Mr(e){return new Cr((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Ur(e.target.error);n(t)}}))}var Fr=!1;function Ur(e){var t=Pr.Rt(Object(k.s)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new L("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Fr||(Fr=!0,setTimeout((function(){throw r}),0)),r}}return e}var Vr=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(v.a)(this,n),(i=t.call(this)).Qt=e,i.currentSequenceNumber=r,i}return n}(Ir);function qr(e,t){var n=A(e);return Pr.St(n.Qt,t)}var zr=function(){function e(t,n,r,i){Object(v.a)(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Object(y.a)(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Ut(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=Object(u.a)(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&Vt(r,e,this.localWriteTime)}}catch(s){n.e(s)}finally{n.f()}var i,a=Object(u.a)(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&Vt(o,e,this.localWriteTime)}}catch(s){a.e(s)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(J.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),vn())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Q(this.mutations,e.mutations,(function(e,t){return zt(e,t)}))&&Q(this.baseMutations,e.baseMutations,(function(e,t){return zt(e,t)}))}}]),e}(),Br=function(){function e(t,n,r,i){Object(v.a)(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Object(y.a)(e,null,[{key:"from",value:function(t,n,r){P(t.mutations.length===r.length);for(var i=dn(),a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Wr=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:J.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:J.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ue.EMPTY_BYTE_STRING;Object(v.a)(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return Object(y.a)(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Hr=function e(t){Object(v.a)(this,e),this.Wt=t};function Kr(e,t){if(t.document)return Bn(e.Wt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=ge.fromSegments(t.noDocument.path),r=Jr(t.noDocument.readTime),i=De.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var a=ge.fromSegments(t.unknownDocument.path),o=Jr(t.unknownDocument.version);return De.newUnknownDocument(a,o)}return N()}function Gr(e,t,n){var r=Qr(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var a=function(e,t){return{name:Ln(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Cn(e,t.version.toTimestamp())}}(e.Wt,t),o=t.hasCommittedMutations;return new gr(null,null,a,o,r,i)}if(t.isNoDocument()){var u=t.key.path.toArray(),s=Yr(t.version),c=t.hasCommittedMutations;return new gr(null,new yr(u,s),null,c,r,i)}if(t.isUnknownDocument()){var l=t.key.path.toArray(),f=Yr(t.version);return new gr(new mr(l,f),null,null,!0,r,i)}return N()}function Qr(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function $r(e){var t=new Y(e[0],e[1]);return J.fromTimestamp(t)}function Yr(e){var t=e.toTimestamp();return new fr(t.seconds,t.nanoseconds)}function Jr(e){var t=new Y(e.seconds,e.nanoseconds);return J.fromTimestamp(t)}function Xr(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Kn(e.Wt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Kn(e.Wt,t)})),u=Y.fromMillis(t.localWriteTimeMs);return new zr(t.batchId,u,n,o)}function Zr(e){var t,n,r=Jr(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Jr(e.lastLimboFreeSnapshotVersion):J.min();return void 0!==e.query.documents?(P(1===(n=e.query).documents.length),t=ft(it(Un(n.documents[0])))):t=function(e){return ft($n(e))}(e.query),new Wr(t,e.targetId,0,e.lastListenSequenceNumber,r,i,ue.fromBase64String(e.resumeToken))}function ei(e,t){var n,r=Yr(t.snapshotVersion),i=Yr(t.lastLimboFreeSnapshotVersion);n=Ve(t.target)?Gn(e.Wt,t.target):Qn(e.Wt,t.target);var a=t.resumeToken.toBase64();return new kr(t.targetId,Fe(t.target),r,a,t.sequenceNumber,i,n)}function ti(e){var t=$n({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?ht(t,t.limit,"L"):t}var ni=function(){function e(){Object(v.a)(this,e)}return Object(y.a)(e,[{key:"getBundleMetadata",value:function(e,t){return ri(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Jr(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return ri(e).put({bundleId:(n=t).id,createTime:Yr(Rn(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return ii(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:ti(t.bundledQuery),readTime:Jr(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return ii(e).put(function(e){return{name:e.name,readTime:Yr(Rn(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function ri(e){return qr(e,xr.store)}function ii(e){return qr(e,Er.store)}var ai=function(){function e(){Object(v.a)(this,e),this.Gt=new oi}return Object(y.a)(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Gt.add(t),Cr.resolve()}},{key:"getCollectionParents",value:function(e,t){return Cr.resolve(this.Gt.getEntries(t))}}]),e}(),oi=function(){function e(){Object(v.a)(this,e),this.index={}}return Object(y.a)(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new on(ne.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new on(ne.comparator)).toArray()}}]),e}(),ui=function(){function e(){Object(v.a)(this,e),this.zt=new oi}return Object(y.a)(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.zt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.zt.add(t)}));var a={collectionId:r,parent:ur(i)};return si(e).put(a)}return Cr.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[$(t),""],!1,!0);return si(e).Lt(r).next((function(e){var r,i=Object(u.a)(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(lr(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}}]),e}();function si(e){return qr(e,Or.store)}var ci={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},li=function(){function e(t,n,r){Object(v.a)(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Object(y.a)(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function fi(e,t,n){var r=e.store(pr.store),i=e.store(vr.store),a=[],o=IDBKeyRange.only(n.batchId),s=0,c=r.Kt({range:o},(function(e,t,n){return s++,n.delete()}));a.push(c.next((function(){P(1===s)})));var l,f=[],h=Object(u.a)(n.mutations);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=vr.key(t,d.key.path,n.batchId);a.push(i.delete(p)),f.push(d.key)}}catch(v){h.e(v)}finally{h.f()}return Cr.waitFor(a).next((function(){return f}))}function hi(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw N();t=e.noDocument}return JSON.stringify(t).length}li.DEFAULT_COLLECTION_PERCENTILE=10,li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,li.DEFAULT=new li(41943040,li.DEFAULT_COLLECTION_PERCENTILE,li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),li.DISABLED=new li(-1,0,0);var di=function(){function e(t,n,r,i){Object(v.a)(this,e),this.userId=t,this.N=n,this.Ht=r,this.referenceDelegate=i,this.Jt={}}return Object(y.a)(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return vi(e).Kt({index:pr.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=yi(e),o=vi(e);return o.add({}).next((function(s){P("number"==typeof s);var c,l=new zr(s,t,n,r),f=function(e,t,n){var r=n.baseMutations.map((function(t){return Hn(e.Wt,t)})),i=n.mutations.map((function(t){return Hn(e.Wt,t)}));return new pr(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.N,i.userId,l),h=[],d=new on((function(e,t){return G(e.canonicalString(),t.canonicalString())})),p=Object(u.a)(r);try{for(p.s();!(c=p.n()).done;){var v=c.value,y=vr.key(i.userId,v.key.path,s);d=d.add(v.key.path.popLast()),h.push(o.put(f)),h.push(a.put(y,vr.PLACEHOLDER))}}catch(m){p.e(m)}finally{p.f()}return d.forEach((function(t){h.push(i.Ht.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Jt[s]=l.keys()})),Cr.waitFor(h).next((function(){return l}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return vi(e).get(t).next((function(e){return e?(P(e.userId===n.userId),Xr(n.N,e)):null}))}},{key:"Xt",value:function(e,t){var n=this;return this.Jt[t]?Cr.resolve(this.Jt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Jt[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return vi(e).Kt({index:pr.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(P(t.batchId>=r),a=Xr(n.N,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return vi(e).Kt({index:pr.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return vi(e).Lt(pr.userMutationsIndex,n).next((function(e){return e.map((function(e){return Xr(t.N,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=vr.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return yi(e).Kt({range:i},(function(r,i,u){var s=Object(o.a)(r,3),c=s[0],l=s[1],f=s[2],h=lr(l);if(c===n.userId&&t.path.isEqual(h))return vi(e).get(f).next((function(e){if(!e)throw N();P(e.userId===n.userId),a.push(Xr(n.N,e))}));u.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new on(G),i=[];return t.forEach((function(t){var a=vr.prefixForPath(n.userId,t.path),u=IDBKeyRange.lowerBound(a),s=yi(e).Kt({range:u},(function(e,i,a){var u=Object(o.a)(e,3),s=u[0],c=u[1],l=u[2],f=lr(c);s===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(s)})),Cr.waitFor(i).next((function(){return n.Zt(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=vr.prefixForPath(this.userId,r),u=IDBKeyRange.lowerBound(a),s=new on(G);return yi(e).Kt({range:u},(function(e,t,a){var u=Object(o.a)(e,3),c=u[0],l=u[1],f=u[2],h=lr(l);c===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):a.done()})).next((function(){return n.Zt(e,s)}))}},{key:"Zt",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(vi(e).get(t).next((function(e){if(null===e)throw N();P(e.userId===n.userId),r.push(Xr(n.N,e))})))})),Cr.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return fi(e.Qt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.te(t.batchId)})),Cr.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"te",value:function(e){delete this.Jt[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Cr.resolve();var r=IDBKeyRange.lowerBound(vr.prefixForUser(t.userId)),i=[];return yi(e).Kt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=lr(e[1]);i.push(a)}else r.done()})).next((function(){P(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return pi(e,this.userId,t)}},{key:"ee",value:function(e){var t=this;return mi(e).get(this.userId).next((function(e){return e||new dr(t.userId,-1,"")}))}}],[{key:"Yt",value:function(t,n,r,i){return P(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function pi(e,t,n){var r=vr.prefixForPath(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),u=!1;return yi(e).Kt({range:a,qt:!0},(function(e,n,r){var a=Object(o.a)(e,3),s=a[0],c=a[1];a[2];s===t&&c===i&&(u=!0),r.done()})).next((function(){return u}))}function vi(e){return qr(e,pr.store)}function yi(e){return qr(e,vr.store)}function mi(e){return qr(e,dr.store)}var gi=function(){function e(t){Object(v.a)(this,e),this.ne=t}return Object(y.a)(e,[{key:"next",value:function(){return this.ne+=2,this.ne}}],[{key:"se",value:function(){return new e(0)}},{key:"ie",value:function(){return new e(-1)}}]),e}(),bi=function(){function e(t,n){Object(v.a)(this,e),this.referenceDelegate=t,this.N=n}return Object(y.a)(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.re(e).next((function(n){var r=new gi(n.highestTargetId);return n.highestTargetId=r.next(),t.oe(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.re(e).next((function(e){return J.fromTimestamp(new Y(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.re(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.re(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.oe(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.ae(e,t).next((function(){return n.re(e).next((function(r){return r.targetCount+=1,n.ce(t,r),n.oe(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.ae(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return ki(e).delete(t.targetId)})).next((function(){return n.re(e)})).next((function(t){return P(t.targetCount>0),t.targetCount-=1,n.oe(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return ki(e).Kt((function(o,u){var s=Zr(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return Cr.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return ki(e).Kt((function(e,n){var r=Zr(n);t(r)}))}},{key:"re",value:function(e){return wi(e).get(_r.key).next((function(e){return P(null!==e),e}))}},{key:"oe",value:function(e,t){return wi(e).put(_r.key,t)}},{key:"ae",value:function(e,t){return ki(e).put(ei(this.N,t))}},{key:"ce",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.re(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Fe(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return ki(e).Kt({range:r,index:kr.queryTargetsIndexName},(function(e,n,r){var a=Zr(n);Ue(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=_i(e);return t.forEach((function(t){var o=ur(t.path);i.push(a.put(new wr(n,o))),i.push(r.referenceDelegate.addReference(e,n,t))})),Cr.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=_i(e);return Cr.forEach(t,(function(t){var a=ur(t.path);return Cr.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=_i(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=_i(e),i=vn();return r.Kt({range:n,qt:!0},(function(e,t,n){var r=lr(e[1]),a=new ge(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=ur(t.path),r=IDBKeyRange.bound([n],[$(n)],!1,!0),i=0;return _i(e).Kt({index:wr.documentTargetsIndex,qt:!0,range:r},(function(e,t,n){var r=Object(o.a)(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return ki(e).get(t).next((function(e){return e?Zr(e):null}))}}]),e}();function ki(e){return qr(e,kr.store)}function wi(e){return qr(e,_r.store)}function _i(e){return qr(e,wr.store)}function Oi(e){return ji.apply(this,arguments)}function ji(){return(ji=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===D.FAILED_PRECONDITION&&t.message===Tr){e.next=2;break}throw t;case 2:S("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xi(e,t){var n=Object(o.a)(e,2),r=n[0],i=n[1],a=Object(o.a)(t,2),u=a[0],s=a[1],c=G(r,u);return 0===c?G(i,s):c}var Ei=function(){function e(t){Object(v.a)(this,e),this.ue=t,this.buffer=new on(xi),this.he=0}return Object(y.a)(e,[{key:"le",value:function(){return++this.he}},{key:"fe",value:function(e){var t=[e,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();xi(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Si=function(){function e(t,n){Object(v.a)(this,e),this.garbageCollector=t,this.asyncQueue=n,this.de=!1,this.we=null}return Object(y.a)(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(e)}},{key:"stop",value:function(){this.we&&(this.we.cancel(),this.we=null)}},{key:"started",get:function(){return null!==this.we}},{key:"_e",value:function(e){var t=this,n=this.de?3e5:6e4;S("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,Object(l.a)(c.a.mark((function n(){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.we=null,t.de=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!Dr(n.t0)){n.next=12;break}S("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,Oi(n.t0);case 14:return n.next=16,t._e(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),Ti=function(){function e(t,n){Object(v.a)(this,e),this.me=t,this.params=n}return Object(y.a)(e,[{key:"calculateTargetCount",value:function(e,t){return this.me.ge(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Cr.resolve(W.T);var r=new Ei(t);return this.me.forEachTarget(e,(function(e){return r.fe(e.sequenceNumber)})).next((function(){return n.me.ye(e,(function(e){return r.fe(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.me.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.me.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(S("LruGarbageCollector","Garbage collection skipped; disabled"),Cr.resolve(ci)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(S("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),ci):n.pe(e,t)}))}},{key:"getCacheSize",value:function(e){return this.me.getCacheSize(e)}},{key:"pe",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(S("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),x()<=b.a.DEBUG&&S("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),Cr.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Ii=function(){function e(t,n){Object(v.a)(this,e),this.db=t,this.garbageCollector=function(e,t){return new Ti(e,t)}(this,n)}return Object(y.a)(e,[{key:"ge",value:function(e){var t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Ee",value:function(e){var t=0;return this.ye(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"ye",value:function(e,t){return this.Te(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Ci(e,n)}},{key:"removeReference",value:function(e,t,n){return Ci(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Ci(e,t)}},{key:"Ie",value:function(e,t){return function(e,t){var n=!1;return mi(e).jt((function(r){return pi(e,r,t).next((function(e){return e&&(n=!0),Cr.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Te(e,(function(o,u){if(u<=t){var s=n.Ie(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o),_i(e).delete([0,ur(o.path)])}))}));i.push(s)}})).next((function(){return Cr.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Ci(e,t)}},{key:"Te",value:function(e,t){var n,r=_i(e),i=W.T;return r.Kt({index:wr.documentTargetsIndex},(function(e,r){var a=Object(o.a)(e,2),u=a[0],s=(a[1],r.path),c=r.sequenceNumber;0===u?(i!==W.T&&t(new ge(lr(n)),i),i=c,n=s):i=W.T})).next((function(){i!==W.T&&t(new ge(lr(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Ci(e,t){return _i(e).put(function(e,t){return new wr(0,ur(e.path),t)}(t,e.currentSequenceNumber))}var Ni=function(){function e(t,n){Object(v.a)(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return Object(y.a)(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Object(u.a)(n);try{for(i.s();!(r=i.n()).done;){var a=Object(o.a)(r.value,2),s=a[0],c=a[1];if(this.equalsFn(s,e))return c}}catch(l){i.e(l)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){Z(this.inner,(function(t,n){var r,i=Object(u.a)(n);try{for(i.s();!(r=i.n()).done;){var a=Object(o.a)(r.value,2),s=a[0],c=a[1];e(s,c)}}catch(l){i.e(l)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return ee(this.inner)}}]),e}(),Pi=function(){function e(){Object(v.a)(this,e),this.changes=new Ni((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Object(y.a)(e,[{key:"getReadTime",value:function(e){var t=this.changes.get(e);return t?t.readTime:J.min()}},{key:"addEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}},{key:"removeEntry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.assertNotApplied(),this.changes.set(e,{document:De.newInvalidDocument(e),readTime:t})}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Cr.resolve(n.document):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Ri=function(){function e(t,n){Object(v.a)(this,e),this.N=t,this.Ht=n}return Object(y.a)(e,[{key:"addEntry",value:function(e,t,n){return Li(e).put(Mi(t),n)}},{key:"removeEntry",value:function(e,t){var n=Li(e),r=Mi(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Ae(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this;return Li(e).get(Mi(t)).next((function(e){return n.Re(t,e)}))}},{key:"be",value:function(e,t){var n=this;return Li(e).get(Mi(t)).next((function(e){return{document:n.Re(t,e),size:hi(e)}}))}},{key:"getEntries",value:function(e,t){var n=this,r=cn();return this.Pe(e,t,(function(e,t){var i=n.Re(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"ve",value:function(e,t){var n=this,r=cn(),i=new nn(ge.comparator);return this.Pe(e,t,(function(e,t){var a=n.Re(e,t);r=r.insert(e,a),i=i.insert(e,hi(t))})).next((function(){return{documents:r,Ve:i}}))}},{key:"Pe",value:function(e,t,n){if(t.isEmpty())return Cr.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),a=i.getNext();return Li(e).Kt({range:r},(function(e,t,r){for(var o=ge.fromSegments(e);a&&ge.comparator(a,o)<0;)n(a,null),a=i.getNext();a&&a.isEqual(o)&&(n(a,t),a=i.hasNext()?i.getNext():null),a?r.Mt(a.path.toArray()):r.done()})).next((function(){for(;a;)n(a,null),a=i.hasNext()?i.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){var r=this,i=cn(),a=t.path.length+1,o={};if(n.isEqual(J.min())){var u=t.path.toArray();o.range=IDBKeyRange.lowerBound(u)}else{var s=t.path.toArray(),c=Qr(n);o.range=IDBKeyRange.lowerBound([s,c],!0),o.index=gr.collectionReadTimeIndex}return Li(e).Kt(o,(function(e,n,o){if(e.length===a){var u=Kr(r.N,n);t.path.isPrefixOf(u.key.path)?yt(t,u)&&(i=i.insert(u.key,u)):o.done()}})).next((function(){return i}))}},{key:"newChangeBuffer",value:function(e){return new Ai(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Di(e).get(br.key).next((function(e){return P(!!e),e}))}},{key:"Ae",value:function(e,t){return Di(e).put(br.key,t)}},{key:"Re",value:function(e,t){if(t){var n=Kr(this.N,t);if(!n.isNoDocument()||!n.version.isEqual(J.min()))return n}return De.newInvalidDocument(e)}}]),e}(),Ai=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(v.a)(this,n),(i=t.call(this)).Se=e,i.trackRemovals=r,i.De=new Ni((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Object(y.a)(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new on((function(e,t){return G(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.De.get(a);if(o.document.isValidDocument()){var s=Gr(t.Se.N,o.document,t.getReadTime(a));i=i.add(a.path.popLast());var c=hi(s);r+=c-u,n.push(t.Se.addEntry(e,a,s))}else if(r-=u,t.trackRemovals){var l=Gr(t.Se.N,De.newNoDocument(a,J.min()),t.getReadTime(a));n.push(t.Se.addEntry(e,a,l))}else n.push(t.Se.removeEntry(e,a))})),i.forEach((function(r){n.push(t.Se.Ht.addToCollectionParentIndex(e,r))})),n.push(this.Se.updateMetadata(e,r)),Cr.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Se.be(e,t).next((function(e){return n.De.set(t,e.size),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Se.ve(e,t).next((function(e){var t=e.documents;return e.Ve.forEach((function(e,t){n.De.set(e,t)})),t}))}}]),n}(Pi);function Di(e){return qr(e,br.store)}function Li(e){return qr(e,gr.store)}function Mi(e){return e.path.toArray()}var Fi=function(){function e(t){Object(v.a)(this,e),this.N=t}return Object(y.a)(e,[{key:"Ct",value:function(e,t,n,r){var i=this;P(n<r&&n>=0&&r<=11);var a=new Nr("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(hr.store)}(e),function(e){e.createObjectStore(dr.store,{keyPath:dr.keyPath}),e.createObjectStore(pr.store,{keyPath:pr.keyPath,autoIncrement:!0}).createIndex(pr.userMutationsIndex,pr.userMutationsKeyPath,{unique:!0}),e.createObjectStore(vr.store)}(e),Ui(e),function(e){e.createObjectStore(gr.store)}(e));var o=Cr.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(wr.store),e.deleteObjectStore(kr.store),e.deleteObjectStore(_r.store)}(e),Ui(e)),o=o.next((function(){return function(e){var t=e.store(_r.store),n=new _r(0,0,J.min().toTimestamp(),0);return t.put(_r.key,n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store(pr.store).Lt().next((function(n){e.deleteObjectStore(pr.store),e.createObjectStore(pr.store,{keyPath:pr.keyPath,autoIncrement:!0}).createIndex(pr.userMutationsIndex,pr.userMutationsKeyPath,{unique:!0});var r=t.store(pr.store),i=n.map((function(e){return r.put(e)}));return Cr.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore(jr.store,{keyPath:jr.keyPath})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Ce(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore(br.store)}(e),i.Ne(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.xe(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.ke(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(gr.store);t.createIndex(gr.readTimeIndex,gr.readTimeIndexPath,{unique:!1}),t.createIndex(gr.collectionReadTimeIndex,gr.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(o=o.next((function(){return i.$e(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore(xr.store,{keyPath:xr.keyPath})}(e),function(e){e.createObjectStore(Er.store,{keyPath:Er.keyPath})}(e)}))),o}},{key:"Ne",value:function(e){var t=0;return e.store(gr.store).Kt((function(e,n){t+=hi(n)})).next((function(){var n=new br(t);return e.store(br.store).put(br.key,n)}))}},{key:"Ce",value:function(e){var t=this,n=e.store(dr.store),r=e.store(pr.store);return n.Lt().next((function(n){return Cr.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Lt(pr.userMutationsIndex,i).next((function(r){return Cr.forEach(r,(function(r){P(r.userId===n.userId);var i=Xr(t.N,r);return fi(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"xe",value:function(e){var t=e.store(wr.store),n=e.store(gr.store);return e.store(_r.store).get(_r.key).next((function(e){var r=[];return n.Kt((function(n,i){var a=new ne(n),o=function(e){return[0,ur(e)]}(a);r.push(t.get(o).next((function(n){return n?Cr.resolve():function(n){return t.put(new wr(0,ur(n),e.highestListenSequenceNumber))}(a)})))})).next((function(){return Cr.waitFor(r)}))}))}},{key:"ke",value:function(e,t){e.createObjectStore(Or.store,{keyPath:Or.keyPath});var n=t.store(Or.store),r=new oi,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:ur(i)})}};return t.store(gr.store).Kt({qt:!0},(function(e,t){var n=new ne(e);return i(n.popLast())})).next((function(){return t.store(vr.store).Kt({qt:!0},(function(e,t){var n=Object(o.a)(e,3),r=(n[0],n[1]),a=(n[2],lr(r));return i(a.popLast())}))}))}},{key:"$e",value:function(e){var t=this,n=e.store(kr.store);return n.Kt((function(e,r){var i=Zr(r),a=ei(t.N,i);return n.put(a)}))}}]),e}();function Ui(e){e.createObjectStore(wr.store,{keyPath:wr.keyPath}).createIndex(wr.documentTargetsIndex,wr.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(kr.store,{keyPath:kr.keyPath}).createIndex(kr.queryTargetsIndexName,kr.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(_r.store)}var Vi="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",qi=function(){function e(t,n,r,i,a,o,u,s,c,l){if(Object(v.a)(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Oe=a,this.window=o,this.document=u,this.Fe=c,this.Me=l,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=function(e){return Promise.resolve()},!e.bt())throw new L(D.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ii(this,i),this.We=n+"main",this.N=new Hr(s),this.Ge=new Pr(this.We,11,new Fi(this.N)),this.ze=new bi(this.referenceDelegate,this.N),this.Ht=new ui,this.He=function(e,t){return new Ri(e,t)}(this.N,this.Ht),this.Je=new ni,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===l&&T("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Object(y.a)(e,[{key:"start",value:function(){var e=this;return this.Xe().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new L(D.FAILED_PRECONDITION,Vi);return e.Ze(),e.tn(),e.en(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.ze.getHighestSequenceNumber(t)}))})).then((function(t){e.Le=new W(t,e.Fe)})).then((function(){e.Be=!0})).catch((function(t){return e.Ge&&e.Ge.close(),Promise.reject(t)}))}},{key:"nn",value:function(e){var t=this;return this.Qe=function(){var n=Object(l.a)(c.a.mark((function n(r){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.Ge.xt(function(){var t=Object(l.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget(Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Xe();case 4:case"end":return e.stop()}}),e)})))))}},{key:"Xe",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Bi(t).put(new jr(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.sn(t).next((function(t){t||(e.isPrimary=!1,e.Oe.enqueueRetryable((function(){return e.Qe(!1)})))}))})).next((function(){return e.rn(t)})).next((function(n){return e.isPrimary&&!n?e.on(t).next((function(){return!1})):!!n&&e.an(t).next((function(){return!0}))}))})).catch((function(t){if(Dr(t))return S("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return S("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Oe.enqueueRetryable((function(){return e.Qe(t)})),e.isPrimary=t}))}},{key:"sn",value:function(e){var t=this;return zi(e).get(hr.key).next((function(e){return Cr.resolve(t.cn(e))}))}},{key:"un",value:function(e){return Bi(e).delete(this.clientId)}},{key:"hn",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,n,r,i,a=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.ln(this.je,18e5)){e.next=6;break}return this.je=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=qr(e,jr.store);return t.Lt().next((function(e){var n=a.fn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Cr.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Ye){n=Object(u.a)(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Ye.removeItem(this.dn(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"en",value:function(){var e=this;this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Xe().then((function(){return e.hn()})).then((function(){return e.en()}))}))}},{key:"cn",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"rn",value:function(e){var t=this;return this.Me?Cr.resolve(!0):zi(e).get(hr.key).next((function(n){if(null!==n&&t.ln(n.leaseTimestampMs,5e3)&&!t.wn(n.ownerId)){if(t.cn(n)&&t.networkEnabled)return!0;if(!t.cn(n)){if(!n.allowTabSynchronization)throw new L(D.FAILED_PRECONDITION,Vi);return!1}}return!(!t.networkEnabled||!t.inForeground)||Bi(e).Lt().next((function(e){return void 0===t.fn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&S("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Be=!1,this._n(),this.Ke&&(this.Ke.cancel(),this.Ke=null),this.mn(),this.gn(),e.next=7,this.Ge.runTransaction("shutdown","readwrite",[hr.store,jr.store],(function(e){var n=new Vr(e,W.T);return t.on(n).next((function(){return t.un(n)}))}));case 7:this.Ge.close(),this.yn();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fn",value:function(e,t){var n=this;return e.filter((function(e){return n.ln(e.updateTimeMs,t)&&!n.wn(e.clientId)}))}},{key:"pn",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Bi(t).Lt().next((function(t){return e.fn(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Be}},{key:"getMutationQueue",value:function(e){return di.Yt(e,this.N,this.Ht,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.ze}},{key:"getRemoteDocumentCache",value:function(){return this.He}},{key:"getIndexManager",value:function(){return this.Ht}},{key:"getBundleCache",value:function(){return this.Je}},{key:"runTransaction",value:function(e,t,n){var r=this;S("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite";return this.Ge.runTransaction(e,a,Sr,(function(a){return i=new Vr(a,r.Le?r.Le.next():W.T),"readwrite-primary"===t?r.sn(i).next((function(e){return!!e||r.rn(i)})).next((function(t){if(!t)throw T("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Oe.enqueueRetryable((function(){return r.Qe(!1)})),new L(D.FAILED_PRECONDITION,Tr);return n(i)})).next((function(e){return r.an(i).next((function(){return e}))})):r.En(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"En",value:function(e){var t=this;return zi(e).get(hr.key).next((function(e){if(null!==e&&t.ln(e.leaseTimestampMs,5e3)&&!t.wn(e.ownerId)&&!t.cn(e)&&!(t.Me||t.allowTabSynchronization&&e.allowTabSynchronization))throw new L(D.FAILED_PRECONDITION,Vi)}))}},{key:"an",value:function(e){var t=new hr(this.clientId,this.allowTabSynchronization,Date.now());return zi(e).put(hr.key,t)}},{key:"on",value:function(e){var t=this,n=zi(e);return n.get(hr.key).next((function(e){return t.cn(e)?(S("IndexedDbPersistence","Releasing primary lease."),n.delete(hr.key)):Cr.resolve()}))}},{key:"ln",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(T("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"Ze",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=function(){e.Oe.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Xe()}))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}},{key:"mn",value:function(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}},{key:"tn",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ue=function(){t._n(),Object(k.E)()&&navigator.appVersion.match("Version/14")&&t.Oe.enterRestrictedMode(!0),t.Oe.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Ue))}},{key:"gn",value:function(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}},{key:"wn",value:function(e){var t;try{var n=null!==(null===(t=this.Ye)||void 0===t?void 0:t.getItem(this.dn(e)));return S("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return T("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"_n",value:function(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(Ul){T("Failed to set zombie client id.",Ul)}}},{key:"yn",value:function(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(Ul){}}},{key:"dn",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"bt",value:function(){return Pr.bt()}}]),e}();function zi(e){return qr(e,hr.store)}function Bi(e){return qr(e,jr.store)}function Wi(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Hi=function e(t,n){Object(v.a)(this,e),this.progress=t,this.Tn=n},Ki=function(){function e(t,n,r){Object(v.a)(this,e),this.He=t,this.In=n,this.Ht=r}return Object(y.a)(e,[{key:"An",value:function(e,t){var n=this;return this.In.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Rn(e,t,r)}))}},{key:"Rn",value:function(e,t,n){return this.He.getEntry(e,t).next((function(e){var t,r=Object(u.a)(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"bn",value:function(e,t){e.forEach((function(e,n){var r,i=Object(u.a)(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"Pn",value:function(e,t){var n=this;return this.He.getEntries(e,t).next((function(t){return n.vn(e,t).next((function(){return t}))}))}},{key:"vn",value:function(e,t){var n=this;return this.In.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.bn(t,e)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return ge.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Vn(e,t.path):ct(t)?this.Sn(e,t,n):this.Dn(e,t,n)}},{key:"Vn",value:function(e,t){return this.An(e,new ge(t)).next((function(e){var t=fn();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Sn",value:function(e,t,n){var r=this,i=t.collectionGroup,a=fn();return this.Ht.getCollectionParents(e,i).next((function(o){return Cr.forEach(o,(function(o){var u=function(e,t){return new nt(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Dn(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Dn",value:function(e,t,n){var r,i,a=this;return this.He.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,a.In.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,a.Cn(e,i,r).next((function(e){r=e;var t,n=Object(u.a)(i);try{for(n.s();!(t=n.n()).done;){var a,o=t.value,s=Object(u.a)(o.mutations);try{for(s.s();!(a=s.n()).done;){var c=a.value,l=c.key,f=r.get(l);null==f&&(f=De.newInvalidDocument(l),r=r.insert(l,f)),Vt(c,f,o.localWriteTime),f.isFoundDocument()||(r=r.remove(l))}}catch(h){s.e(h)}finally{s.f()}}}catch(h){n.e(h)}finally{n.f()}}))})).next((function(){return r.forEach((function(e,n){yt(t,n)||(r=r.remove(e))})),r}))}},{key:"Cn",value:function(e,t,n){var r,i=vn(),a=Object(u.a)(t);try{for(a.s();!(r=a.n()).done;){var o,s=r.value,c=Object(u.a)(s.mutations);try{for(c.s();!(o=c.n()).done;){var l=o.value;l instanceof Ht&&null===n.get(l.key)&&(i=i.add(l.key))}}catch(h){c.e(h)}finally{c.f()}}}catch(h){a.e(h)}finally{a.f()}var f=n;return this.He.getEntries(e,i).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(f=f.insert(e,t))})),f}))}}]),e}(),Gi=function(){function e(t,n,r,i){Object(v.a)(this,e),this.targetId=t,this.fromCache=n,this.Nn=r,this.xn=i}return Object(y.a)(e,null,[{key:"kn",value:function(t,n){var r,i=vn(),a=vn(),o=Object(u.a)(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(c){o.e(c)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Qi=function(){function e(){Object(v.a)(this,e)}return Object(y.a)(e,[{key:"$n",value:function(e){this.On=e}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(J.min())?this.Fn(e,t):this.On.Pn(e,r).next((function(a){var o=i.Mn(t,a);return(at(t)||ot(t))&&i.Ln(t.limitType,o,r,n)?i.Fn(e,t):(x()<=b.a.DEBUG&&S("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),vt(t)),i.On.getDocumentsMatchingQuery(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"Mn",value:function(e,t){var n=new on(mt(e));return t.forEach((function(t,r){yt(e,r)&&(n=n.add(r))})),n}},{key:"Ln",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Fn",value:function(e,t){return x()<=b.a.DEBUG&&S("QueryEngine","Using full collection scan to execute query:",vt(t)),this.On.getDocumentsMatchingQuery(e,t,J.min())}}]),e}(),$i=function(){function e(t,n,r,i){Object(v.a)(this,e),this.persistence=t,this.Bn=n,this.N=i,this.Un=new nn(G),this.qn=new Ni((function(e){return Fe(e)}),Ue),this.Kn=J.min(),this.In=t.getMutationQueue(r),this.jn=t.getRemoteDocumentCache(),this.ze=t.getTargetCache(),this.Qn=new Ki(this.jn,this.In,this.persistence.getIndexManager()),this.Je=t.getBundleCache(),this.Bn.$n(this.Qn)}return Object(y.a)(e,[{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Un)}))}}]),e}();function Yi(e,t,n,r){return new $i(e,t,n,r)}function Ji(e,t){return Xi.apply(this,arguments)}function Xi(){return(Xi=Object(l.a)(c.a.mark((function e(t,n){var r,i,a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=A(t),i=r.In,a=r.Qn,e.next=4,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.In.getAllMutationBatches(e).next((function(o){return t=o,i=r.persistence.getMutationQueue(n),a=new Ki(r.jn,i,r.persistence.getIndexManager()),i.getAllMutationBatches(e)})).next((function(n){var r,i=[],o=[],s=vn(),c=Object(u.a)(t);try{for(c.s();!(r=c.n()).done;){var l=r.value;i.push(l.batchId);var f,h=Object(u.a)(l.mutations);try{for(h.s();!(f=h.n()).done;){var d=f.value;s=s.add(d.key)}}catch(k){h.e(k)}finally{h.f()}}}catch(k){c.e(k)}finally{c.f()}var p,v=Object(u.a)(n);try{for(v.s();!(p=v.n()).done;){var y=p.value;o.push(y.batchId);var m,g=Object(u.a)(y.mutations);try{for(g.s();!(m=g.n()).done;){var b=m.value;s=s.add(b.key)}}catch(k){g.e(k)}finally{g.f()}}}catch(k){v.e(k)}finally{v.f()}return a.Pn(e,s).next((function(e){return{Wn:e,removedBatchIds:i,addedBatchIds:o}}))}))}));case 4:return o=e.sent,e.abrupt("return",(r.In=i,r.Qn=a,r.Bn.$n(r.Qn),o));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zi(e,t){var n=A(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.jn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Cr.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);P(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),o.next((function(){return e.In.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.In.performConsistencyCheck(e)})).next((function(){return n.Qn.Pn(e,r)}))}))}function ea(e){var t=A(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.ze.getLastRemoteSnapshotVersion(e)}))}function ta(e,t){var n=A(e),r=t.snapshotVersion,i=n.Un;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.jn.newChangeBuffer({trackRemovals:!0});i=n.Un;var o=[];t.targetChanges.forEach((function(t,a){var u=i.get(a);if(u){o.push(n.ze.removeMatchingKeys(e,t.removedDocuments,a).next((function(){return n.ze.addMatchingKeys(e,t.addedDocuments,a)})));var s=t.resumeToken;if(s.approximateByteSize()>0){var c=u.withResumeToken(s,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(a,c),function(e,t,n){return P(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,t)&&o.push(n.ze.updateTargetData(e,c))}}}));var u=cn();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(na(e,a,t.documentUpdates,r,void 0).next((function(e){u=e}))),!r.isEqual(J.min())){var s=n.ze.getLastRemoteSnapshotVersion(e).next((function(t){return n.ze.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return Cr.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.Qn.vn(e,u)})).next((function(){return u}))})).then((function(e){return n.Un=i,e}))}function na(e,t,n,r,i){var a=vn();return n.forEach((function(e){return a=a.add(e)})),t.getEntries(e,a).next((function(e){var a=cn();return n.forEach((function(n,o){var u=e.get(n),s=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(J.min())?(t.removeEntry(n,s),a=a.insert(n,o)):!u.isValidDocument()||o.version.compareTo(u.version)>0||0===o.version.compareTo(u.version)&&u.hasPendingWrites?(t.addEntry(o,s),a=a.insert(n,o)):S("LocalStore","Ignoring outdated watch update for ",n,". Current version:",u.version," Watch version:",o.version)})),a}))}function ra(e,t){var n=A(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.In.getNextMutationBatchAfterBatchId(e,t)}))}function ia(e,t){var n=A(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.ze.getTargetData(e,t).next((function(i){return i?(r=i,Cr.resolve(r)):n.ze.allocateTargetId(e).next((function(i){return r=new Wr(t,i,0,e.currentSequenceNumber),n.ze.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Un.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Un=n.Un.insert(e.targetId,e),n.qn.set(t,e.targetId)),e}))}function aa(e,t,n){return oa.apply(this,arguments)}function oa(){return(oa=Object(l.a)(c.a.mark((function e(t,n,r){var i,a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=A(t),a=i.Un.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Dr(e.t1)){e.next=12;break}throw e.t1;case 12:S("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Un=i.Un.remove(n),i.qn.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function ua(e,t,n){var r=A(e),i=J.min(),a=vn();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=A(e),i=r.qn.get(n);return void 0!==i?Cr.resolve(r.Un.get(i)):r.ze.getTargetData(t,n)}(r,e,ft(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Bn.getDocumentsMatchingQuery(e,t,n?i:J.min(),n?a:vn())})).next((function(e){return{documents:e,Gn:a}}))}))}function sa(e,t){var n=A(e),r=A(n.ze),i=n.Un.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function ca(e){var t=A(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=A(e),i=cn(),a=Qr(n),o=Li(t),u=IDBKeyRange.lowerBound(a,!0);return o.Kt({index:gr.readTimeIndex,range:u},(function(e,t){var n=Kr(r.N,t);i=i.insert(n.key,n),a=t.readTime})).next((function(){return{Tn:i,readTime:$r(a)}}))}(t.jn,e,t.Kn)})).then((function(e){var n=e.Tn,r=e.readTime;return t.Kn=r,n}))}function la(e){return fa.apply(this,arguments)}function fa(){return(fa=Object(l.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=A(t),e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=Li(e),n=J.min();return t.Kt({index:gr.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=$r(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){n.Kn=e})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ha(e,t,n,r){return da.apply(this,arguments)}function da(){return(da=Object(l.a)(c.a.mark((function e(t,n,r,i){var a,o,s,l,f,h,d,p,v,y;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=A(t),o=vn(),s=cn(),l=dn(),f=Object(u.a)(r);try{for(f.s();!(h=f.n()).done;)d=h.value,p=n.zn(d.metadata.name),d.document&&(o=o.add(p)),s=s.insert(p,n.Hn(d)),l=l.insert(p,n.Jn(d.metadata.readTime))}catch(c){f.e(c)}finally{f.f()}return v=a.jn.newChangeBuffer({trackRemovals:!0}),e.next=7,ia(a,function(e){return ft(it(ne.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return y=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return na(e,v,s,J.min(),l).next((function(t){return v.apply(e),t})).next((function(t){return a.ze.removeMatchingKeysForTargetId(e,y.targetId).next((function(){return a.ze.addMatchingKeys(e,o,y.targetId)})).next((function(){return a.Qn.vn(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pa(e,t){return va.apply(this,arguments)}function va(){return(va=Object(l.a)(c.a.mark((function e(t,n){var r,i,a,o=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:vn(),e.next=3,ia(t,ft(ti(n.bundledQuery)));case 3:return i=e.sent,a=A(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Rn(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Je.saveNamedQuery(e,n);var o=i.withResumeToken(ue.EMPTY_BYTE_STRING,t);return a.Un=a.Un.insert(o.targetId,o),a.ze.updateTargetData(e,o).next((function(){return a.ze.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.ze.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Je.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ya=function(){function e(t){Object(v.a)(this,e),this.N=t,this.Yn=new Map,this.Xn=new Map}return Object(y.a)(e,[{key:"getBundleMetadata",value:function(e,t){return Cr.resolve(this.Yn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Yn.set(t.id,{id:(n=t).id,version:n.version,createTime:Rn(n.createTime)}),Cr.resolve()}},{key:"getNamedQuery",value:function(e,t){return Cr.resolve(this.Xn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Xn.set(t.name,function(e){return{name:e.name,query:ti(e.bundledQuery),readTime:Rn(e.readTime)}}(t)),Cr.resolve()}}]),e}(),ma=function(){function e(){Object(v.a)(this,e),this.Zn=new on(ga.ts),this.es=new on(ga.ns)}return Object(y.a)(e,[{key:"isEmpty",value:function(){return this.Zn.isEmpty()}},{key:"addReference",value:function(e,t){var n=new ga(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}},{key:"ss",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.rs(new ga(e,t))}},{key:"os",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"cs",value:function(e){var t=this,n=new ge(new ne([])),r=new ga(n,e),i=new ga(n,e+1),a=[];return this.es.forEachInRange([r,i],(function(e){t.rs(e),a.push(e.key)})),a}},{key:"us",value:function(){var e=this;this.Zn.forEach((function(t){return e.rs(t)}))}},{key:"rs",value:function(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}},{key:"hs",value:function(e){var t=new ge(new ne([])),n=new ga(t,e),r=new ga(t,e+1),i=vn();return this.es.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new ga(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),ga=function(){function e(t,n){Object(v.a)(this,e),this.key=t,this.ls=n}return Object(y.a)(e,null,[{key:"ts",value:function(e,t){return ge.comparator(e.key,t.key)||G(e.ls,t.ls)}},{key:"ns",value:function(e,t){return G(e.ls,t.ls)||ge.comparator(e.key,t.key)}}]),e}(),ba=function(){function e(t,n){Object(v.a)(this,e),this.Ht=t,this.referenceDelegate=n,this.In=[],this.fs=1,this.ds=new on(ga.ts)}return Object(y.a)(e,[{key:"checkEmpty",value:function(e){return Cr.resolve(0===this.In.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.fs;this.fs++,this.In.length>0&&this.In[this.In.length-1];var a=new zr(i,t,n,r);this.In.push(a);var o,s=Object(u.a)(r);try{for(s.s();!(o=s.n()).done;){var c=o.value;this.ds=this.ds.add(new ga(c.key,i)),this.Ht.addToCollectionParentIndex(e,c.key.path.popLast())}}catch(l){s.e(l)}finally{s.f()}return Cr.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Cr.resolve(this.ws(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this._s(n),i=r<0?0:r;return Cr.resolve(this.In.length>i?this.In[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Cr.resolve(0===this.In.length?-1:this.fs-1)}},{key:"getAllMutationBatches",value:function(e){return Cr.resolve(this.In.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new ga(t,0),i=new ga(t,Number.POSITIVE_INFINITY),a=[];return this.ds.forEachInRange([r,i],(function(e){var t=n.ws(e.ls);a.push(t)})),Cr.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new on(G);return t.forEach((function(e){var t=new ga(e,0),i=new ga(e,Number.POSITIVE_INFINITY);n.ds.forEachInRange([t,i],(function(e){r=r.add(e.ls)}))})),Cr.resolve(this.gs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;ge.isDocumentKey(i)||(i=i.child(""));var a=new ga(new ge(i),0),o=new on(G);return this.ds.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ls)),!0)}),a),Cr.resolve(this.gs(o))}},{key:"gs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ws(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;P(0===this.ys(t.batchId,"removed")),this.In.shift();var r=this.ds;return Cr.forEach(t.mutations,(function(i){var a=new ga(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ds=r}))}},{key:"te",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new ga(t,0),r=this.ds.firstAfterOrEqual(n);return Cr.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.In.length,Cr.resolve()}},{key:"ys",value:function(e,t){return this._s(e)}},{key:"_s",value:function(e){return 0===this.In.length?0:e-this.In[0].batchId}},{key:"ws",value:function(e){var t=this._s(e);return t<0||t>=this.In.length?null:this.In[t]}}]),e}(),ka=function(){function e(t,n){Object(v.a)(this,e),this.Ht=t,this.ps=n,this.docs=new nn(ge.comparator),this.size=0}return Object(y.a)(e,[{key:"addEntry",value:function(e,t,n){var r=t.key,i=this.docs.get(r),a=i?i.size:0,o=this.ps(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:o,readTime:n}),this.size+=o-a,this.Ht.addToCollectionParentIndex(e,r.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Cr.resolve(n?n.document.clone():De.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=cn();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():De.newInvalidDocument(e))})),Cr.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){for(var r=cn(),i=new ge(t.path.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value,c=s.document,l=s.readTime;if(!t.path.isPrefixOf(u.path))break;l.compareTo(n)<=0||yt(t,c)&&(r=r.insert(c.key,c.clone()))}return Cr.resolve(r)}},{key:"Es",value:function(e,t){return Cr.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new wa(this)}},{key:"getSize",value:function(e){return Cr.resolve(this.size)}}]),e}(),wa=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(v.a)(this,n),(r=t.call(this)).Se=e,r}return Object(y.a)(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Se.addEntry(e,i.document,t.getReadTime(r))):t.Se.removeEntry(r)})),Cr.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Se.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Se.getEntries(e,t)}}]),n}(Pi),_a=function(){function e(t){Object(v.a)(this,e),this.persistence=t,this.Ts=new Ni((function(e){return Fe(e)}),Ue),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.Is=0,this.As=new ma,this.targetCount=0,this.Rs=gi.se()}return Object(y.a)(e,[{key:"forEachTarget",value:function(e,t){return this.Ts.forEach((function(e,n){return t(n)})),Cr.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Cr.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Cr.resolve(this.Is)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Rs.next(),Cr.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Is&&(this.Is=t),Cr.resolve()}},{key:"ae",value:function(e){this.Ts.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Rs=new gi(t),this.highestTargetId=t),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.ae(t),this.targetCount+=1,Cr.resolve()}},{key:"updateTargetData",value:function(e,t){return this.ae(t),Cr.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Ts.delete(t.target),this.As.cs(t.targetId),this.targetCount-=1,Cr.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Ts.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Ts.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Cr.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Cr.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Ts.get(t)||null;return Cr.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.As.ss(t,n),Cr.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.As.os(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Cr.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.As.cs(t),Cr.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.As.hs(t);return Cr.resolve(n)}},{key:"containsKey",value:function(e,t){return Cr.resolve(this.As.containsKey(t))}}]),e}(),Oa=function(){function e(t,n){var r=this;Object(v.a)(this,e),this.bs={},this.Le=new W(0),this.Be=!1,this.Be=!0,this.referenceDelegate=t(this),this.ze=new _a(this),this.Ht=new ai,this.He=function(e,t){return new ka(e,(function(e){return r.referenceDelegate.Ps(e)}))}(this.Ht),this.N=new Hr(n),this.Je=new ya(this.N)}return Object(y.a)(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Be=!1,Promise.resolve()}},{key:"started",get:function(){return this.Be}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(){return this.Ht}},{key:"getMutationQueue",value:function(e){var t=this.bs[e.toKey()];return t||(t=new ba(this.Ht,this.referenceDelegate),this.bs[e.toKey()]=t),t}},{key:"getTargetCache",value:function(){return this.ze}},{key:"getRemoteDocumentCache",value:function(){return this.He}},{key:"getBundleCache",value:function(){return this.Je}},{key:"runTransaction",value:function(e,t,n){var r=this;S("MemoryPersistence","Starting transaction:",e);var i=new ja(this.Le.next());return this.referenceDelegate.vs(),n(i).next((function(e){return r.referenceDelegate.Vs(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ss",value:function(e,t){return Cr.or(Object.values(this.bs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),ja=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(v.a)(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return n}(Ir),xa=function(){function e(t){Object(v.a)(this,e),this.persistence=t,this.Ds=new ma,this.Cs=null}return Object(y.a)(e,[{key:"xs",get:function(){if(this.Cs)return this.Cs;throw N()}},{key:"addReference",value:function(e,t,n){return this.Ds.addReference(n,t),this.xs.delete(n.toString()),Cr.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Ds.removeReference(n,t),this.xs.add(n.toString()),Cr.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.xs.add(t.toString()),Cr.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Ds.cs(t.targetId).forEach((function(e){return n.xs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.xs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"vs",value:function(){this.Cs=new Set}},{key:"Vs",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Cr.forEach(this.xs,(function(r){var i=ge.fromPath(r);return t.ks(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Cs=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.ks(e,t).next((function(e){e?n.xs.delete(t.toString()):n.xs.add(t.toString())}))}},{key:"Ps",value:function(e){return 0}},{key:"ks",value:function(e,t){var n=this;return Cr.or([function(){return Cr.resolve(n.Ds.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ss(e,t)}])}}],[{key:"Ns",value:function(t){return new e(t)}}]),e}();function Ea(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Sa(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Ta(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Ia=function(){function e(t,n,r,i){Object(v.a)(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Object(y.a)(e,[{key:"Os",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"$s",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new L(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(T("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Ca=function(){function e(t,n,r){Object(v.a)(this,e),this.targetId=t,this.state=n,this.error=r}return Object(y.a)(e,[{key:"Os",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"$s",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new L(i.error.code,i.error.message))),a?new e(t,i.state,r):(T("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Na=function(){function e(t,n){Object(v.a)(this,e),this.clientId=t,this.activeTargetIds=n}return Object(y.a)(e,null,[{key:"$s",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=mn(),o=0;i&&o<r.activeTargetIds.length;++o)i=me(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(T("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Pa=function(){function e(t,n){Object(v.a)(this,e),this.clientId=t,this.onlineState=n}return Object(y.a)(e,null,[{key:"$s",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(T("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Ra=function(){function e(){Object(v.a)(this,e),this.activeTargetIds=mn()}return Object(y.a)(e,[{key:"Fs",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ms",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Os",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Aa=function(){function e(t,n,r,i,a){Object(v.a)(this,e),this.window=t,this.Oe=n,this.persistenceKey=r,this.Ls=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new nn(G),this.started=!1,this.Ks=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.js=Ea(this.persistenceKey,this.Ls),this.Qs=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.qs=this.qs.insert(this.Ls,new Ra),this.Ws=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Gs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.zs=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Hs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Js=function(e){return"firestore_bundle_loaded_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}return Object(y.a)(e,[{key:"start",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,n,r,i,a,o,s,l,f,h,d,p=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.pn();case 2:t=e.sent,n=Object(u.a)(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.Ls){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Ea(this.persistenceKey,i)))&&(o=Na.$s(i,a))&&(this.qs=this.qs.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Ys(),(s=this.storage.getItem(this.Hs))&&(l=this.Xs(s))&&this.Zs(l),f=Object(u.a)(this.Ks);try{for(f.s();!(h=f.n()).done;)d=h.value,this.Us(d)}catch(c){f.e(c)}finally{f.f()}this.Ks=[],this.window.addEventListener("pagehide",(function(){return p.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Qs,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.ti(this.qs)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.qs.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.ei(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.ei(e,t,n),this.ni(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Ta(this.persistenceKey,e));if(n){var r=Ca.$s(e,n);r&&(t=r.state)}}return this.si.Fs(e),this.Ys(),t}},{key:"removeLocalQueryTarget",value:function(e){this.si.Ms(e),this.Ys()}},{key:"isLocalQueryTarget",value:function(e){return this.si.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Ta(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.ii(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.ni(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.ri(e)}},{key:"notifyBundleLoaded",value:function(){this.oi()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return S("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){S("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){S("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"Us",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(S("SharedClientState","EVENT",n.key,n.newValue),n.key===this.js)return void T("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable(Object(l.a)(c.a.mark((function e(){var r,i,a,o,u,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.Ws.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.ai(n.key),e.abrupt("return",t.ci(r,null));case 6:if(!(i=t.ui(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.ci(i.clientId,i));case 9:e.next=39;break;case 11:if(!t.Gs.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.hi(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.li(a));case 16:e.next=39;break;case 18:if(!t.zs.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.fi(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.di(o));case 23:e.next=39;break;case 25:if(n.key!==t.Hs){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.Xs(n.newValue))){e.next=30;break}return e.abrupt("return",t.Zs(u));case 30:e.next=39;break;case 32:if(n.key!==t.Qs){e.next=37;break}(s=function(e){var t=W.T;if(null!=e)try{var n=JSON.parse(e);P("number"==typeof n),t=n}catch(e){T("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==W.T&&t.sequenceNumberHandler(s),e.next=39;break;case 37:if(n.key!==t.Js){e.next=39;break}return e.abrupt("return",t.syncEngine.wi());case 39:e.next=42;break;case 41:t.Ks.push(n);case 42:case"end":return e.stop()}}),e)}))))}}},{key:"si",get:function(){return this.qs.get(this.Ls)}},{key:"Ys",value:function(){this.setItem(this.js,this.si.Os())}},{key:"ei",value:function(e,t,n){var r=new Ia(this.currentUser,e,t,n),i=Sa(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Os())}},{key:"ni",value:function(e){var t=Sa(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"ri",value:function(e){var t={clientId:this.Ls,onlineState:e};this.storage.setItem(this.Hs,JSON.stringify(t))}},{key:"ii",value:function(e,t,n){var r=Ta(this.persistenceKey,e),i=new Ca(e,t,n);this.setItem(r,i.Os())}},{key:"oi",value:function(){this.setItem(this.Js,"value-not-used")}},{key:"ai",value:function(e){var t=this.Ws.exec(e);return t?t[1]:null}},{key:"ui",value:function(e,t){var n=this.ai(e);return Na.$s(n,t)}},{key:"hi",value:function(e,t){var n=this.Gs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Ia.$s(new _(i),r,t)}},{key:"fi",value:function(e,t){var n=this.zs.exec(e),r=Number(n[1]);return Ca.$s(r,t)}},{key:"Xs",value:function(e){return Pa.$s(e)}},{key:"li",value:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine._i(t.batchId,t.state,t.error));case 2:S("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"di",value:function(e){return this.syncEngine.mi(e.targetId,e.state,e.error)}},{key:"ci",value:function(e,t){var n=this,r=t?this.qs.insert(e,t):this.qs.remove(e),i=this.ti(this.qs),a=this.ti(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.gi(o,u).then((function(){n.qs=r}))}},{key:"Zs",value:function(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"ti",value:function(e){var t=mn();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"bt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Da=function(){function e(){Object(v.a)(this,e),this.yi=new Ra,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Object(y.a)(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.yi.Fs(e),this.pi[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.pi[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.yi.Ms(e)}},{key:"isLocalQueryTarget",value:function(e){return this.yi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.pi[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.yi.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.yi.activeTargetIds.has(e)}},{key:"start",value:function(){return this.yi=new Ra,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),La=function(){function e(){Object(v.a)(this,e)}return Object(y.a)(e,[{key:"Ei",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Ma=function(){function e(){var t=this;Object(v.a)(this,e),this.Ti=function(){return t.Ii()},this.Ai=function(){return t.Ri()},this.bi=[],this.Pi()}return Object(y.a)(e,[{key:"Ei",value:function(e){this.bi.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}},{key:"Pi",value:function(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}},{key:"Ii",value:function(){S("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Object(u.a)(this.bi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Ri",value:function(){S("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Object(u.a)(this.bi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"bt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Fa={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Ua=function(){function e(t){Object(v.a)(this,e),this.vi=t.vi,this.Vi=t.Vi}return Object(y.a)(e,[{key:"Si",value:function(e){this.Di=e}},{key:"Ci",value:function(e){this.Ni=e}},{key:"onMessage",value:function(e){this.xi=e}},{key:"close",value:function(){this.Vi()}},{key:"send",value:function(e){this.vi(e)}},{key:"ki",value:function(){this.Di()}},{key:"$i",value:function(e){this.Ni(e)}},{key:"Oi",value:function(e){this.xi(e)}}]),e}(),Va=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(v.a)(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Object(y.a)(n,[{key:"qi",value:function(e,t,n,r){return new Promise((function(i,a){var o=new w.g;o.listenOnce(w.c.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case w.a.NO_ERROR:var t=o.getResponseJson();S("Connection","XHR received:",JSON.stringify(t)),i(t);break;case w.a.TIMEOUT:S("Connection",'RPC "'+e+'" timed out'),a(new L(D.DEADLINE_EXCEEDED,"Request time out"));break;case w.a.HTTP_ERROR:var n=o.getStatus();if(S("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(t)>=0?t:D.UNKNOWN}(r.status);a(new L(u,r.message))}else a(new L(D.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new L(D.UNAVAILABLE,"Connection failed."));break;default:N()}}finally{S("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"ji",value:function(e,t){var n=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=Object(w.h)(),i=Object(w.i)(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new w.d({})),this.Ui(a.initMessageHeaders,t),Object(k.A)()||Object(k.D)()||Object(k.w)()||Object(k.y)()||Object(k.F)()||Object(k.v)()||(a.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");S("Connection","Creating WebChannel: "+o,a);var u=r.createWebChannel(o,a),s=!1,c=!1,l=new Ua({vi:function(e){c?S("Connection","Not sending because WebChannel is closed:",e):(s||(S("Connection","Opening WebChannel transport."),u.open(),s=!0),S("Connection","WebChannel sending:",e),u.send(e))},Vi:function(){return u.close()}}),f=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return f(u,w.f.EventType.OPEN,(function(){c||S("Connection","WebChannel transport opened.")})),f(u,w.f.EventType.CLOSE,(function(){c||(c=!0,S("Connection","WebChannel transport closed"),l.$i())})),f(u,w.f.EventType.ERROR,(function(e){c||(c=!0,I("Connection","WebChannel transport errored:",e),l.$i(new L(D.UNAVAILABLE,"The operation could not be completed")))})),f(u,w.f.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];P(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){S("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=$t[e];if(void 0!==t)return tn(t)}(a),s=i.message;void 0===o&&(o=D.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),c=!0,l.$i(new L(o,s)),u.close()}else S("Connection","WebChannel received:",n),l.Oi(n)}})),f(i,w.b.STAT_EVENT,(function(e){e.stat===w.e.PROXY?S("Connection","Detected buffering proxy"):e.stat===w.e.NOPROXY&&S("Connection","Detected no buffering proxy")})),setTimeout((function(){l.ki()}),0),l}}]),n}(function(){function e(t){Object(v.a)(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Fi=n+"://"+t.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Object(y.a)(e,[{key:"Li",value:function(e,t,n,r){var i=this.Bi(e,t);S("RestConnection","Sending: ",i,n);var a={};return this.Ui(a,r),this.qi(e,i,a,n).then((function(e){return S("RestConnection","Received: ",e),e}),(function(t){throw I("RestConnection","".concat(e," failed with error: "),t,"url: ",i,"request:",n),t}))}},{key:"Ki",value:function(e,t,n,r){return this.Li(e,t,n,r)}},{key:"Ui",value:function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+O,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])}},{key:"Bi",value:function(e,t){var n=Fa[e];return"".concat(this.Fi,"/v1/").concat(t,":").concat(n)}}]),e}());function qa(){return"undefined"!=typeof window?window:null}function za(){return"undefined"!=typeof document?document:null}function Ba(e){return new In(e,!0)}var Wa=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Object(v.a)(this,e),this.Oe=t,this.timerId=n,this.Qi=r,this.Wi=i,this.Gi=a,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}return Object(y.a)(e,[{key:"reset",value:function(){this.zi=0}},{key:"Yi",value:function(){this.zi=this.Gi}},{key:"Xi",value:function(e){var t=this;this.cancel();var n=Math.floor(this.zi+this.Zi()),r=Math.max(0,Date.now()-this.Ji),i=Math.max(0,n-r);i>0&&S("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.zi," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,i,(function(){return t.Ji=Date.now(),e()})),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}},{key:"tr",value:function(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}},{key:"cancel",value:function(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}},{key:"Zi",value:function(){return(Math.random()-.5)*this.zi}}]),e}(),Ha=function(){function e(t,n,r,i,a,o){Object(v.a)(this,e),this.Oe=t,this.er=r,this.nr=i,this.credentialsProvider=a,this.listener=o,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new Wa(t,n)}return Object(y.a)(e,[{key:"ar",value:function(){return 1===this.state||2===this.state||4===this.state}},{key:"cr",value:function(){return 2===this.state}},{key:"start",value:function(){3!==this.state?this.auth():this.ur()}},{key:"stop",value:function(){var e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.ar(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hr",value:function(){this.state=0,this.rr.reset()}},{key:"lr",value:function(){var e=this;this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,(function(){return e.dr()})))}},{key:"wr",value:function(e){this._r(),this.stream.send(e)}},{key:"dr",value:function(){var e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.cr()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_r",value:function(){this.ir&&(this.ir.cancel(),this.ir=null)}},{key:"close",value:function(){var e=Object(l.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._r(),this.rr.cancel(),this.sr++,3!==t?this.rr.reset():n&&n.code===D.RESOURCE_EXHAUSTED?(T(n.toString()),T("Using maximum backoff delay to prevent overloading the backend."),this.rr.Yi()):n&&n.code===D.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.mr(),this.stream.close(),this.stream=null),this.state=t,e.next=8,this.listener.Ci(n);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"mr",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.gr(this.sr),n=this.sr;this.credentialsProvider.getToken().then((function(t){e.sr===n&&e.yr(t)}),(function(n){t((function(){var t=new L(D.UNKNOWN,"Fetching auth token failed: "+n.message);return e.pr(t)}))}))}},{key:"yr",value:function(e){var t=this,n=this.gr(this.sr);this.stream=this.Er(e),this.stream.Si((function(){n((function(){return t.state=2,t.listener.Si()}))})),this.stream.Ci((function(e){n((function(){return t.pr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))}},{key:"ur",value:function(){var e=this;this.state=4,this.rr.Xi(Object(l.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"pr",value:function(e){return S("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(3,e)}},{key:"gr",value:function(e){var t=this;return function(n){t.Oe.enqueueAndForget((function(){return t.sr===e?n():(S("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Ka=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i,a,o){var u;return Object(v.a)(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",r,i,o)).N=a,u}return Object(y.a)(n,[{key:"Er",value:function(e){return this.nr.ji("Listen",e)}},{key:"onMessage",value:function(e){this.rr.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:N()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.D?(P(void 0===t||"string"==typeof t),ue.fromBase64String(t||"")):(P(void 0===t||t instanceof Uint8Array),ue.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?D.UNKNOWN:tn(e.code);return new L(t,e.message||"")}(o);n=new _n(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Mn(e,s.document.name),l=Rn(s.document.updateTime),f=new Re({mapValue:{fields:s.document.fields}}),h=De.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new kn(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var y=Mn(e,v.document),m=v.readTime?Rn(v.readTime):J.min(),g=De.newNoDocument(y,m),b=v.removedTargetIds||[];n=new kn([],b,g.key,g)}else if("documentRemove"in t){t.documentRemove;var k=t.documentRemove;k.document;var w=Mn(e,k.document),_=k.removedTargetIds||[];n=new kn([],_,w,null)}else{if(!("filter"in t))return N();t.filter;var O=t.filter;O.targetId;var j=O.count||0,x=new Zt(j),E=O.targetId;n=new wn(E,x)}return n}(this.N,e),n=function(e){if(!("targetChange"in e))return J.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?J.min():t.readTime?Rn(t.readTime):J.min()}(e);return this.listener.Tr(t,n)}},{key:"Ir",value:function(e){var t={};t.database=Vn(this.N),t.addTarget=function(e,t){var n,r=t.target;return(n=Ve(r)?{documents:Gn(e,r)}:{query:Qn(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Nn(e,t.resumeToken):t.snapshotVersion.compareTo(J.min())>0&&(n.readTime=Cn(e,t.snapshotVersion.toTimestamp())),n}(this.N,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return N()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.N,e);n&&(t.labels=n),this.wr(t)}},{key:"Ar",value:function(e){var t={};t.database=Vn(this.N),t.removeTarget=e,this.wr(t)}}]),n}(Ha),Ga=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i,a,o){var u;return Object(v.a)(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",r,i,o)).N=a,u.Rr=!1,u}return Object(y.a)(n,[{key:"br",get:function(){return this.Rr}},{key:"start",value:function(){this.Rr=!1,this.lastStreamToken=void 0,Object(i.a)(Object(a.a)(n.prototype),"start",this).call(this)}},{key:"mr",value:function(){this.Rr&&this.Pr([])}},{key:"Er",value:function(e){return this.nr.ji("Write",e)}},{key:"onMessage",value:function(e){if(P(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Rr){this.rr.reset();var t=function(e,t){return e&&e.length>0?(P(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Rn(e.updateTime):Rn(t);return n.isEqual(J.min())&&(n=Rn(t)),new Dt(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Rn(e.commitTime);return this.listener.vr(n,t)}return P(!e.writeResults||0===e.writeResults.length),this.Rr=!0,this.listener.Vr()}},{key:"Sr",value:function(){var e={};e.database=Vn(this.N),this.wr(e)}},{key:"Pr",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Hn(t.N,e)}))};this.wr(n)}}]),n}(Ha),Qa=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i){var a;return Object(v.a)(this,n),(a=t.call(this)).credentials=e,a.nr=r,a.N=i,a.Dr=!1,a}return Object(y.a)(n,[{key:"Cr",value:function(){if(this.Dr)throw new L(D.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Li",value:function(e,t,n){var r=this;return this.Cr(),this.credentials.getToken().then((function(i){return r.nr.Li(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===D.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new L(D.UNKNOWN,e.toString())}))}},{key:"Ki",value:function(e,t,n){var r=this;return this.Cr(),this.credentials.getToken().then((function(i){return r.nr.Ki(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===D.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new L(D.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Dr=!0}}]),n}(function(){return function e(){Object(v.a)(this,e)}}()),$a=function(){function e(t,n){Object(v.a)(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}return Object(y.a)(e,[{key:"Or",value:function(){var e=this;0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.kr=null,e.Mr("Backend didn't respond within 10 seconds."),e.Fr("Offline"),Promise.resolve()})))}},{key:"Lr",value:function(e){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.Fr("Offline")))}},{key:"set",value:function(e){this.Br(),this.Nr=0,"Online"===e&&(this.$r=!1),this.Fr(e)}},{key:"Fr",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"Mr",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.$r?(T(t),this.$r=!1):S("OnlineStateTracker",t)}},{key:"Br",value:function(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}]),e}(),Ya=function e(t,n,r,i,a){var o=this;Object(v.a)(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=a,this.Qr.Ei((function(e){r.enqueueAndForget(Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=uo(o),!e.t0){e.next=5;break}return S("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Object(l.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=A(t)).Kr.add(4),e.next=4,Za(n);case 4:return n.Wr.set("Unknown"),n.Kr.delete(4),e.next=8,Ja(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Wr=new $a(r,i)};function Ja(e){return Xa.apply(this,arguments)}function Xa(){return(Xa=Object(l.a)(c.a.mark((function e(t){var n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!uo(t)){e.next=18;break}n=Object(u.a)(t.jr),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function Za(e){return eo.apply(this,arguments)}function eo(){return(eo=Object(l.a)(c.a.mark((function e(t){var n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(u.a)(t.jr),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function to(e,t){var n=A(e);n.qr.has(t.targetId)||(n.qr.set(t.targetId,t),oo(n)?ao(n):Do(n).cr()&&ro(n,t))}function no(e,t){var n=A(e),r=Do(n);n.qr.delete(t),r.cr()&&io(n,t),0===n.qr.size&&(r.cr()?r.lr():uo(n)&&n.Wr.set("Unknown"))}function ro(e,t){e.Gr.Y(t.targetId),Do(e).Ir(t)}function io(e,t){e.Gr.Y(t),Do(e).Ar(t)}function ao(e){e.Gr=new jn({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.qr.get(t)||null}}),Do(e).start(),e.Wr.Or()}function oo(e){return uo(e)&&!Do(e).ar()&&e.qr.size>0}function uo(e){return 0===A(e).Kr.size}function so(e){e.Gr=void 0}function co(e){return lo.apply(this,arguments)}function lo(){return(lo=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.qr.forEach((function(e,n){ro(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fo(e,t){return ho.apply(this,arguments)}function ho(){return(ho=Object(l.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:so(t),oo(t)?(t.Wr.Lr(n),ao(t)):t.Wr.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function po(e,t,n){return vo.apply(this,arguments)}function vo(){return(vo=Object(l.a)(c.a.mark((function e(t,n,r){var i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Wr.set("Online"),!(n instanceof _n&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Object(l.a)(c.a.mark((function e(t,n){var r,i,a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Object(u.a)(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.qr.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.qr.delete(o),t.Gr.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),S("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,yo(t,e.t0);case 11:e.next=29;break;case 13:if(n instanceof kn?t.Gr.rt(n):n instanceof wn?t.Gr.ft(n):t.Gr.ct(n),r.isEqual(J.min())){e.next=29;break}return e.prev=14,e.next=17,ea(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Gr._t(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.qr.get(r);i&&e.qr.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.qr.get(t);if(n){e.qr.set(t,n.withResumeToken(ue.EMPTY_BYTE_STRING,n.snapshotVersion)),io(e,t);var r=new Wr(n.target,t,1,n.sequenceNumber);ro(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 22:e.next=29;break;case 24:return e.prev=24,e.t2=e.catch(14),S("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,yo(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])})))).apply(this,arguments)}function yo(e,t,n){return mo.apply(this,arguments)}function mo(){return(mo=Object(l.a)(c.a.mark((function e(t,n,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Dr(n)){e.next=2;break}throw n;case 2:return t.Kr.add(1),e.next=5,Za(t);case 5:t.Wr.set("Offline"),r||(r=function(){return ea(t.localStore)}),t.asyncQueue.enqueueRetryable(Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Kr.delete(1),e.next=6,Ja(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function go(e,t){return t().catch((function(n){return yo(e,n,t)}))}function bo(e){return ko.apply(this,arguments)}function ko(){return(ko=Object(l.a)(c.a.mark((function e(t){var n,r,i,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=A(t),r=Lo(n),i=n.Ur.length>0?n.Ur[n.Ur.length-1].batchId:-1;case 2:if(!wo(n)){e.next=19;break}return e.prev=3,e.next=6,ra(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Ur.length&&r.lr(),e.abrupt("break",19);case 10:i=a.batchId,_o(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,yo(n,e.t0);case 17:e.next=2;break;case 19:Oo(n)&&jo(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function wo(e){return uo(e)&&e.Ur.length<10}function _o(e,t){e.Ur.push(t);var n=Lo(e);n.cr()&&n.br&&n.Pr(t.mutations)}function Oo(e){return uo(e)&&!Lo(e).ar()&&e.Ur.length>0}function jo(e){Lo(e).start()}function xo(e){return Eo.apply(this,arguments)}function Eo(){return(Eo=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Lo(t).Sr();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function So(e){return To.apply(this,arguments)}function To(){return(To=Object(l.a)(c.a.mark((function e(t){var n,r,i,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Lo(t),r=Object(u.a)(t.Ur);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Pr(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Io(e,t,n){return Co.apply(this,arguments)}function Co(){return(Co=Object(l.a)(c.a.mark((function e(t,n,r){var i,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Ur.shift(),a=Br.from(i,n,r),e.next=3,go(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,bo(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function No(e,t){return Po.apply(this,arguments)}function Po(){return(Po=Object(l.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Lo(t).br,!e.t0){e.next=4;break}return e.next=4,function(){var e=Object(l.a)(c.a.mark((function e(t,n){var r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!en(i=n.code)||i===D.ABORTED){e.next=7;break}return r=t.Ur.shift(),Lo(t).hr(),e.next=5,go(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,bo(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Oo(t)&&jo(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ro(e,t){return Ao.apply(this,arguments)}function Ao(){return(Ao=Object(l.a)(c.a.mark((function e(t,n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=A(t),!n){e.next=7;break}return r.Kr.delete(2),e.next=5,Ja(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Kr.add(2),e.next=12,Za(r);case 12:r.Wr.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Do(e){return e.zr||(e.zr=function(e,t,n){var r=A(e);return r.Cr(),new Ka(t,r.nr,r.credentials,r.N,n)}(e.datastore,e.asyncQueue,{Si:co.bind(null,e),Ci:fo.bind(null,e),Tr:po.bind(null,e)}),e.jr.push(function(){var t=Object(l.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.zr.hr(),oo(e)?ao(e):e.Wr.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.zr.stop();case 6:so(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.zr}function Lo(e){return e.Hr||(e.Hr=function(e,t,n){var r=A(e);return r.Cr(),new Ga(t,r.nr,r.credentials,r.N,n)}(e.datastore,e.asyncQueue,{Si:xo.bind(null,e),Ci:No.bind(null,e),Vr:So.bind(null,e),vr:Io.bind(null,e)}),e.jr.push(function(){var t=Object(l.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Hr.hr(),t.next=4,bo(e);case 4:t.next=9;break;case 6:return t.next=8,e.Hr.stop();case 8:e.Ur.length>0&&(S("RemoteStore","Stopping write stream with ".concat(e.Ur.length," pending writes")),e.Ur=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Hr}var Mo=function(){function e(t,n,r,i,a){Object(v.a)(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new M,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Object(y.a)(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new L(D.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Fo(e,t){if(T("AsyncQueue","".concat(t,": ").concat(e)),Dr(e))return new L(D.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Uo=function(){function e(t){Object(v.a)(this,e),this.comparator=t?function(e,n){return t(e,n)||ge.comparator(e.key,n.key)}:function(e,t){return ge.comparator(e.key,t.key)},this.keyedMap=fn(),this.sortedSet=new nn(this.comparator)}return Object(y.a)(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Vo=function(){function e(){Object(v.a)(this,e),this.Jr=new nn(ge.comparator)}return Object(y.a)(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Jr.get(t);n?0!==e.type&&3===n.type?this.Jr=this.Jr.insert(t,e):3===e.type&&1!==n.type?this.Jr=this.Jr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Jr=this.Jr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Jr=this.Jr.remove(t):1===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):N():this.Jr=this.Jr.insert(t,e)}},{key:"Yr",value:function(){var e=[];return this.Jr.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),qo=function(){function e(t,n,r,i,a,o,u,s){Object(v.a)(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return Object(y.a)(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dt(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,Uo.emptySet(n),a,r,i,!0,!1)}}]),e}(),zo=function e(){Object(v.a)(this,e),this.Xr=void 0,this.listeners=[]},Bo=function e(){Object(v.a)(this,e),this.queries=new Ni((function(e){return pt(e)}),dt),this.onlineState="Unknown",this.Zr=new Set};function Wo(e,t){return Ho.apply(this,arguments)}function Ho(){return(Ho=Object(l.a)(c.a.mark((function e(t,n){var r,i,a,o,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=A(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new zo),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Xr=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=Fo(e.t0,"Initialization of query '".concat(vt(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.eo(r.onlineState),o.Xr&&n.no(o.Xr)&&Yo(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function Ko(e,t){return Go.apply(this,arguments)}function Go(){return(Go=Object(l.a)(c.a.mark((function e(t,n){var r,i,a,o,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=A(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qo(e,t){var n,r=A(e),i=!1,a=Object(u.a)(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,c=r.queries.get(s);if(c){var l,f=Object(u.a)(c.listeners);try{for(f.s();!(l=f.n()).done;){l.value.no(o)&&(i=!0)}}catch(h){f.e(h)}finally{f.f()}c.Xr=o}}}catch(h){a.e(h)}finally{a.f()}i&&Yo(r)}function $o(e,t,n){var r=A(e),i=r.queries.get(t);if(i){var a,o=Object(u.a)(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function Yo(e){e.Zr.forEach((function(e){e.next()}))}var Jo=function(){function e(t,n,r){Object(v.a)(this,e),this.query=t,this.so=n,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=r||{}}return Object(y.a)(e,[{key:"no",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Object(u.a)(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new qo(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.io?this.oo(e)&&(this.so.next(e),a=!0):this.ao(e,this.onlineState)&&(this.co(e),a=!0),this.ro=e,a}},{key:"onError",value:function(e){this.so.error(e)}},{key:"eo",value:function(e){this.onlineState=e;var t=!1;return this.ro&&!this.io&&this.ao(this.ro,e)&&(this.co(this.ro),t=!0),t}},{key:"ao",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.uo||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"oo",value:function(e){if(e.docChanges.length>0)return!0;var t=this.ro&&this.ro.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"co",value:function(e){e=qo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.io=!0,this.so.next(e)}}]),e}(),Xo=function(){function e(t,n){Object(v.a)(this,e),this.payload=t,this.byteLength=n}return Object(y.a)(e,[{key:"ho",value:function(){return"metadata"in this.payload}}]),e}(),Zo=function(){function e(t){Object(v.a)(this,e),this.N=t}return Object(y.a)(e,[{key:"zn",value:function(e){return Mn(this.N,e)}},{key:"Hn",value:function(e){return e.metadata.exists?Bn(this.N,e.document,!1):De.newNoDocument(this.zn(e.metadata.name),this.Jn(e.metadata.readTime))}},{key:"Jn",value:function(e){return Rn(e)}}]),e}(),eu=function(){function e(t,n,r){Object(v.a)(this,e),this.lo=t,this.localStore=n,this.N=r,this.queries=[],this.documents=[],this.progress=tu(t)}return Object(y.a)(e,[{key:"fo",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"wo",value:function(e){var t,n=new Map,r=new Zo(this.N),i=Object(u.a)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.zn(a.metadata.name),c=Object(u.a)(a.metadata.queries);try{for(c.s();!(o=c.n()).done;){var l=o.value,f=(n.get(l)||vn()).add(s);n.set(l,f)}}catch(h){c.e(h)}finally{c.f()}}}}catch(h){i.e(h)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,n,r,i,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ha(this.localStore,new Zo(this.N),this.documents,this.lo.id);case 2:t=e.sent,n=this.wo(this.documents),r=Object(u.a)(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,pa(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",new Hi(Object.assign({},this.progress),t)));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function tu(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var nu=function e(t){Object(v.a)(this,e),this.key=t},ru=function e(t){Object(v.a)(this,e),this.key=t},iu=function(){function e(t,n){Object(v.a)(this,e),this.query=t,this._o=n,this.mo=null,this.current=!1,this.yo=vn(),this.mutatedKeys=vn(),this.po=mt(t),this.Eo=new Uo(this.po)}return Object(y.a)(e,[{key:"To",get:function(){return this._o}},{key:"Io",value:function(e,t){var n=this,r=t?t.Ao:new Vo,i=t?t.Eo:this.Eo,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s=at(this.query)&&i.size===this.query.limit?i.last():null,c=ot(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=yt(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Ro(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.po(f,s)>0||c&&n.po(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),at(this.query)||ot(this.query))for(;o.size>this.query.limit;){var l=at(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Eo:o,Ao:r,Ln:u,mutatedKeys:a}}},{key:"Ro",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Eo;this.Eo=e.Eo,this.mutatedKeys=e.mutatedKeys;var a=e.Ao.Yr();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return N()}};return n(e)-n(t)}(e.type,t.type)||r.po(e.doc,t.doc)})),this.bo(n);var o=t?this.Po():[],u=0===this.yo.size&&this.current?1:0,s=u!==this.mo;return this.mo=u,0!==a.length||s?{snapshot:new qo(this.query,e.Eo,i,a,e.mutatedKeys,0===u,s,!1),vo:o}:{vo:o}}},{key:"eo",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new Vo,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}},{key:"Vo",value:function(e){return!this._o.has(e)&&!!this.Eo.has(e)&&!this.Eo.get(e).hasLocalMutations}},{key:"bo",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t._o=t._o.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t._o=t._o.delete(e)})),this.current=e.current)}},{key:"Po",value:function(){var e=this;if(!this.current)return[];var t=this.yo;this.yo=vn(),this.Eo.forEach((function(t){e.Vo(t.key)&&(e.yo=e.yo.add(t.key))}));var n=[];return t.forEach((function(t){e.yo.has(t)||n.push(new ru(t))})),this.yo.forEach((function(e){t.has(e)||n.push(new nu(e))})),n}},{key:"So",value:function(e){this._o=e.Gn,this.yo=vn();var t=this.Io(e.documents);return this.applyChanges(t,!0)}},{key:"Do",value:function(){return qo.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}]),e}(),au=function e(t,n,r){Object(v.a)(this,e),this.query=t,this.targetId=n,this.view=r},ou=function e(t){Object(v.a)(this,e),this.key=t,this.Co=!1},uu=function(){function e(t,n,r,i,a,o){Object(v.a)(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.No={},this.xo=new Ni((function(e){return pt(e)}),dt),this.ko=new Map,this.$o=new Set,this.Oo=new nn(ge.comparator),this.Fo=new Map,this.Mo=new ma,this.Lo={},this.Bo=new Map,this.Uo=gi.ie(),this.onlineState="Unknown",this.qo=void 0}return Object(y.a)(e,[{key:"isPrimaryClient",get:function(){return!0===this.qo}}]),e}();function su(e,t){return cu.apply(this,arguments)}function cu(){return(cu=Object(l.a)(c.a.mark((function e(t,n){var r,i,a,o,u,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ts(t),!(o=r.xo.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Do(),e.next=15;break;case 6:return e.next=8,ia(r.localStore,ft(n));case 8:return u=e.sent,s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=13,lu(r,n,i,"current"===s);case 13:a=e.sent,r.isPrimaryClient&&to(r.remoteStore,u);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lu(e,t,n,r){return fu.apply(this,arguments)}function fu(){return(fu=Object(l.a)(c.a.mark((function e(t,n,r,i){var a,o,u,s,f,h;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Ko=function(e,n,r){return function(){var e=Object(l.a)(c.a.mark((function e(t,n,r,i){var a,o,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Io(r),e.t0=a.Ln,!e.t0){e.next=6;break}return e.next=5,ua(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Io(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Nu(t,n.targetId,u.vo),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,ua(t.localStore,n,!0);case 3:return a=e.sent,o=new iu(n,a.Gn),u=o.Io(a.documents),s=bn.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),f=o.applyChanges(u,t.isPrimaryClient,s),Nu(t,r,f.vo),h=new au(n,r,o),e.abrupt("return",(t.xo.set(n,h),t.ko.has(r)?t.ko.get(r).push(n):t.ko.set(r,[n]),f.snapshot));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hu(e,t){return du.apply(this,arguments)}function du(){return(du=Object(l.a)(c.a.mark((function e(t,n){var r,i,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=A(t),i=r.xo.get(n),!((a=r.ko.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ko.set(i.targetId,a.filter((function(e){return!dt(e,n)}))),void r.xo.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,aa(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),no(r.remoteStore,i.targetId),Iu(r,i.targetId)})).catch(Oi);case 9:e.next=14;break;case 11:return Iu(r,i.targetId),e.next=14,aa(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pu(e,t,n){return vu.apply(this,arguments)}function vu(){return(vu=Object(l.a)(c.a.mark((function e(t,n,r){var i,a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ns(t),e.prev=1,e.next=4,function(e,t){var n,r=A(e),i=Y.now(),a=t.reduce((function(e,t){return e.add(t.key)}),vn());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Qn.Pn(e,a).next((function(a){n=a;var o,s=[],c=Object(u.a)(t);try{for(c.s();!(o=c.n()).done;){var l=o.value,f=qt(l,n.get(l.key));null!=f&&s.push(new Ht(l.key,f,Ae(f.value.mapValue),Lt.exists(!0)))}}catch(h){c.e(h)}finally{c.f()}return r.In.addMutationBatch(e,i,s,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Lo[e.currentUser.toKey()];r||(r=new nn(G)),r=r.insert(t,n),e.Lo[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Au(i,a.changes);case 9:return e.next=11,bo(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Fo(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}function yu(e,t){return mu.apply(this,arguments)}function mu(){return(mu=Object(l.a)(c.a.mark((function e(t,n){var r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=A(t),e.prev=1,e.next=4,ta(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Fo.get(t);n&&(P(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Co=!0:e.modifiedDocuments.size>0?P(n.Co):e.removedDocuments.size>0&&(P(n.Co),n.Co=!1))})),e.next=8,Au(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Oi(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function gu(e,t,n){var r=A(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.xo.forEach((function(e,n){var r=n.view.eo(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=A(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Object(u.a)(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.eo(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Yo(n)}(r.eventManager,t),i.length&&r.No.Tr(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function bu(e,t,n){return ku.apply(this,arguments)}function ku(){return(ku=Object(l.a)(c.a.mark((function e(t,n,r){var i,a,o,u,s,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=A(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Fo.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new nn(ge.comparator)).insert(o,De.newNoDocument(o,J.min())),s=vn().add(o),l=new gn(J.min(),new Map,new on(G),u,s),e.next=9,yu(i,l);case 9:i.Oo=i.Oo.remove(o),i.Fo.delete(n),Ru(i),e.next=16;break;case 14:return e.next=16,aa(i.localStore,n,!1).then((function(){return Iu(i,n,r)})).catch(Oi);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wu(e,t){return _u.apply(this,arguments)}function _u(){return(_u=Object(l.a)(c.a.mark((function e(t,n){var r,i,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=A(t),i=n.batch.batchId,e.prev=1,e.next=4,Zi(r.localStore,n);case 4:return a=e.sent,Tu(r,i,null),Su(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Au(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Oi(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function Ou(e,t,n){return ju.apply(this,arguments)}function ju(){return(ju=Object(l.a)(c.a.mark((function e(t,n,r){var i,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=A(t),e.prev=1,e.next=4,function(e,t){var n=A(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.In.lookupMutationBatch(e,t).next((function(t){return P(null!==t),r=t.keys(),n.In.removeMutationBatch(e,t)})).next((function(){return n.In.performConsistencyCheck(e)})).next((function(){return n.Qn.Pn(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Tu(i,n,r),Su(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Au(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Oi(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function xu(e,t){return Eu.apply(this,arguments)}function Eu(){return(Eu=Object(l.a)(c.a.mark((function e(t,n){var r,i,a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return uo((r=A(t)).remoteStore)||S("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=A(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.In.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.Bo.get(i)||[]).push(n),r.Bo.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=Fo(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function Su(e,t){(e.Bo.get(t)||[]).forEach((function(e){e.resolve()})),e.Bo.delete(t)}function Tu(e,t,n){var r=A(e),i=r.Lo[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Lo[r.currentUser.toKey()]=i}}function Iu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Object(u.a)(e.ko.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.xo.delete(a),n&&e.No.jo(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ko.delete(t),e.isPrimaryClient&&e.Mo.cs(t).forEach((function(t){e.Mo.containsKey(t)||Cu(e,t)}))}function Cu(e,t){e.$o.delete(t.path.canonicalString());var n=e.Oo.get(t);null!==n&&(no(e.remoteStore,n),e.Oo=e.Oo.remove(t),e.Fo.delete(n),Ru(e))}function Nu(e,t,n){var r,i=Object(u.a)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof nu?(e.Mo.addReference(a.key,t),Pu(e,a)):a instanceof ru?(S("SyncEngine","Document no longer in limbo: "+a.key),e.Mo.removeReference(a.key,t),e.Mo.containsKey(a.key)||Cu(e,a.key)):N()}}catch(o){i.e(o)}finally{i.f()}}function Pu(e,t){var n=t.key,r=n.path.canonicalString();e.Oo.get(n)||e.$o.has(r)||(S("SyncEngine","New document in limbo: "+n),e.$o.add(r),Ru(e))}function Ru(e){for(;e.$o.size>0&&e.Oo.size<e.maxConcurrentLimboResolutions;){var t=e.$o.values().next().value;e.$o.delete(t);var n=new ge(ne.fromString(t)),r=e.Uo.next();e.Fo.set(r,new ou(n)),e.Oo=e.Oo.insert(n,r),to(e.remoteStore,new Wr(ft(it(n.path)),r,2,W.T))}}function Au(e,t,n){return Du.apply(this,arguments)}function Du(){return(Du=Object(l.a)(c.a.mark((function e(t,n,r){var i,a,o,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=A(t),a=[],o=[],s=[],e.t0=i.xo.isEmpty(),e.t0){e.next=9;break}return i.xo.forEach((function(e,t){s.push(i.Ko(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=Gi.kn(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.No.Tr(a),e.next=9,function(){var e=Object(l.a)(c.a.mark((function e(t,n){var r,i,a,o,s,l,f,h;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=A(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Cr.forEach(n,(function(t){return Cr.forEach(t.Nn,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Cr.forEach(t.xn,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Dr(e.t0)){e.next=10;break}throw e.t0;case 10:S("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Object(u.a)(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(l=r.Un.get(s),f=l.snapshotVersion,h=l.withLastLimboFreeSnapshotVersion(f),r.Un=r.Un.insert(s,h))}catch(c){i.e(c)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lu(e,t){return Mu.apply(this,arguments)}function Mu(){return(Mu=Object(l.a)(c.a.mark((function e(t,n){var r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=A(t)).currentUser.isEqual(n)){e.next=11;break}return S("SyncEngine","User change. New user:",n.toKey()),e.next=5,Ji(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Bo.forEach((function(e){e.forEach((function(e){e.reject(new L(D.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Bo.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Au(r,i.Wn);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fu(e,t){var n=A(e),r=n.Fo.get(t);if(r&&r.Co)return vn().add(r.key);var i=vn(),a=n.ko.get(t);if(!a)return i;var o,s=Object(u.a)(a);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=n.xo.get(c);i=i.unionWith(l.view.To)}}catch(f){s.e(f)}finally{s.f()}return i}function Uu(e,t){return Vu.apply(this,arguments)}function Vu(){return(Vu=Object(l.a)(c.a.mark((function e(t,n){var r,i,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=A(t),e.next=3,ua(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.So(i),e.abrupt("return",(r.isPrimaryClient&&Nu(r,n.targetId,a.vo),a));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qu(e){return zu.apply(this,arguments)}function zu(){return(zu=Object(l.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=A(t),e.abrupt("return",ca(n.localStore).then((function(e){return Au(n,e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bu(e,t,n,r){return Wu.apply(this,arguments)}function Wu(){return(Wu=Object(l.a)(c.a.mark((function e(t,n,r,i){var a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=A(t),e.next=3,function(e,t){var n=A(e),r=A(n.In);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Xt(e,t).next((function(t){return t?n.Qn.Pn(e,t):Cr.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,bo(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Tu(a,n,i||null),Su(a,n),function(e,t){A(A(e).In).te(t)}(a.localStore,n)):N();case 11:return e.next=13,Au(a,o);case 13:e.next=16;break;case 15:S("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hu(e,t){return Ku.apply(this,arguments)}function Ku(){return(Ku=Object(l.a)(c.a.mark((function e(t,n){var r,i,a,o,s,l,f,h;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ts(r=A(t)),ns(r),!0!==n||!0===r.qo){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,Gu(r,i.toArray());case 5:return a=e.sent,r.qo=!0,e.next=9,Ro(r.remoteStore,!0);case 9:o=Object(u.a)(a);try{for(o.s();!(s=o.n()).done;)l=s.value,to(r.remoteStore,l)}catch(c){o.e(c)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.qo){e.next=25;break}return f=[],h=Promise.resolve(),r.ko.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?f.push(t):h=h.then((function(){return Iu(r,t),aa(r.localStore,t,!0)})),no(r.remoteStore,t)})),e.next=19,h;case 19:return e.next=21,Gu(r,f);case 21:return function(e){var t=A(e);t.Fo.forEach((function(e,n){no(t.remoteStore,n)})),t.Mo.us(),t.Fo=new Map,t.Oo=new nn(ge.comparator)}(r),r.qo=!1,e.next=25,Ro(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gu(e,t,n){return Qu.apply(this,arguments)}function Qu(){return(Qu=Object(l.a)(c.a.mark((function e(t,n,r){var i,a,o,s,l,f,h,d,p,v,y,m,g,b;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=A(t),a=[],o=[],s=Object(u.a)(n),e.prev=2,s.s();case 4:if((l=s.n()).done){e.next=45;break}if(f=l.value,h=void 0,!(d=i.ko.get(f))||0===d.length){e.next=34;break}return e.next=11,ia(i.localStore,ft(d[0]));case 11:h=e.sent,p=Object(u.a)(d),e.prev=13,p.s();case 15:if((v=p.n()).done){e.next=24;break}return y=v.value,m=i.xo.get(y),e.next=20,Uu(i,m);case 20:(g=e.sent).snapshot&&o.push(g.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),p.e(e.t0);case 29:return e.prev=29,p.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,sa(i.localStore,f);case 36:return b=e.sent,e.next=39,ia(i.localStore,b);case 39:return h=e.sent,e.next=42,lu(i,$u(b),f,!1);case 42:a.push(h);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.No.Tr(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])})))).apply(this,arguments)}function $u(e){return rt(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Yu(e){var t=A(e);return A(A(t.localStore).persistence).pn()}function Ju(e,t,n,r){return Xu.apply(this,arguments)}function Xu(){return(Xu=Object(l.a)(c.a.mark((function e(t,n,r,i){var a,o,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=A(t)).qo){e.next=5;break}S("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!a.ko.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,ca(a.localStore);case 11:return o=e.sent,u=gn.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,Au(a,o,u);case 15:return e.abrupt("break",21);case 16:return e.next=18,aa(a.localStore,n,!0);case 18:return Iu(a,n,i),e.abrupt("break",21);case 20:N();case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zu(e,t,n){return es.apply(this,arguments)}function es(){return(es=Object(l.a)(c.a.mark((function e(t,n,r){var i,a,o,s,l,f,h,d,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=ts(t)).qo){e.next=45;break}a=Object(u.a)(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.ko.has(s)){e.next=10;break}return S("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,sa(i.localStore,s);case 12:return l=e.sent,e.next=15,ia(i.localStore,l);case 15:return f=e.sent,e.next=18,lu(i,$u(l),f.targetId,!1);case 18:to(i.remoteStore,f);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:h=Object(u.a)(r),e.prev=30,p=c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.value,e.t0=i.ko.has(t),!e.t0){e.next=5;break}return e.next=5,aa(i.localStore,t,!1).then((function(){no(i.remoteStore,t),Iu(i,t)})).catch(Oi);case 5:case"end":return e.stop()}}),e)})),h.s();case 33:if((d=h.n()).done){e.next=37;break}return e.delegateYield(p(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),h.e(e.t2);case 42:return e.prev=42,h.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])})))).apply(this,arguments)}function ts(e){var t=A(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=yu.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Fu.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=bu.bind(null,t),t.No.Tr=Qo.bind(null,t.eventManager),t.No.jo=$o.bind(null,t.eventManager),t}function ns(e){var t=A(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=wu.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ou.bind(null,t),t}function rs(e,t,n){var r=A(e);(function(){var e=Object(l.a)(c.a.mark((function e(t,n,r){var i,a,o,u,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=A(e),r=Rn(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Je.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)));case 10:return r._updateProgress(tu(i)),a=new eu(i,t.localStore,n.N),e.next=14,n.Qo();case 14:o=e.sent;case 15:if(!o){e.next=25;break}return e.next=18,a.fo(o);case 18:return(u=e.sent)&&r._updateProgress(u),e.next=22,n.Qo();case 22:o=e.sent;case 23:e.next=15;break;case 25:return e.next=27,a.complete();case 27:return s=e.sent,e.next=30,Au(t,s.Tn,void 0);case 30:return e.next=32,function(e,t){var n=A(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Je.saveBundleMetadata(e,t)}))}(t.localStore,i);case 32:r._completeWith(s.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),I("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var is=function(){function e(){Object(v.a)(this,e),this.synchronizeTabs=!1}return Object(y.a)(e,[{key:"initialize",value:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.N=Ba(t.databaseInfo.databaseId),this.sharedClientState=this.Wo(t),this.persistence=this.Go(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.zo(t),this.localStore=this.Ho(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"zo",value:function(e){return null}},{key:"Ho",value:function(e){return Yi(this.persistence,new Qi,e.initialUser,this.N)}},{key:"Go",value:function(e){return new Oa(xa.Ns,this.N)}},{key:"Wo",value:function(e){return new Da}},{key:"terminate",value:function(){var e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),as=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i){var a;return Object(v.a)(this,n),(a=t.call(this)).Jo=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Object(y.a)(n,[{key:"initialize",value:function(){var e=Object(l.a)(c.a.mark((function e(t){var r=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.a)(Object(a.a)(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,la(this.localStore);case 4:return e.next=6,this.Jo.initialize(this,t);case 6:return e.next=8,ns(this.Jo.syncEngine);case 8:return e.next=10,bo(this.Jo.remoteStore);case 10:return e.next=12,this.persistence.nn((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ho",value:function(e){return Yi(this.persistence,new Qi,e.initialUser,this.N)}},{key:"zo",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Si(t,e.asyncQueue)}},{key:"Go",value:function(e){var t=Wi(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?li.withCacheSize(this.cacheSizeBytes):li.DEFAULT;return new qi(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,qa(),za(),this.N,this.sharedClientState,!!this.forceOwnership)}},{key:"Wo",value:function(e){return new Da}}]),n}(is),os=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(v.a)(this,n),(i=t.call(this,e,r,!1)).Jo=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Object(y.a)(n,[{key:"initialize",value:function(){var e=Object(l.a)(c.a.mark((function e(t){var r,o=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.a)(Object(a.a)(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Jo.syncEngine,e.t0=this.sharedClientState instanceof Aa,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={_i:Bu.bind(null,r),mi:Ju.bind(null,r),gi:Zu.bind(null,r),pn:Yu.bind(null,r),wi:qu.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.nn(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hu(o.Jo.syncEngine,t);case 2:o.gcScheduler&&(t&&!o.gcScheduler.started?o.gcScheduler.start(o.localStore):t||o.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Wo",value:function(e){var t=qa();if(!Aa.bt(t))throw new L(D.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Wi(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Aa(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(as),us=function(){function e(){Object(v.a)(this,e)}return Object(y.a)(e,[{key:"initialize",value:function(){var e=Object(l.a)(c.a.mark((function e(t,n){var r=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return gu(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Lu.bind(null,this.syncEngine),e.next=12,Ro(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Bo}},{key:"createDatastore",value:function(e){var t,n=Ba(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Va(t));return function(e,t,n){return new Qa(e,t,n)}(e.credentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return gu(o.syncEngine,e,0)},a=Ma.bt()?new Ma:new La,new Ya(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new uu(e,t,n,r,i,a);return o&&(u.qo=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Object(l.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=A(t),S("RemoteStore","RemoteStore shutting down."),n.Kr.add(5),e.next=5,Za(n);case 5:n.Qr.shutdown(),n.Wr.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function ss(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Object(l.a)(c.a.mark((function r(){var i;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var cs=function(){function e(t){Object(v.a)(this,e),this.observer=t,this.muted=!1}return Object(y.a)(e,[{key:"next",value:function(e){this.observer.next&&this.Yo(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Yo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Xo",value:function(){this.muted=!0}},{key:"Yo",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),ls=function(){function e(t,n){var r=this;Object(v.a)(this,e),this.Zo=t,this.N=n,this.metadata=new M,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then((function(e){e&&e.ho()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return Object(y.a)(e,[{key:"close",value:function(){return this.Zo.cancel()}},{key:"getMetadata",value:function(){var e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Qo",value:function(){var e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.ea());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ea",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.na();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.ta.decode(t),r=Number(n),isNaN(r)&&this.sa("length string (".concat(n,") is not valid number")),e.next=9,this.ia(r);case 9:return i=e.sent,e.abrupt("return",new Xo(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ra",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"na",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.ra()<0)){e.next=7;break}return e.next=3,this.oa();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.ra())<0&&this.sa("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ia",value:function(){var e=Object(l.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.oa();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.sa("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.ta.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sa",value:function(e){throw this.Zo.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"oa",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Zo.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),fs=function(){function e(t){Object(v.a)(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Object(y.a)(e,[{key:"lookup",value:function(){var e=Object(l.a)(c.a.mark((function e(t){var n,r=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new L(D.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Object(l.a)(c.a.mark((function e(t,n){var r,i,a,o,u,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=A(t),i=Vn(r.N)+"/documents",a={documents:n.map((function(e){return Ln(r.N,e)}))},e.next=5,r.Ki("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Wn(r.N,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());P(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Jt(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,n=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=ge.fromPath(t);n.mutations.push(new Xt(r,n.precondition(r)))})),e.next=7,function(){var e=Object(l.a)(c.a.mark((function e(t,n){var r,i,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=A(t),i=Vn(r.N)+"/documents",a={writes:n.map((function(e){return Hn(r.N,e)}))},e.next=3,r.Li("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw N();t=J.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new L(D.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Lt.updateTime(t):Lt.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(J.min()))throw new L(D.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Lt.updateTime(t)}return Lt.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),hs=function(){function e(t,n,r,i){Object(v.a)(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.aa=5,this.rr=new Wa(this.asyncQueue,"transaction_retry")}return Object(y.a)(e,[{key:"run",value:function(){this.aa-=1,this.ca()}},{key:"ca",value:function(){var e=this;this.rr.Xi(Object(l.a)(c.a.mark((function t(){var n,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new fs(e.datastore),(r=e.ua(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.ha(t)}))}))})).catch((function(t){e.ha(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"ua",value:function(e){try{var t=this.updateFunction(e);return!ve(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"ha",value:function(e){var t=this;this.aa>0&&this.la(e)?(this.aa-=1,this.asyncQueue.enqueueAndForget((function(){return t.ca(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"la",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!en(t)}return!1}}]),e}(),ds=function(){function e(t,n,r){var i=this;Object(v.a)(this,e),this.credentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=_.UNAUTHENTICATED,this.clientId=K.I(),this.credentialListener=function(){return Promise.resolve()},this.credentials.start(n,function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S("FirestoreClient","Received user=",t.uid),e.next=3,i.credentialListener(t);case 3:i.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}return Object(y.a)(e,[{key:"getConfiguration",value:function(){var e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.credentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new L(D.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new M;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Object(l.a)(c.a.mark((function n(){var r;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.credentials.shutdown(),t.resolve(),n.next=17;break;case 13:n.prev=13,n.t2=n.catch(0),r=Fo(n.t2,"Failed to shutdown persistence"),t.reject(r);case 17:case"end":return n.stop()}}),n,null,[[0,13]])})))),t.promise}}]),e}();function ps(e,t){return vs.apply(this,arguments)}function vs(){return(vs=Object(l.a)(c.a.mark((function e(t,n){var r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),S("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Ji(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ys(e,t){return ms.apply(this,arguments)}function ms(){return(ms=Object(l.a)(c.a.mark((function e(t,n){var r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,gs(t);case 3:return r=e.sent,S("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return function(){var e=Object(l.a)(c.a.mark((function e(t,n){var r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=A(t)).asyncQueue.verifyOperationInProgress(),S("RemoteStore","RemoteStore received new credentials"),i=uo(r),r.Kr.add(3),e.next=6,Za(r);case 6:return i&&r.Wr.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Kr.delete(3),e.next=12,Ja(r);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(n.remoteStore,e)})),t.onlineComponents=n;case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gs(e){return bs.apply(this,arguments)}function bs(){return(bs=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return S("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,ps(t,new is);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ks(e){return ws.apply(this,arguments)}function ws(){return(ws=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return S("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,ys(t,new us);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _s(e){return gs(e).then((function(e){return e.persistence}))}function Os(e){return gs(e).then((function(e){return e.localStore}))}function js(e){return ks(e).then((function(e){return e.remoteStore}))}function xs(e){return ks(e).then((function(e){return e.syncEngine}))}function Es(e){return Ss.apply(this,arguments)}function Ss(){return(Ss=Object(l.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ks(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=su.bind(null,n.syncEngine),r.onUnlisten=hu.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ts(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new M;return e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark((function i(){return c.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new cs({next:function(a){t.enqueueAndForget((function(){return Ko(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new L(D.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new L(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Jo(it(n.path),a,{includeMetadataChanges:!0,uo:!0});return Wo(e,o)},i.next=3,Es(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Is(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new M;return e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark((function i(){return c.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new cs({next:function(n){t.enqueueAndForget((function(){return Ko(e,o)})),n.fromCache&&"server"===r.source?i.reject(new L(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Jo(n,a,{includeMetadataChanges:!0,uo:!0});return Wo(e,o)},i.next=3,Es(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var Cs=function e(t,n,r,i,a,o,u,s){Object(v.a)(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s},Ns=function(){function e(t,n){Object(v.a)(this,e),this.projectId=t,this.database=n||"(default)"}return Object(y.a)(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}]),e}(),Ps=new Map;function Rs(e,t,n){if(!n)throw new L(D.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function As(e,t,n,r){if(!0===t&&!0===r)throw new L(D.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Ds(e){if(!ge.isDocumentKey(e))throw new L(D.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Ls(e){if(ge.isDocumentKey(e))throw new L(D.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Ms(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":N()}function Fs(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new L(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Ms(e);throw new L(D.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Us(e,t){if(t<=0)throw new L(D.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var Vs=function(){function e(t){var n;if(Object(v.a)(this,e),void 0===t.host){if(void 0!==t.ssl)throw new L(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new L(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,As("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Object(y.a)(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),qs=function(){function e(t,n){Object(v.a)(this,e),this._credentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vs({}),this._settingsFrozen=!1,t instanceof Ns?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new L(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ns(e.options.projectId)}(t))}return Object(y.a)(e,[{key:"app",get:function(){if(!this._app)throw new L(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new L(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vs(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new U;switch(e.type){case"gapi":var t=e.client;return P(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new B(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new L(D.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Ps.get(e);t&&(S("ComponentProvider","Removing Datastore"),Ps.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function zs(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Fs(e,qs))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&I("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=_.MOCK_USER;else{o=Object(k.k)(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new L(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new _(s)}e._credentials=new V(new F(o,u))}}var Bs=function(){function e(t,n,r){Object(v.a)(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object(y.a)(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Hs(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Ws=function(){function e(t,n,r){Object(v.a)(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Object(y.a)(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Hs=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i){var a;return Object(v.a)(this,n),(a=t.call(this,e,r,it(i)))._path=i,a.type="collection",a}return Object(y.a)(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Bs(this.firestore,null,new ge(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Ws);function Ks(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Object(k.r)(e),Rs("collection","path",t),e instanceof qs){var a=ne.fromString.apply(ne,[t].concat(r));return Ls(a),new Hs(e,null,a)}if(!(e instanceof Bs||e instanceof Hs))throw new L(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ne.fromString.apply(ne,[t].concat(r)));return Ls(o),new Hs(e.firestore,null,o)}function Gs(e,t){if(e=Fs(e,qs),Rs("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new L(D.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Ws(e,null,function(e){return new nt(ne.emptyPath(),e)}(t))}function Qs(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Object(k.r)(e),1===arguments.length&&(t=K.I()),Rs("doc","path",t),e instanceof qs){var a=ne.fromString.apply(ne,[t].concat(r));return Ds(a),new Bs(e,null,new ge(a))}if(!(e instanceof Bs||e instanceof Hs))throw new L(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ne.fromString.apply(ne,[t].concat(r)));return Ds(o),new Bs(e.firestore,e instanceof Hs?e.converter:null,new ge(o))}function $s(e,t){return e=Object(k.r)(e),t=Object(k.r)(t),(e instanceof Bs||e instanceof Hs)&&(t instanceof Bs||t instanceof Hs)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Ys(e,t){return e=Object(k.r)(e),t=Object(k.r)(t),e instanceof Ws&&t instanceof Ws&&e.firestore===t.firestore&&dt(e._query,t._query)&&e.converter===t.converter}var Js=function(){function e(){var t=this;Object(v.a)(this,e),this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new Wa(this,"async_queue_retry"),this.Ea=function(){var e=za();e&&S("AsyncQueue","Visibility state changed to "+e.visibilityState),t.rr.tr()};var n=za();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ea)}return Object(y.a)(e,[{key:"isShuttingDown",get:function(){return this.wa}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Ta(),this.Ia(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.wa){this.wa=!0,this.ya=e||!1;var t=za();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ea)}}},{key:"enqueue",value:function(e){var t=this;if(this.Ta(),this.wa)return new Promise((function(){}));var n=new M;return this.Ia((function(){return t.wa&&t.ya?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.da.push(e),t.Aa()}))}},{key:"Aa",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.da.length){e.next=14;break}return e.prev=1,e.next=4,this.da[0]();case 4:this.da.shift(),this.rr.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Dr(e.t0)){e.next=12;break}throw e.t0;case 12:S("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.da.length>0&&this.rr.Xi((function(){return t.Aa()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Ia",value:function(e){var t=this,n=this.fa.then((function(){return t.ga=!0,e().catch((function(e){throw t.ma=e,t.ga=!1,T("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.ga=!1,e}))}));return this.fa=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Ta(),this.pa.indexOf(e)>-1&&(t=0);var i=Mo.createAndSchedule(this,e,t,n,(function(e){return r.Ra(e)}));return this._a.push(i),i}},{key:"Ta",value:function(){this.ma&&N()}},{key:"verifyOperationInProgress",value:function(){}},{key:"ba",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.fa,e.next=3,t;case 3:if(t!==this.fa){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Pa",value:function(e){var t,n=Object(u.a)(this._a);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"va",value:function(e){var t=this;return this.ba().then((function(){t._a.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Object(u.a)(t._a);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.ba()}))}},{key:"Va",value:function(e){this.pa.push(e)}},{key:"Ra",value:function(e){var t=this._a.indexOf(e);this._a.splice(t,1)}}]),e}();function Xs(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Object(u.a)(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var Zs=function(){function e(){Object(v.a)(this,e),this._progressObserver={},this._taskCompletionResolver=new M,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Object(y.a)(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),ec=-1,tc=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(v.a)(this,n),(i=t.call(this,e,r)).type="firestore",i._queue=new Js,i._persistenceKey="name"in e?e.name:"[DEFAULT]",i}return Object(y.a)(n,[{key:"_terminate",value:function(){return this._firestoreClient||rc(this),this._firestoreClient.terminate()}}]),n}(qs);function nc(e){return e._firestoreClient||rc(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function rc(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Cs(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new ds(e._credentials,e._queue,r)}function ic(e,t){dc(e=Fs(e,tc));var n=nc(e),r=e._freezeSettings(),i=new us;return oc(n,i,new as(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}function ac(e){dc(e=Fs(e,tc));var t=nc(e),n=e._freezeSettings(),r=new us;return oc(t,r,new os(r,n.cacheSizeBytes))}function oc(e,t,n){var r=new M;return e.asyncQueue.enqueue(Object(l.a)(c.a.mark((function i(){return c.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,ps(e,n);case 3:return i.next=5,ys(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===D.FAILED_PRECONDITION||e.code===D.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function uc(e){if(e._initialized&&!e._terminated)throw new L(D.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new M;return e._queue.enqueueAndForgetEvenWhileRestricted(Object(l.a)(c.a.mark((function n(){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Object(l.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Pr.bt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Pr.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Wi(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}function sc(e){return function(e){var t=new M;return e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark((function n(){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=xu,n.next=3,xs(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(nc(e=Fs(e,tc)))}function cc(e){return function(e){return e.asyncQueue.enqueue(Object(l.a)(c.a.mark((function t(){var n,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_s(e);case 2:return n=t.sent,t.next=5,js(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=A(e);return t.Kr.delete(0),Ja(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(nc(e=Fs(e,tc)))}function lc(e){return function(e){return e.asyncQueue.enqueue(Object(l.a)(c.a.mark((function t(){var n,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_s(e);case 2:return n=t.sent,t.next=5,js(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Object(l.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=A(t)).Kr.add(0),e.next=4,Za(n);case 4:n.Wr.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(nc(e=Fs(e,tc)))}function fc(e,t){var n=nc(e=Fs(e,tc)),r=new Zs;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new ls(e,t)}(function(e,t){if(e instanceof Uint8Array)return ss(e,t);if(e instanceof ArrayBuffer)return ss(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Ba(t));e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=rs,t.next=3,xs(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function hc(e,t){return function(e,t){return e.asyncQueue.enqueue(Object(l.a)(c.a.mark((function n(){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=A(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Je.getNamedQuery(e,t)}))},n.next=3,Os(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(nc(e=Fs(e,tc)),t).then((function(t){return t?new Ws(e,null,t.query):null}))}function dc(e){if(e._initialized||e._terminated)throw new L(D.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var pc=function(){function e(){Object(v.a)(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new L(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ie(n)}return Object(y.a)(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var vc=function(){function e(t){Object(v.a)(this,e),this._byteString=t}return Object(y.a)(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(ue.fromBase64String(t))}catch(t){throw new L(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(ue.fromUint8Array(t))}}]),e}(),yc=function e(t){Object(v.a)(this,e),this._methodName=t},mc=function(){function e(t,n){if(Object(v.a)(this,e),!isFinite(t)||t<-90||t>90)throw new L(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new L(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object(y.a)(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return G(this._lat,e._lat)||G(this._long,e._long)}}]),e}(),gc=/^__.*__$/,bc=function(){function e(t,n,r){Object(v.a)(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Object(y.a)(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Ht(e,this.data,this.fieldMask,t,this.fieldTransforms):new Wt(e,this.data,t,this.fieldTransforms)}}]),e}(),kc=function(){function e(t,n,r){Object(v.a)(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Object(y.a)(e,[{key:"toMutation",value:function(e,t){return new Ht(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function wc(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw N()}}var _c=function(){function e(t,n,r,i,a,o){Object(v.a)(this,e),this.settings=t,this.databaseId=n,this.N=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Sa(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Object(y.a)(e,[{key:"path",get:function(){return this.settings.path}},{key:"Da",get:function(){return this.settings.Da}},{key:"Ca",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Na",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Ca({path:n,xa:!1});return r.ka(e),r}},{key:"$a",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Ca({path:n,xa:!1});return r.Sa(),r}},{key:"Oa",value:function(e){return this.Ca({path:void 0,xa:!0})}},{key:"Fa",value:function(e){return zc(e,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Sa",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ka(this.path.get(e))}},{key:"ka",value:function(e){if(0===e.length)throw this.Fa("Document fields must not be empty");if(wc(this.Da)&&gc.test(e))throw this.Fa('Document fields cannot begin and end with "__"')}}]),e}(),Oc=function(){function e(t,n,r){Object(v.a)(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.N=r||Ba(t)}return Object(y.a)(e,[{key:"Ba",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new _c({Da:e,methodName:t,La:n,path:ie.emptyPath(),xa:!1,Ma:r},this.databaseId,this.N,this.ignoreUndefinedProperties)}}]),e}();function jc(e){var t=e._freezeSettings(),n=Ba(e._databaseId);return new Oc(e._databaseId,!!t.ignoreUndefinedProperties,n)}function xc(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.Ba(a.merge||a.mergeFields?2:0,t,n,i);Fc("Data must be an object, but it was:",o,r);var s,c,l=Lc(r,o);if(a.merge)s=new ae(o.fieldMask),c=o.fieldTransforms;else if(a.mergeFields){var f,h=[],d=Object(u.a)(a.mergeFields);try{for(d.s();!(f=d.n()).done;){var p=f.value,v=Uc(t,p,n);if(!o.contains(v))throw new L(D.INVALID_ARGUMENT,"Field '".concat(v,"' is specified in your field mask but missing from your input data."));Bc(h,v)||h.push(v)}}catch(y){d.e(y)}finally{d.f()}s=new ae(h),c=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,c=o.fieldTransforms;return new bc(new Re(l),s,c)}var Ec=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Da)throw 1===e.Da?e.Fa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Fa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(yc);function Sc(e,t,n){return new _c({Da:3,La:t.settings.La,methodName:e._methodName,xa:n},t.databaseId,t.N,t.ignoreUndefinedProperties)}var Tc=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"_toFieldTransform",value:function(e){return new At(e.path,new Et)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(yc),Ic=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(v.a)(this,n),(i=t.call(this,e)).Ua=r,i}return Object(y.a)(n,[{key:"_toFieldTransform",value:function(e){var t=Sc(this,e,!0),n=this.Ua.map((function(e){return Dc(e,t)})),r=new St(n);return new At(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(yc),Cc=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(v.a)(this,n),(i=t.call(this,e)).Ua=r,i}return Object(y.a)(n,[{key:"_toFieldTransform",value:function(e){var t=Sc(this,e,!0),n=this.Ua.map((function(e){return Dc(e,t)})),r=new It(n);return new At(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(yc),Nc=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(v.a)(this,n),(i=t.call(this,e)).qa=r,i}return Object(y.a)(n,[{key:"_toFieldTransform",value:function(e){var t=new Nt(e.N,wt(e.N,this.qa));return new At(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(yc);function Pc(e,t,n,r){var i=e.Ba(1,t,n);Fc("Data must be an object, but it was:",i,r);var a=[],o=Re.empty();Z(r,(function(e,r){var u=qc(t,e,n);r=Object(k.r)(r);var s=i.$a(u);if(r instanceof Ec)a.push(u);else{var c=Dc(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new ae(a);return new kc(o,u,i.fieldTransforms)}function Rc(e,t,n,r,i,a){var o=e.Ba(1,t,n),u=[Uc(t,r,n)],s=[i];if(a.length%2!=0)throw new L(D.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(Uc(t,a[c])),s.push(a[c+1]);for(var l=[],f=Re.empty(),h=u.length-1;h>=0;--h)if(!Bc(l,u[h])){var d=u[h],p=s[h];p=Object(k.r)(p);var v=o.$a(d);if(p instanceof Ec)l.push(d);else{var y=Dc(p,v);null!=y&&(l.push(d),f.set(d,y))}}var m=new ae(l);return new kc(f,m,o.fieldTransforms)}function Ac(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Dc(n,e.Ba(r?4:3,t))}function Dc(e,t){if(Mc(e=Object(k.r)(e)))return Fc("Unsupported field value:",t,e),Lc(e,t);if(e instanceof yc)return function(e,t){if(!wc(t.Da))throw t.Fa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Fa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xa&&4!==t.Da)throw t.Fa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Object(u.a)(e);try{for(a.s();!(n=a.n()).done;){var o=Dc(n.value,t.Oa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Object(k.r)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return wt(t.N,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Y.fromDate(e);return{timestampValue:Cn(t.N,n)}}if(e instanceof Y){var r=new Y(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Cn(t.N,r)}}if(e instanceof mc)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof vc)return{bytesValue:Nn(t.N,e._byteString)};if(e instanceof Bs){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.Fa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:An(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Fa("Unsupported field value: ".concat(Ms(e)))}(e,t)}function Lc(e,t){var n={};return ee(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Z(e,(function(e,r){var i=Dc(r,t.Na(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Mc(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Y||e instanceof mc||e instanceof vc||e instanceof Bs||e instanceof yc)}function Fc(e,t,n){if(!Mc(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Ms(n);throw"an object"===r?t.Fa(e+" a custom object"):t.Fa(e+" "+r)}}function Uc(e,t,n){if((t=Object(k.r)(t))instanceof pc)return t._internalPath;if("string"==typeof t)return qc(e,t);throw zc("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var Vc=new RegExp("[~\\*/\\[\\]]");function qc(e,t,n){if(t.search(Vc)>=0)throw zc("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Object(r.a)(pc,Object(p.a)(t.split(".")))._internalPath}catch(i){throw zc("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function zc(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new L(D.INVALID_ARGUMENT,u+e+s)}function Bc(e,t){return e.some((function(e){return e.isEqual(t)}))}var Wc=function(){function e(t,n,r,i,a){Object(v.a)(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Object(y.a)(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Bs(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Hc(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Kc("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Hc=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"data",value:function(){return Object(i.a)(Object(a.a)(n.prototype),"data",this).call(this)}}]),n}(Wc);function Kc(e,t){return"string"==typeof t?qc(e,t):t instanceof pc?t._internalPath:t._delegate._internalPath}var Gc=function(){function e(t,n){Object(v.a)(this,e),this.hasPendingWrites=t,this.fromCache=n}return Object(y.a)(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Qc=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i,a,o,u){var s;return Object(v.a)(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Object(y.a)(n,[{key:"exists",value:function(){return Object(i.a)(Object(a.a)(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new $c(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Kc("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Wc),$c=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i.a)(Object(a.a)(n.prototype),"data",this).call(this,e)}}]),n}(Qc),Yc=function(){function e(t,n,r,i){Object(v.a)(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Gc(i.hasPendingWrites,i.fromCache),this.query=r}return Object(y.a)(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new $c(n._firestore,n._userDataWriter,r.key,r,new Gc(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new L(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new $c(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Gc(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new $c(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Gc(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Jc(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function Jc(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return N()}}function Xc(e,t){return e instanceof Qc&&t instanceof Qc?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Yc&&t instanceof Yc&&e._firestore===t._firestore&&Ys(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Zc(e){if(ot(e)&&0===e.explicitOrderBy.length)throw new L(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var el=function e(){Object(v.a)(this,e)};function tl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var nl=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i){var a;return Object(v.a)(this,n),(a=t.call(this)).Ka=e,a.ja=r,a.Qa=i,a.type="where",a}return Object(y.a)(n,[{key:"_apply",value:function(e){var t=jc(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new L(D.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on FieldPath.documentId()."));if("in"===a||"not-in"===a){ml(o,a);var c,l=[],f=Object(u.a)(o);try{for(f.s();!(c=f.n()).done;){var h=c.value;l.push(yl(r,e,h))}}catch(p){f.e(p)}finally{f.f()}s={arrayValue:{values:l}}}else s=yl(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||ml(o,a),s=Ac(n,"where",o,"in"===a||"not-in"===a);var d=qe.create(i,a,s);return function(e,t){if(t.v()){var n=st(e);if(null!==n&&!n.isEqual(t.field))throw new L(D.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=ut(e);null!==r&&gl(e,t.field,r)}var i=function(e,t){var n,r=Object(u.a)(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(p){r.e(p)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new L(D.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new L(D.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,d),d}(e._query,0,t,e.firestore._databaseId,this.Ka,this.ja,this.Qa);return new Ws(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new nt(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(el);function rl(e,t,n){var r=t,i=Kc("where",e);return new nl(i,r,n)}var il=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(v.a)(this,n),(i=t.call(this)).Ka=e,i.Wa=r,i.type="orderBy",i}return Object(y.a)(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new L(D.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new L(D.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Xe(t,n);return function(e,t){if(null===ut(e)){var n=st(e);null!==n&&gl(e,n,t.field)}}(e,r),r}(e._query,this.Ka,this.Wa);return new Ws(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new nt(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(el);function al(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=t,r=Kc("orderBy",e);return new il(r,n)}var ol=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i){var a;return Object(v.a)(this,n),(a=t.call(this)).type=e,a.Ga=r,a.za=i,a}return Object(y.a)(n,[{key:"_apply",value:function(e){return new Ws(e.firestore,e.converter,ht(e._query,this.Ga,this.za))}}]),n}(el);function ul(e){return Us("limit",e),new ol("limit",e,"F")}function sl(e){return Us("limitToLast",e),new ol("limitToLast",e,"L")}var cl=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i){var a;return Object(v.a)(this,n),(a=t.call(this)).type=e,a.Ha=r,a.Ja=i,a}return Object(y.a)(n,[{key:"_apply",value:function(e){var t=vl(e,this.type,this.Ha,this.Ja);return new Ws(e.firestore,e.converter,function(e,t){return new nt(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(el);function ll(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new cl("startAt",t,!0)}function fl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new cl("startAfter",t,!1)}var hl=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i){var a;return Object(v.a)(this,n),(a=t.call(this)).type=e,a.Ha=r,a.Ja=i,a}return Object(y.a)(n,[{key:"_apply",value:function(e){var t=vl(e,this.type,this.Ha,this.Ja);return new Ws(e.firestore,e.converter,function(e,t){return new nt(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(el);function dl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new hl("endBefore",t,!0)}function pl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new hl("endAt",t,!1)}function vl(e,t,n,r){if(n[0]=Object(k.r)(n[0]),n[0]instanceof Wc)return function(e,t,n,r,i){if(!r)throw new L(D.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=Object(u.a)(lt(e));try{for(s.s();!(a=s.n()).done;){var c=a.value;if(c.field.isKeyField())o.push(Ee(t,r.key));else{var l=r.data.field(c.field);if(he(l))throw new L(D.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var f=c.field.canonicalString();throw new L(D.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(f,"' (used as the orderBy) does not exist."))}o.push(l)}}}catch(h){s.e(h)}finally{s.f()}return new Ye(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=jc(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new L(D.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new L(D.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!ct(e)&&-1!==c.indexOf("/"))throw new L(D.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(ne.fromString(c));if(!ge.isDocumentKey(l))throw new L(D.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new ge(l);u.push(Ee(t,f))}else{var h=Ac(n,r,c);u.push(h)}}return new Ye(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function yl(e,t,n){if("string"==typeof(n=Object(k.r)(n))){if(""===n)throw new L(D.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ct(t)&&-1!==n.indexOf("/"))throw new L(D.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(ne.fromString(n));if(!ge.isDocumentKey(r))throw new L(D.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Ee(e,new ge(r))}if(n instanceof Bs)return Ee(e,n._key);throw new L(D.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Ms(n),"."))}function ml(e,t){if(!Array.isArray(e)||0===e.length)throw new L(D.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new L(D.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function gl(e,t,n){if(!n.isEqual(t))throw new L(D.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var bl=function(){function e(){Object(v.a)(this,e)}return Object(y.a)(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(be(e)){case 0:return null;case 1:return e.booleanValue;case 2:return le(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(fe(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw N()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Z(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new mc(le(e.latitude),le(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=de(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(pe(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=ce(e);return new Y(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=ne.fromString(e);P(or(n));var r=new Ns(n.get(1),n.get(3)),i=new ge(n.popFirst(5));return r.isEqual(t)||T("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function kl(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var wl=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(v.a)(this,n),(r=t.call(this)).firestore=e,r}return Object(y.a)(n,[{key:"convertBytes",value:function(e){return new vc(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bs(this.firestore,null,t)}}]),n}(bl),_l=function(){function e(t,n){Object(v.a)(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=jc(t)}return Object(y.a)(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=Ol(e,this._firestore),i=kl(r.converter,t,n),a=xc(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Lt.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=Ol(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Object(k.r)(t))||t instanceof pc?Rc(this._dataReader,"WriteBatch.update",i._key,t,n,o):Pc(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Lt.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=Ol(e,this._firestore);return this._mutations=this._mutations.concat(new Jt(t._key,Lt.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new L(D.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function Ol(e,t){if((e=Object(k.r)(e)).firestore!==t)throw new L(D.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function jl(e){e=Fs(e,Bs);var t=Fs(e.firestore,tc);return Ts(nc(t),e._key).then((function(n){return Fl(t,e,n)}))}var xl=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(v.a)(this,n),(r=t.call(this)).firestore=e,r}return Object(y.a)(n,[{key:"convertBytes",value:function(e){return new vc(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bs(this.firestore,null,t)}}]),n}(bl);function El(e){e=Fs(e,Bs);var t=Fs(e.firestore,tc),n=nc(t),r=new xl(t);return function(e,t){var n=new M;return e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark((function r(){return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Object(l.a)(c.a.mark((function e(t,n,r){var i,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=A(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Qn.An(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new L(D.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Fo(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Os(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new Qc(t,r,e._key,n,new Gc(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function Sl(e){e=Fs(e,Bs);var t=Fs(e.firestore,tc);return Ts(nc(t),e._key,{source:"server"}).then((function(n){return Fl(t,e,n)}))}function Tl(e){e=Fs(e,Ws);var t=Fs(e.firestore,tc),n=nc(t),r=new xl(t);return Zc(e._query),Is(n,e._query).then((function(n){return new Yc(t,r,e,n)}))}function Il(e){e=Fs(e,Ws);var t=Fs(e.firestore,tc),n=nc(t),r=new xl(t);return function(e,t){var n=new M;return e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark((function r(){return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Object(l.a)(c.a.mark((function e(t,n,r){var i,a,o,u,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ua(t,n,!0);case 3:i=e.sent,a=new iu(n,i.Gn),o=a.Io(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=Fo(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Os(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new Yc(t,r,e,n)}))}function Cl(e){e=Fs(e,Ws);var t=Fs(e.firestore,tc),n=nc(t),r=new xl(t);return Is(n,e._query,{source:"server"}).then((function(n){return new Yc(t,r,e,n)}))}function Nl(e,t,n){e=Fs(e,Bs);var r=Fs(e.firestore,tc),i=kl(e.converter,t,n);return Ml(r,[xc(jc(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Lt.none())])}function Pl(e,t,n){e=Fs(e,Bs);for(var r=Fs(e.firestore,tc),i=jc(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return Ml(r,[("string"==typeof(t=Object(k.r)(t))||t instanceof pc?Rc(i,"updateDoc",e._key,t,n,o):Pc(i,"updateDoc",e._key,t)).toMutation(e._key,Lt.exists(!0))])}function Rl(e){return Ml(Fs(e.firestore,tc),[new Jt(e._key,Lt.none())])}function Al(e,t){var n=Fs(e.firestore,tc),r=Qs(e),i=kl(e.converter,t);return Ml(n,[xc(jc(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Lt.exists(!1))]).then((function(){return r}))}function Dl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Object(k.r)(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||Xs(n[s])||(u=n[s],s++);var f,h,d,p={includeMetadataChanges:u.includeMetadataChanges};if(Xs(n[s])){var v=n[s];n[s]=null===(i=v.next)||void 0===i?void 0:i.bind(v),n[s+1]=null===(a=v.error)||void 0===a?void 0:a.bind(v),n[s+2]=null===(o=v.complete)||void 0===o?void 0:o.bind(v)}if(e instanceof Bs)h=Fs(e.firestore,tc),d=it(e._key.path),f={next:function(t){n[s]&&n[s](Fl(h,e,t))},error:n[s+1],complete:n[s+2]};else{var y=Fs(e,Ws);h=Fs(y.firestore,tc),d=y._query;var m=new xl(h);f={next:function(e){n[s]&&n[s](new Yc(h,m,y,e))},error:n[s+1],complete:n[s+2]},Zc(e._query)}return function(e,t,n,r){var i=new cs(r),a=new Jo(t,i,n);return e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Wo,t.next=3,Es(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Xo(),e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Ko,t.next=3,Es(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(nc(h),d,p,f)}function Ll(e,t){return function(e,t){var n=new cs(t);return e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){A(e).Zr.add(t),t.next()},t.next=3,Es(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Xo(),e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){A(e).Zr.delete(t)},t.next=3,Es(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(nc(e=Fs(e,tc)),Xs(t)?t:{next:t})}function Ml(e,t){return function(e,t){var n=new M;return e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark((function r(){return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=pu,r.next=3,xs(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(nc(e),t)}function Fl(e,t,n){var r=n.docs.get(t._key),i=new xl(e);return new Qc(e,i,t._key,r,new Gc(n.hasPendingWrites,n.fromCache),t.converter)}var Ul,Vl=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(v.a)(this,n),(i=t.call(this,e,r))._firestore=e,i}return Object(y.a)(n,[{key:"get",value:function(e){var t=this,r=Ol(e,this._firestore),o=new xl(this._firestore);return Object(i.a)(Object(a.a)(n.prototype),"get",this).call(this,e).then((function(e){return new Qc(t._firestore,o,r._key,e._document,new Gc(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Object(v.a)(this,e),this._firestore=t,this._transaction=n,this._dataReader=jc(t)}return Object(y.a)(e,[{key:"get",value:function(e){var t=this,n=Ol(e,this._firestore),r=new wl(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return N();var i=e[0];if(i.isFoundDocument())return new Wc(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Wc(t._firestore,r,n._key,null,n.converter);throw N()}))}},{key:"set",value:function(e,t,n){var r=Ol(e,this._firestore),i=kl(r.converter,t,n),a=xc(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=Ol(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Object(k.r)(t))||t instanceof pc?Rc(this._dataReader,"Transaction.update",i._key,t,n,o):Pc(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=Ol(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function ql(e,t){return function(e,t){var n=new M;return e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark((function r(){var i;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return ks(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new hs(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(nc(e),(function(n){return t(new Vl(e,n))}))}function zl(){return new Ec("deleteField")}function Bl(){return new Tc("serverTimestamp")}function Wl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Ic("arrayUnion",t)}function Hl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Cc("arrayRemove",t)}function Kl(e){return new Nc("increment",e)}Ul=m.SDK_VERSION,O=Ul,Object(m._registerComponent)(new g.a("firestore",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=new tc(r,new q(e.getProvider("auth-internal")));return n=Object.assign({useFetchStreams:!0},n),i._setSettings(n),i}),"PUBLIC")),Object(m.registerVersion)("@firebase/firestore","3.0.2",undefined)}).call(this,n(98))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(79);function i(e,t){if(null==e)return{};var n,i,a=Object(r.a)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}},function(e,t,n){"use strict";function r(e){var t,n,i="";if("string"===typeof e||"number"===typeof e)i+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}t.a=function(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return Hi})),n.d(t,"b",(function(){return Ki})),n.d(t,"c",(function(){return Pt})),n.d(t,"d",(function(){return Yi})),n.d(t,"e",(function(){return Wa})),n.d(t,"f",(function(){return b})),n.d(t,"g",(function(){return ai})),n.d(t,"h",(function(){return oi})),n.d(t,"i",(function(){return ea})),n.d(t,"j",(function(){return Ka})),n.d(t,"k",(function(){return $a})),n.d(t,"l",(function(){return ba})),n.d(t,"m",(function(){return wa})),n.d(t,"n",(function(){return Ua})),n.d(t,"o",(function(){return ua})),n.d(t,"p",(function(){return Ga})),n.d(t,"q",(function(){return Qa})),n.d(t,"r",(function(){return Xa})),n.d(t,"s",(function(){return Sa})),n.d(t,"t",(function(){return Ia})),n.d(t,"u",(function(){return ya})),n.d(t,"v",(function(){return ha})),n.d(t,"w",(function(){return da})),n.d(t,"x",(function(){return pa})),n.d(t,"y",(function(){return va})),n.d(t,"z",(function(){return fa})),n.d(t,"A",(function(){return Na})),n.d(t,"B",(function(){return Ra})),n.d(t,"C",(function(){return Da})),n.d(t,"D",(function(){return Ma})),n.d(t,"E",(function(){return ta})),n.d(t,"F",(function(){return Va})),n.d(t,"G",(function(){return Xi})),n.d(t,"H",(function(){return Zi})),n.d(t,"I",(function(){return na})),n.d(t,"J",(function(){return eo})),n.d(t,"K",(function(){return Ja})),n.d(t,"L",(function(){return ra})),n.d(t,"M",(function(){return ia})),n.d(t,"N",(function(){return aa})),n.d(t,"O",(function(){return xa})),n.d(t,"P",(function(){return Oa})),n.d(t,"Q",(function(){return oa}));var r=n(0),i=n.n(r),a=n(20),o=n(4),u=n(49),s=n(9),c=n(10),l=n(26),f=n(12),h=n(3),d=n(5),p=n(19),v=n(27),y=n(2),m=n(30),g="";function b(e){g=e}var k=function(){function e(t){Object(h.a)(this,e),this.domStorage_=t,this.prefix_="firebase:"}return Object(d.a)(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Object(y.O)(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Object(y.H)(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),w=function(){function e(){Object(h.a)(this,e),this.cache_={},this.isInMemoryStorage=!0}return Object(d.a)(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return Object(y.j)(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),_=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new k(t)}}catch(n){}return new w},O=_("localStorage"),j=_("sessionStorage"),x=new m.b("@firebase/database"),E=function(){var e=1;return function(){return e++}}(),S=function(e){var t=Object(y.N)(e),n=new y.d;n.update(t);var r=n.digest();return y.g.encodeByteArray(r)},T=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?Object(y.O)(r):r,t+=" "}return t},I=null,C=!0,N=function(e,t){Object(y.e)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(x.logLevel=m.a.VERBOSE,I=x.log.bind(x),t&&j.set("logging_enabled",!0)):"function"===typeof e?I=e:(I=null,j.remove("logging_enabled"))},P=function(){if(!0===C&&(C=!1,null===I&&!0===j.get("logging_enabled")&&N(!0)),I){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=T.apply(null,t);I(r)}},R=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];P.apply(void 0,[e].concat(n))}},A=function(){var e="FIREBASE INTERNAL ERROR: "+T.apply(void 0,arguments);x.error(e)},D=function(){var e="FIREBASE FATAL ERROR: ".concat(T.apply(void 0,arguments));throw x.error(e),new Error(e)},L=function(){var e="FIREBASE WARNING: "+T.apply(void 0,arguments);x.warn(e)},M=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},F="[MIN_NAME]",U="[MAX_NAME]",V=function(e,t){if(e===t)return 0;if(e===F||t===U)return-1;if(t===F||e===U)return 1;var n=Y(e),r=Y(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},q=function(e,t){return e===t?0:e<t?-1:1},z=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Object(y.O)(t))},B=function e(t){if("object"!==typeof t||null===t)return Object(y.O)(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=Object(y.O)(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},W=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function H(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var K=function(e){Object(y.e)(!M(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var u=[];for(a=52;a;a-=1)u.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)u.push(n%2?1:0),n=Math.floor(n/2);u.push(t?1:0),u.reverse();var s=u.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(s.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()};var G=new RegExp("^-?(0*)\\d{1,10}$"),Q=-2147483648,$=2147483647,Y=function(e){if(G.test(e)){var t=Number(e);if(t>=Q&&t<=$)return t}return null},J=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw L("Exception was thrown by user callback.",e),t}),Math.floor(0))}},X=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n},Z=function(){function e(t,n){var r=this;Object(h.a)(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return Object(d.a)(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){L('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),ee=function(){function e(t,n,r){var i=this;Object(h.a)(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return Object(d.a)(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(P("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',L(e)}}]),e}(),te=function(){function e(t){Object(h.a)(this,e),this.accessToken=t}return Object(d.a)(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();te.OWNER="owner";var ne="5",re=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ie="websocket",ae="long_polling",oe=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",u=arguments.length>6&&void 0!==arguments[6]&&arguments[6];Object(h.a)(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=u,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=O.get("host:"+t)||this._host}return Object(d.a)(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&O.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function ue(e,t,n){var r;if(Object(y.e)("string"===typeof t,"typeof type must == string"),Object(y.e)("object"===typeof n,"typeof params must == object"),t===ie)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==ae)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return H(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var se=function(){function e(){Object(h.a)(this,e),this.counters_={}}return Object(d.a)(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Object(y.j)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return Object(y.m)(this.counters_)}}]),e}(),ce={},le={};function fe(e){var t=e.toString();return ce[t]||(ce[t]=new se),ce[t]}var he=function(){function e(t){Object(h.a)(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return Object(d.a)(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&J((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),de="start",pe="close",ve=function(){function e(t,n,r,i,a,o,u){var s=this;Object(h.a)(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=R(t),this.stats_=fe(n),this.urlFn=function(e){return s.appCheckToken&&(e.ac=s.appCheckToken),ue(n,ae,e)}}return Object(d.a)(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new he(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Object(y.C)()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new ye((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===de)n.id=a,n.password=o;else{if(i!==pe)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=ne,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&re.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=Object(y.O)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=Object(y.i)(t),r=W(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!Object(y.C)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=Object(y.O)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!Object(y.C)()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),ye=function(){function e(t,n,r,i){if(Object(h.a)(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(y.C)())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=E(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(u){P("frame writing exception"),u.stack&&P(u.stack),P(u)}}}return Object(d.a)(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;Object(y.C)()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){P("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||P("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),me=null;"undefined"!==typeof MozWebSocket?me=MozWebSocket:"undefined"!==typeof WebSocket&&(me=WebSocket);var ge=function(){function t(e,n,r,i,a,o,u){Object(h.a)(this,t),this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=R(this.connId),this.stats_=fe(n),this.connURL=t.connectionURL_(n,o,u,i),this.nodeAdmin=n.nodeAdmin}return Object(d.a)(t,[{key:"open",value:function(t,n){var r=this;this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,O.set("previous_websocket_failure",!0);try{if(Object(y.C)()){var i=this.nodeAdmin?"AdminNode":"Node",a={headers:{"User-Agent":"Firebase/".concat(ne,"/").concat(g,"/").concat(e.platform,"/").concat(i),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(a.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(a.headers["X-Firebase-AppCheck"]=this.appCheckToken);var o=Object({NODE_ENV:"production",PUBLIC_URL:"/Affinity",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}),u=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;u&&(a.proxy={origin:u}),this.mySock=new me(this.connURL,[],a)}else{var s={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new me(this.connURL,[],s)}}catch(l){this.log_("Error instantiating WebSocket.");var c=l.message||l.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(e){r.handleIncomingFrame(e)},this.mySock.onerror=function(e){r.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&r.log_(t),r.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){O.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Object(y.H)(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(Object(y.e)(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=Object(y.O)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=W(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r){var i={};return i.v=ne,!Object(y.C)()&&"undefined"!==typeof location&&location.hostname&&re.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i.ac=r),ue(e,ie,i)}},{key:"forceDisallow",value:function(){t.forceDisallow_=!0}},{key:"isAvailable",value:function(){var e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==me&&!t.forceDisallow_}},{key:"previouslyFailed",value:function(){return O.isInMemoryStorage||!0===O.get("previous_websocket_failure")}}]),t}();ge.responsesRequiredToBeHealthy=2,ge.healthyTimeout=3e4;var be=function(){function e(t){Object(h.a)(this,e),this.initTransports_(t)}return Object(d.a)(e,[{key:"initTransports_",value:function(t){var n=ge&&ge.isAvailable(),r=n&&!ge.previouslyFailed();if(t.webSocketOnly&&(n||L("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ge];else{var i,a=this.transports_=[],o=Object(f.a)(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var u=i.value;u&&u.isAvailable()&&a.push(u)}}catch(s){o.e(s)}finally{o.f()}}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[ve,ge]}}]),e}(),ke=function(){function e(t,n,r,i,a,o,u,s,c,l){Object(h.a)(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=u,this.onDisconnect_=s,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=R("c:"+this.id+":"),this.transportManager_=new be(n),this.log_("Connection created"),this.start_()}return Object(d.a)(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=X((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=z("t",e),n=z("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=z("t",e),n=z("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=z("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?A("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):A("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),ne!==n&&L("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),X((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):X((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(O.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),we=function(){function e(){Object(h.a)(this,e)}return Object(d.a)(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),_e=function(){function e(t){Object(h.a)(this,e),this.allowedEvents_=t,this.listeners_={},Object(y.e)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return Object(d.a)(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=Object(l.a)(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){Object(y.e)(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),Oe=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(h.a)(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Object(y.A)()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return Object(d.a)(n,[{key:"getInitialEvent",value:function(e){return Object(y.e)("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(_e),je=function(){function e(t,n){if(Object(h.a)(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return Object(d.a)(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function xe(){return new je("")}function Ee(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Se(e){return e.pieces_.length-e.pieceNum_}function Te(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new je(e.pieces_,t)}function Ie(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Ce(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function Ne(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new je(t,0)}function Pe(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof je)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new je(n,0)}function Re(e){return e.pieceNum_>=e.pieces_.length}function Ae(e,t){var n=Ee(e),r=Ee(t);if(null===n)return t;if(n===r)return Ae(Te(e),Te(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function De(e,t){for(var n=Ce(e,0),r=Ce(t,0),i=0;i<n.length&&i<r.length;i++){var a=V(n[i],r[i]);if(0!==a)return a}return n.length===r.length?0:n.length<r.length?-1:1}function Le(e,t){if(Se(e)!==Se(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Me(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(Se(e)>Se(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Fe=function e(t,n){Object(h.a)(this,e),this.errorPrefix_=n,this.parts_=Ce(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=Object(y.M)(this.parts_[r]);Ue(this)};function Ue(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ve(e))}function Ve(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var qe=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e,r,i;return Object(h.a)(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return Object(d.a)(n,[{key:"getInitialEvent",value:function(e){return Object(y.e)("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(_e),ze=1e3,Be=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,a,o,s,c,l){var f;if(Object(h.a)(this,n),(f=t.call(this)).repoInfo_=e,f.applicationId_=r,f.onDataUpdate_=i,f.onConnectStatus_=a,f.onServerInfoUpdate_=o,f.authTokenProvider_=s,f.appCheckTokenProvider_=c,f.authOverride_=l,f.id=n.nextPersistentConnectionId_++,f.log_=R("p:"+f.id+":"),f.interruptReasons_={},f.listens=new Map,f.outstandingPuts_=[],f.outstandingGets_=[],f.outstandingPutCount_=0,f.outstandingGetCount_=0,f.onDisconnectRequestQueue_=[],f.connected_=!1,f.reconnectDelay_=ze,f.maxReconnectDelay_=3e5,f.securityDebugCallback_=null,f.lastSessionId=null,f.establishConnectionTimer_=null,f.visible_=!1,f.requestCBHash_={},f.requestNumber_=0,f.realtime_=null,f.authToken_=null,f.appCheckToken_=null,f.forceTokenRefresh_=!1,f.invalidAuthTokenCount_=0,f.invalidAppCheckTokenCount_=0,f.firstConnection_=!0,f.lastConnectionAttemptTime_=null,f.lastConnectionEstablishedTime_=null,l&&!Object(y.C)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return qe.getInstance().on("visible",f.onVisible_,Object(u.a)(f)),-1===e.host.indexOf("fblocal")&&Oe.getInstance().on("online",f.onOnline_,Object(u.a)(f)),f}return Object(d.a)(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Object(y.O)(i)),Object(y.e)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){var t=this;this.initConnection_();var n=new y.a,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[a];void 0!==e&&i===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(a),n.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),Object(y.e)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Object(y.e)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var u=o.d,s=o.s;n.warnOnListenWarnings_(u,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==s&&t.removeListen_(i,a),e.onComplete&&e.onComplete(s,u))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||Object(y.t)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=Object(y.G)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Object(y.e)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+Object(y.O)(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):A("Unrecognized action received from server: "+Object(y.O)(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;Object(y.e)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ze,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ze,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=ze),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t,r,o,u,s,c,l,f,h,d,p,v,m,g,b=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),o=this.onRealtimeDisconnect_.bind(this),u=this.id+":"+n.nextConnectionId_++,s=this.lastSessionId,c=!1,l=null,f=function(){l?l.close():(c=!0,o())},h=function(e){Object(y.e)(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(e)},this.realtime_={close:f,sendRequest:h},d=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);case 19:p=e.sent,v=Object(a.a)(p,2),m=v[0],g=v[1],c?P("getToken() completed but was canceled"):(P("getToken() completed. Creating connection."),this.authToken_=m&&m.accessToken,this.appCheckToken_=g&&g.token,l=new ke(u,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,o,(function(e){L(e+" ("+b.repoInfo_.toString()+")"),b.interrupt("server_kill")}),s)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),c||(this.repoInfo_.nodeAdmin&&L(e.t0),f());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){P("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){P("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Object(y.x)(this.interruptReasons_)&&(this.reconnectDelay_=ze,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return B(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new je(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){P("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){P("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=Object(f.a)(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=e.value,i=Object(f.a)(r.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;this.sendListen_(a)}}catch(c){i.e(c)}finally{i.f()}}}catch(c){t.e(c)}finally{t.f()}for(var o=0;o<this.outstandingPuts_.length;o++)this.outstandingPuts_[o]&&this.sendPut_(o);for(;this.onDisconnectRequestQueue_.length;){var u=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(u.action,u.pathString,u.data,u.onComplete)}for(var s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}},{key:"sendConnectStats_",value:function(){var e={},t="js";Object(y.C)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+g.replace(/\./g,"-")]=1,Object(y.A)()?e["framework.cordova"]=1:Object(y.D)()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=Oe.getInstance().currentlyOnline();return Object(y.x)(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&Object(y.j)(e,"w")){var n=Object(y.L)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();L("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(we);Be.nextPersistentConnectionId_=0,Be.nextConnectionId_=0;var We,He=function(){function e(t,n){Object(h.a)(this,e),this.name=t,this.node=n}return Object(d.a)(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),Ke=function(){function e(){Object(h.a)(this,e)}return Object(d.a)(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new He(F,e),r=new He(F,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return He.MIN}}]),e}(),Ge=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"compare",value:function(e,t){return V(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw Object(y.f)("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return He.MIN}},{key:"maxPost",value:function(){return new He(U,We)}},{key:"makePost",value:function(e,t){return Object(y.e)("string"===typeof e,"KeyIndex indexValue must always be a string."),new He(e,We)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return We},set:function(e){We=e}}]),n}(Ke),Qe=new Ge,$e=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;Object(h.a)(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return Object(d.a)(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),Ye=function(){function e(t,n,r,i,a){Object(h.a)(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Ze.EMPTY_NODE,this.right=null!=a?a:Ze.EMPTY_NODE}return Object(d.a)(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return Ze.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Ze.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();Ye.RED=!0,Ye.BLACK=!1;var Je,Xe=function(){function e(){Object(h.a)(this,e)}return Object(d.a)(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Ye(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),Ze=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;Object(h.a)(this,e),this.comparator_=t,this.root_=n}return Object(d.a)(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Ye.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ye.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new $e(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new $e(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new $e(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new $e(this.root_,null,this.comparator_,!0,e)}}]),e}();function et(e,t){return V(e.name,t.name)}function tt(e,t){return V(e,t)}Ze.EMPTY_NODE=new Xe;var nt,rt,it,at=function(e){return"number"===typeof e?"number:"+K(e):"string:"+e},ot=function(e){if(e.isLeafNode()){var t=e.val();Object(y.e)("string"===typeof t||"number"===typeof t||"object"===typeof t&&Object(y.j)(t,".sv"),"Priority must be a string or number.")}else Object(y.e)(e===Je||e.isEmpty(),"priority of unexpected type.");Object(y.e)(e===Je||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},ut=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;Object(h.a)(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Object(y.e)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),ot(this.priorityNode_)}return Object(d.a)(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return Re(t)?this:".priority"===Ee(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=Ee(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Object(y.e)(".priority"!==r||1===Se(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Te(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+at(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?K(this.value_):this.value_,this.lazyHash_=S(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(Object(y.e)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return Object(y.e)(i>=0,"Unknown leaf type: "+n),Object(y.e)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return nt},set:function(e){nt=e}}]),e}();ut.VALUE_TYPE_ORDER=["object","boolean","number","string"];var st,ct,lt=new(function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?V(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return He.MIN}},{key:"maxPost",value:function(){return new He(U,new ut("[PRIORITY-POST]",it))}},{key:"makePost",value:function(e,t){var n=rt(e);return new He(t,new ut("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(Ke)),ft=Math.log(2),ht=function(){function e(t){Object(h.a)(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/ft,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return Object(d.a)(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),dt=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,u=i-r;if(0===u)return null;if(1===u)return a=e[r],o=n?n(a):a,new Ye(o,a.node,Ye.BLACK,null,null);var s=parseInt(u/2,10)+r,c=t(r,s),l=t(s+1,i);return a=e[s],o=n?n(a):a,new Ye(o,a.node,Ye.BLACK,c,l)},a=function(t){for(var r=null,a=null,o=e.length,u=function(t,r){var a=o-t,u=o;o-=t;var c=i(a+1,u),l=e[a],f=n?n(l):l;s(new Ye(f,l.node,r,null,c))},s=function(e){r?(r.left=e,r=e):(a=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),f=Math.pow(2,t.count-(c+1));l?u(f,Ye.BLACK):(u(f,Ye.BLACK),u(f,Ye.RED))}return a}(new ht(e.length));return new Ze(r||t,a)},pt={},vt=function(){function e(t,n){Object(h.a)(this,e),this.indexes_=t,this.indexSet_=n}return Object(d.a)(e,[{key:"get",value:function(e){var t=Object(y.L)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Ze?t:null}},{key:"hasIndex",value:function(e){return Object(y.j)(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){Object(y.e)(t!==Qe,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(He.Wrap),u=o.getNext();u;)a=a||t.isDefinedOn(u.node),i.push(u),u=o.getNext();r=a?dt(i,t.getCompare()):pt;var s=t.toString(),c=Object.assign({},this.indexSet_);c[s]=t;var l=Object.assign({},this.indexes_);return l[s]=r,new e(l,c)}},{key:"addToIndexes",value:function(t,n){var r=this;return new e(Object(y.I)(this.indexes_,(function(e,i){var a=Object(y.L)(r.indexSet_,i);if(Object(y.e)(a,"Missing index implementation for "+i),e===pt){if(a.isDefinedOn(t.node)){for(var o=[],u=n.getIterator(He.Wrap),s=u.getNext();s;)s.name!==t.name&&o.push(s),s=u.getNext();return o.push(t),dt(o,a.getCompare())}return pt}var c=n.get(t.name),l=e;return c&&(l=l.remove(new He(t.name,c))),l.insert(t,t.node)})),this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(Object(y.I)(this.indexes_,(function(e){if(e===pt)return e;var r=n.get(t.name);return r?e.remove(new He(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return Object(y.e)(pt&&lt,"ChildrenNode.ts has not been loaded"),st=st||new e({".priority":pt},{".priority":lt})}}]),e}(),yt=function(){function e(t,n,r){Object(h.a)(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&ot(this.priorityNode_),this.children_.isEmpty()&&Object(y.e)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object(d.a)(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||ct}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?ct:t}},{key:"getChild",value:function(e){var t=Ee(e);return null===t?this:this.getImmediateChild(t).getChild(Te(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(Object(y.e)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new He(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?ct:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=Ee(e);if(null===n)return t;Object(y.e)(".priority"!==Ee(e)||1===Se(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(Te(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(lt,(function(o,u){n[o]=u.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var u in n)o[u]=n[u];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+at(this.getPriority().val())+":"),this.forEachChild(lt,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":S(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new He(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new He(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new He(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,He.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,He.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===mt?-1:0}},{key:"withIndex",value:function(t){if(t===Qe||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===Qe||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(lt),r=t.getIterator(lt),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===Qe?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return ct||(ct=new e(new Ze(tt),null,vt.Default))}}]),e}();yt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var mt=new(function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){return Object(h.a)(this,n),t.call(this,new Ze(tt),yt.EMPTY_NODE,vt.Default)}return Object(d.a)(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return yt.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(yt));Object.defineProperties(He,{MIN:{value:new He(F,yt.EMPTY_NODE)},MAX:{value:new He(U,mt)}}),Ge.__EMPTY_NODE=yt.EMPTY_NODE,ut.__childrenNodeConstructor=yt,Je=mt,function(e){it=e}(mt);function gt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return yt.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Object(y.e)(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){var n=e;return new ut(n,gt(t))}if(e instanceof Array){var r=yt.EMPTY_NODE;return H(e,(function(t,n){if(Object(y.j)(e,t)&&"."!==t.substring(0,1)){var i=gt(n);!i.isLeafNode()&&i.isEmpty()||(r=r.updateImmediateChild(t,i))}})),r.updatePriority(gt(t))}var i=[],a=!1,o=e;if(H(o,(function(e,t){if("."!==e.substring(0,1)){var n=gt(t);n.isEmpty()||(a=a||!n.getPriority().isEmpty(),i.push(new He(e,n)))}})),0===i.length)return yt.EMPTY_NODE;var u=dt(i,et,(function(e){return e.name}),tt);if(a){var s=dt(i,lt.getCompare());return new yt(u,gt(t),new vt({".priority":s},{".priority":lt}))}return new yt(u,gt(t),vt.Default)}!function(e){rt=e}(gt);var bt=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(h.a)(this,n),(r=t.call(this)).indexPath_=e,Object(y.e)(!Re(e)&&".priority"!==Ee(e),"Can't create PathIndex with empty path or .priority key"),r}return Object(d.a)(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?V(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=gt(e),r=yt.EMPTY_NODE.updateChild(this.indexPath_,n);return new He(t,r)}},{key:"maxPost",value:function(){var e=yt.EMPTY_NODE.updateChild(this.indexPath_,mt);return new He(U,e)}},{key:"toString",value:function(){return Ce(this.indexPath_,0).join("/")}}]),n}(Ke),kt=new(function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?V(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return He.MIN}},{key:"maxPost",value:function(){return He.MAX}},{key:"makePost",value:function(e,t){var n=gt(e);return new He(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(Ke)),wt="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",_t=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=wt.charAt(n%64),n=Math.floor(n/64);Object(y.e)(0===n,"Cannot push at time == 0");var o=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)o+=wt.charAt(t[r]);return Object(y.e)(20===o.length,"nextPushId: Length should be 20."),o}}(),Ot=function(e){if("2147483647"===e)return"-";var t=Y(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return U;var a=n[i],o=wt.charAt(wt.indexOf(a)+1);return n[i]=o,n.slice(0,i+1).join("")},jt=function(e){if("-2147483648"===e)return F;var t=Y(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=wt.charAt(wt.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function xt(e){return{type:"value",snapshotNode:e}}function Et(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function St(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Tt(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var It=function(){function e(t){Object(h.a)(this,e),this.index_=t}return Object(d.a)(e,[{key:"updateChild",value:function(e,t,n,r,i,a){Object(y.e)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(St(t,o)):Object(y.e)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(Et(t,n)):a.trackChildChange(Tt(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}},{key:"updateFullNode",value:function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(lt,(function(e,r){t.hasChild(e)||n.trackChildChange(St(e,r))})),t.isLeafNode()||t.forEachChild(lt,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Tt(t,r,i))}else n.trackChildChange(Et(t,r))}))),t.withIndex(this.index_)}},{key:"updatePriority",value:function(e,t){return e.isEmpty()?yt.EMPTY_NODE:e.updatePriority(t)}},{key:"filtersNodes",value:function(){return!1}},{key:"getIndexedFilter",value:function(){return this}},{key:"getIndex",value:function(){return this.index_}}]),e}(),Ct=function(){function e(t){Object(h.a)(this,e),this.indexedFilter_=new It(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return Object(d.a)(e,[{key:"getStartPost",value:function(){return this.startPost_}},{key:"getEndPost",value:function(){return this.endPost_}},{key:"matches",value:function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}},{key:"updateChild",value:function(e,t,n,r,i,a){return this.matches(new He(t,n))||(n=yt.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,a)}},{key:"updateFullNode",value:function(e,t,n){t.isLeafNode()&&(t=yt.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(yt.EMPTY_NODE);var i=this;return t.forEachChild(lt,(function(e,t){i.matches(new He(e,t))||(r=r.updateImmediateChild(e,yt.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.indexedFilter_}},{key:"getIndex",value:function(){return this.index_}}],[{key:"getStartPost_",value:function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}},{key:"getEndPost_",value:function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}]),e}(),Nt=function(){function e(t){Object(h.a)(this,e),this.rangedFilter_=new Ct(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return Object(d.a)(e,[{key:"updateChild",value:function(e,t,n,r,i,a){return this.rangedFilter_.matches(new He(t,n))||(n=yt.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,a):this.fullLimitUpdateChild_(e,t,n,i,a)}},{key:"updateFullNode",value:function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=yt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var i;r=yt.EMPTY_NODE.withIndex(this.index_),i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;i.hasNext()&&a<this.limit_;){var o=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),o)<=0:this.index_.compare(o,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(o.name,o.node),a++}}else{var u,s,c,l;if(r=(r=t.withIndex(this.index_)).updatePriority(yt.EMPTY_NODE),this.reverse_){l=r.getReverseIterator(this.index_),u=this.rangedFilter_.getEndPost(),s=this.rangedFilter_.getStartPost();var f=this.index_.getCompare();c=function(e,t){return f(t,e)}}else l=r.getIterator(this.index_),u=this.rangedFilter_.getStartPost(),s=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();for(var h=0,d=!1;l.hasNext();){var p=l.getNext();!d&&c(u,p)<=0&&(d=!0),d&&h<this.limit_&&c(p,s)<=0?h++:r=r.updateImmediateChild(p.name,yt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.rangedFilter_.getIndexedFilter()}},{key:"getIndex",value:function(){return this.index_}},{key:"fullLimitUpdateChild_",value:function(e,t,n,r,i){var a;if(this.reverse_){var o=this.index_.getCompare();a=function(e,t){return o(t,e)}}else a=this.index_.getCompare();var u=e;Object(y.e)(u.numChildren()===this.limit_,"");var s=new He(t,n),c=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),l=this.rangedFilter_.matches(s);if(u.hasChild(t)){for(var f=u.getImmediateChild(t),h=r.getChildAfterChild(this.index_,c,this.reverse_);null!=h&&(h.name===t||u.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);var d=null==h?1:a(h,s);if(l&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(Tt(t,n,f)),u.updateImmediateChild(t,n);null!=i&&i.trackChildChange(St(t,f));var p=u.updateImmediateChild(t,yt.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(null!=i&&i.trackChildChange(Et(h.name,h.node)),p.updateImmediateChild(h.name,h.node)):p}return n.isEmpty()?e:l&&a(c,s)>=0?(null!=i&&(i.trackChildChange(St(c.name,c.node)),i.trackChildChange(Et(t,n))),u.updateImmediateChild(t,n).updateImmediateChild(c.name,yt.EMPTY_NODE)):e}}]),e}(),Pt=function(){function e(){Object(h.a)(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=lt}return Object(d.a)(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"hasStartAfter",value:function(){return this.startAfterSet_}},{key:"hasEndBefore",value:function(){return this.endBeforeSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return Object(y.e)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return Object(y.e)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:F}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return Object(y.e)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return Object(y.e)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:U}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return Object(y.e)(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===lt}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function Rt(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function At(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Dt(e,t){var n=e.copy();return n.index_=t,n}function Lt(e){var t,n={};return e.isDefault()||(e.index_===lt?t="$priority":e.index_===kt?t="$value":e.index_===Qe?t="$key":(Object(y.e)(e.index_ instanceof bt,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=Object(y.O)(t),e.startSet_&&(n.startAt=Object(y.O)(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+Object(y.O)(e.indexStartName_))),e.endSet_&&(n.endAt=Object(y.O)(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+Object(y.O)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function Mt(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==lt&&(t.i=e.index_.toString()),t}var Ft=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,a){var o;return Object(h.a)(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=R("p:rest:"),o.listens_={},o}return Object(d.a)(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var u=n.getListenId_(e,r),s={};this.listens_[u]=s;var c=Lt(e._queryParams);this.restRequest_(o+".json",c,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),Object(y.L)(a.listens_,u)===s)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=Lt(e._queryParams),r=e._path.toString(),i=new y.a;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var o=Object(a.a)(i,2),u=o[0],s=o[1];u&&u.accessToken&&(n.auth=u.accessToken),s&&s.token&&(n.ac=s.token);var c=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+Object(y.J)(n);t.log_("Sending REST request for "+c);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(r&&4===l.readyState){t.log_("REST Response for "+c+" received. status:",l.status,"response:",l.responseText);var e=null;if(l.status>=200&&l.status<300){try{e=Object(y.H)(l.responseText)}catch(n){L("Failed to parse JSON response for "+c+": "+l.responseText)}r(null,e)}else 401!==l.status&&404!==l.status&&L("Got unsuccessful REST response for "+c+" Status: "+l.status),r(l.status);r=null}},l.open("GET",c,!0),l.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(Object(y.e)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(we),Ut=function(){function e(){Object(h.a)(this,e),this.rootNode_=yt.EMPTY_NODE}return Object(d.a)(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function Vt(){return{value:null,children:new Map}}function qt(e,t,n){if(Re(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=Ee(t);e.children.has(r)||e.children.set(r,Vt()),qt(e.children.get(r),t=Te(t),n)}}function zt(e,t){if(Re(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(lt,(function(t,n){qt(e,new je(t),n)})),zt(e,t)}if(e.children.size>0){var r=Ee(t);if(t=Te(t),e.children.has(r))zt(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function Bt(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){Bt(r,new je(t.toString()+"/"+e),n)}))}var Wt,Ht=function(){function e(t){Object(h.a)(this,e),this.collection_=t,this.last_=null}return Object(d.a)(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&H(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),Kt=function(){function e(t,n){Object(h.a)(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new Ht(t);var r=1e4+2e4*Math.random();X(this.reportStats_.bind(this),Math.floor(r))}return Object(d.a)(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;H(t,(function(t,i){i>0&&Object(y.j)(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),X(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function Gt(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Wt||(Wt={}));var Qt,$t=function(){function e(t,n,r){Object(h.a)(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=Wt.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return Object(d.a)(e,[{key:"operationForChild",value:function(t){if(Re(this.path)){if(null!=this.affectedTree.value)return Object(y.e)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new je(t));return new e(xe(),n,this.revert)}return Object(y.e)(Ee(this.path)===t,"operationForChild called for unrelated child."),new e(Te(this.path),this.affectedTree,this.revert)}}]),e}(),Yt=function(){function e(t,n){Object(h.a)(this,e),this.source=t,this.path=n,this.type=Wt.LISTEN_COMPLETE}return Object(d.a)(e,[{key:"operationForChild",value:function(t){return Re(this.path)?new e(this.source,xe()):new e(this.source,Te(this.path))}}]),e}(),Jt=function(){function e(t,n,r){Object(h.a)(this,e),this.source=t,this.path=n,this.snap=r,this.type=Wt.OVERWRITE}return Object(d.a)(e,[{key:"operationForChild",value:function(t){return Re(this.path)?new e(this.source,xe(),this.snap.getImmediateChild(t)):new e(this.source,Te(this.path),this.snap)}}]),e}(),Xt=function(){function e(t,n,r){Object(h.a)(this,e),this.source=t,this.path=n,this.children=r,this.type=Wt.MERGE}return Object(d.a)(e,[{key:"operationForChild",value:function(t){if(Re(this.path)){var n=this.children.subtree(new je(t));return n.isEmpty()?null:n.value?new Jt(this.source,xe(),n.value):new e(this.source,xe(),n)}return Object(y.e)(Ee(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,Te(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),Zt=function(){function e(t,n,r){Object(h.a)(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return Object(d.a)(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(Re(e))return this.isFullyInitialized()&&!this.filtered_;var t=Ee(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}(),en=function e(t){Object(h.a)(this,e),this.query_=t,this.index_=this.query_._queryParams.getIndex()};function tn(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw Object(y.f)("Should only compare child_ events.");var r=new He(t.childName,t.snapshotNode),i=new He(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function nn(e,t){return{eventCache:e,serverCache:t}}function rn(e,t,n,r){return nn(new Zt(t,n,r),e.serverCache)}function an(e,t,n,r){return nn(e.eventCache,new Zt(t,n,r))}function on(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function un(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var sn=function(){return Qt||(Qt=new Ze(q)),Qt},cn=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sn();Object(h.a)(this,e),this.value=t,this.children=n}return Object(d.a)(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:xe(),value:this.value};if(Re(e))return null;var n=Ee(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(Te(e),t);return null!=i?{path:Pe(new je(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(Re(t))return this;var n=Ee(t),r=this.children.get(n);return null!==r?r.subtree(Te(t)):new e(null)}},{key:"set",value:function(t,n){if(Re(t))return new e(n,this.children);var r=Ee(t),i=(this.children.get(r)||new e(null)).set(Te(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(Re(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=Ee(t),r=this.children.get(n);if(r){var i,a=r.remove(Te(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(Re(e))return this.value;var t=Ee(e),n=this.children.get(t);return n?n.get(Te(e)):null}},{key:"setTree",value:function(t,n){if(Re(t))return n;var r,i=Ee(t),a=(this.children.get(i)||new e(null)).setTree(Te(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(xe(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(Pe(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,xe(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(Re(e))return null;var i=Ee(e),a=this.children.get(i);return a?a.findOnPath_(Te(e),Pe(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,xe(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(Re(t))return this;this.value&&r(n,this.value);var i=Ee(t),a=this.children.get(i);return a?a.foreachOnPath_(Te(t),Pe(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(xe(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(Pe(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return H(t,(function(e,t){n=n.set(new je(e),t)})),n}}]),e}(),ln=function(){function e(t){Object(h.a)(this,e),this.writeTree_=t}return Object(d.a)(e,null,[{key:"empty",value:function(){return new e(new cn(null))}}]),e}();function fn(e,t,n){if(Re(t))return new ln(new cn(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=Ae(i,t);return a=a.updateChild(o,n),new ln(e.writeTree_.set(i,a))}var u=new cn(n),s=e.writeTree_.setTree(t,u);return new ln(s)}function hn(e,t,n){var r=e;return H(n,(function(e,n){r=fn(r,Pe(t,e),n)})),r}function dn(e,t){if(Re(t))return ln.empty();var n=e.writeTree_.setTree(t,new cn(null));return new ln(n)}function pn(e,t){return null!=vn(e,t)}function vn(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Ae(n.path,t)):null}function yn(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(lt,(function(e,n){t.push(new He(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new He(e,n.value))})),t}function mn(e,t){if(Re(t))return e;var n=vn(e,t);return new ln(null!=n?new cn(n):e.writeTree_.subtree(t))}function gn(e){return e.writeTree_.isEmpty()}function bn(e,t){return kn(xe(),e.writeTree_,t)}function kn(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(Object(y.e)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=kn(Pe(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Pe(e,".priority"),r)),n}function wn(e,t){return Dn(t,e)}function _n(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function On(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));Object(y.e)(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var u=e.allWrites[o];u.visible&&(o>=n&&jn(u,r.path)?i=!1:Me(r.path,u.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=En(e.allWrites,xn,xe()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=dn(e.visibleWrites,r.path):H(r.children,(function(t){e.visibleWrites=dn(e.visibleWrites,Pe(r.path,t))}));return!0}return!1}function jn(e,t){if(e.snap)return Me(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Me(Pe(e.path,n),t))return!0;return!1}function xn(e){return e.visible}function En(e,t,n){for(var r=ln.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,u=void 0;if(a.snap)Me(n,o)?r=fn(r,u=Ae(n,o),a.snap):Me(o,n)&&(u=Ae(o,n),r=fn(r,xe(),a.snap.getChild(u)));else{if(!a.children)throw Object(y.f)("WriteRecord should have .snap or .children");if(Me(n,o))r=hn(r,u=Ae(n,o),a.children);else if(Me(o,n))if(Re(u=Ae(o,n)))r=hn(r,xe(),a.children);else{var s=Object(y.L)(a.children,Ee(u));if(s){var c=s.getChild(Te(u));r=fn(r,xe(),c)}}}}}return r}function Sn(e,t,n,r,i){if(r||i){var a=mn(e.visibleWrites,t);if(!i&&gn(a))return n;if(i||null!=n||pn(a,xe())){return bn(En(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Me(e.path,t)||Me(t,e.path))}),t),n||yt.EMPTY_NODE)}return null}var o=vn(e.visibleWrites,t);if(null!=o)return o;var u=mn(e.visibleWrites,t);return gn(u)?n:null!=n||pn(u,xe())?bn(u,n||yt.EMPTY_NODE):null}function Tn(e,t,n,r){return Sn(e.writeTree,e.treePath,t,n,r)}function In(e,t){return function(e,t,n){var r=yt.EMPTY_NODE,i=vn(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(lt,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=mn(e.visibleWrites,t);return n.forEachChild(lt,(function(e,t){var n=bn(mn(a,new je(e)),t);r=r.updateImmediateChild(e,n)})),yn(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return yn(mn(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Cn(e,t,n,r){return function(e,t,n,r,i){Object(y.e)(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=Pe(t,n);if(pn(e.visibleWrites,a))return null;var o=mn(e.visibleWrites,a);return gn(o)?i.getChild(n):bn(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function Nn(e,t){return function(e,t){return vn(e.visibleWrites,t)}(e.writeTree,Pe(e.treePath,t))}function Pn(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var u,s=mn(e.visibleWrites,t),c=vn(s,xe());if(null!=c)u=c;else{if(null==n)return[];u=bn(s,n)}if((u=u.withIndex(o)).isEmpty()||u.isLeafNode())return[];for(var l=[],f=o.getCompare(),h=a?u.getReverseIteratorFrom(r,o):u.getIteratorFrom(r,o),d=h.getNext();d&&l.length<i;)0!==f(d,r)&&l.push(d),d=h.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,a)}function Rn(e,t,n){return function(e,t,n,r){var i=Pe(t,n),a=vn(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?bn(mn(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function An(e,t){return Dn(Pe(e.treePath,t),e.writeTree)}function Dn(e,t){return{treePath:e,writeTree:t}}var Ln=function(){function e(){Object(h.a)(this,e),this.changeMap=new Map}return Object(d.a)(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;Object(y.e)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Object(y.e)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Tt(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,St(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Et(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Object(y.f)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Tt(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),Mn=new(function(){function e(){Object(h.a)(this,e)}return Object(d.a)(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),Fn=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Object(h.a)(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return Object(d.a)(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Zt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Rn(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:un(this.viewCache_),i=Pn(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function Un(e,t,n,r,i){var a,o,u=new Ln;if(n.type===Wt.OVERWRITE){var s=n;s.source.fromUser?a=zn(e,t,s.path,s.snap,r,i,u):(Object(y.e)(s.source.fromServer,"Unknown source."),o=s.source.tagged||t.serverCache.isFiltered()&&!Re(s.path),a=qn(e,t,s.path,s.snap,r,i,o,u))}else if(n.type===Wt.MERGE){var c=n;c.source.fromUser?a=function(e,t,n,r,i,a,o){var u=t;return r.foreach((function(r,s){var c=Pe(n,r);Bn(t,Ee(c))&&(u=zn(e,u,c,s,i,a,o))})),r.foreach((function(r,s){var c=Pe(n,r);Bn(t,Ee(c))||(u=zn(e,u,c,s,i,a,o))})),u}(e,t,c.path,c.children,r,i,u):(Object(y.e)(c.source.fromServer,"Unknown source."),o=c.source.tagged||t.serverCache.isFiltered(),a=Hn(e,t,c.path,c.children,r,i,o,u))}else if(n.type===Wt.ACK_USER_WRITE){var l=n;a=l.revert?function(e,t,n,r,i,a){var o;if(null!=Nn(r,n))return t;var u,s=new Fn(r,t,i),c=t.eventCache.getNode();if(Re(n)||".priority"===Ee(n)){var l;if(t.serverCache.isFullyInitialized())l=Tn(r,un(t));else{var f=t.serverCache.getNode();Object(y.e)(f instanceof yt,"serverChildren would be complete if leaf node"),l=In(r,f)}l=l,u=e.filter.updateFullNode(c,l,a)}else{var h=Ee(n),d=Rn(r,h,t.serverCache);null==d&&t.serverCache.isCompleteForChild(h)&&(d=c.getImmediateChild(h)),(u=null!=d?e.filter.updateChild(c,h,d,Te(n),s,a):t.eventCache.getNode().hasChild(h)?e.filter.updateChild(c,h,yt.EMPTY_NODE,Te(n),s,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Tn(r,un(t))).isLeafNode()&&(u=e.filter.updateFullNode(u,o,a))}return o=t.serverCache.isFullyInitialized()||null!=Nn(r,xe()),rn(t,u,o,e.filter.filtersNodes())}(e,t,l.path,r,i,u):function(e,t,n,r,i,a,o){if(null!=Nn(i,n))return t;var u=t.serverCache.isFiltered(),s=t.serverCache;if(null!=r.value){if(Re(n)&&s.isFullyInitialized()||s.isCompleteForPath(n))return qn(e,t,n,s.getNode().getChild(n),i,a,u,o);if(Re(n)){var c=new cn(null);return s.getNode().forEachChild(Qe,(function(e,t){c=c.set(new je(e),t)})),Hn(e,t,n,c,i,a,u,o)}return t}var l=new cn(null);return r.foreach((function(e,t){var r=Pe(n,e);s.isCompleteForPath(r)&&(l=l.set(e,s.getNode().getChild(r)))})),Hn(e,t,n,l,i,a,u,o)}(e,t,l.path,l.affectedTree,r,i,u)}else{if(n.type!==Wt.LISTEN_COMPLETE)throw Object(y.f)("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=an(t,a.getNode(),a.isFullyInitialized()||Re(n),a.isFiltered());return Vn(e,o,n,r,Mn,i)}(e,t,n.path,r,u)}var f=u.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=on(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(xt(on(t)))}}(t,a,f),{viewCache:a,changes:f}}function Vn(e,t,n,r,i,a){var o,u,s=t.eventCache;if(null!=Nn(r,n))return t;if(Re(n))if(Object(y.e)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=un(t),l=In(r,c instanceof yt?c:yt.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),l,a)}else{var f=Tn(r,un(t));o=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var h=Ee(n);if(".priority"===h){Object(y.e)(1===Se(n),"Can't have a priority with additional path components");var d=s.getNode(),p=Cn(r,n,d,u=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(d,p):s.getNode()}else{var v,m=Te(n);if(s.isCompleteForChild(h)){u=t.serverCache.getNode();var g=Cn(r,n,s.getNode(),u);v=null!=g?s.getNode().getImmediateChild(h).updateChild(m,g):s.getNode().getImmediateChild(h)}else v=Rn(r,h,t.serverCache);o=null!=v?e.filter.updateChild(s.getNode(),h,v,m,i,a):s.getNode()}}return rn(t,o,s.isFullyInitialized()||Re(n),e.filter.filtersNodes())}function qn(e,t,n,r,i,a,o,u){var s,c=t.serverCache,l=o?e.filter:e.filter.getIndexedFilter();if(Re(n))s=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var f=c.getNode().updateChild(n,r);s=l.updateFullNode(c.getNode(),f,null)}else{var h=Ee(n);if(!c.isCompleteForPath(n)&&Se(n)>1)return t;var d=Te(n),p=c.getNode().getImmediateChild(h).updateChild(d,r);s=".priority"===h?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),h,p,d,Mn,null)}var v=an(t,s,c.isFullyInitialized()||Re(n),l.filtersNodes());return Vn(e,v,n,i,new Fn(i,v,a),u)}function zn(e,t,n,r,i,a,o){var u,s,c=t.eventCache,l=new Fn(i,t,a);if(Re(n))s=e.filter.updateFullNode(t.eventCache.getNode(),r,o),u=rn(t,s,!0,e.filter.filtersNodes());else{var f=Ee(n);if(".priority"===f)s=e.filter.updatePriority(t.eventCache.getNode(),r),u=rn(t,s,c.isFullyInitialized(),c.isFiltered());else{var h,d=Te(n),p=c.getNode().getImmediateChild(f);if(Re(d))h=r;else{var v=l.getCompleteChild(f);h=null!=v?".priority"===Ie(d)&&v.getChild(Ne(d)).isEmpty()?v:v.updateChild(d,r):yt.EMPTY_NODE}if(p.equals(h))u=t;else u=rn(t,e.filter.updateChild(c.getNode(),f,h,d,l,o),c.isFullyInitialized(),e.filter.filtersNodes())}}return u}function Bn(e,t){return e.eventCache.isCompleteForChild(t)}function Wn(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Hn(e,t,n,r,i,a,o,u){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var s,c=t;s=Re(n)?r:new cn(null).setTree(n,r);var l=t.serverCache.getNode();return s.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var s=Wn(0,t.serverCache.getNode().getImmediateChild(n),r);c=qn(e,c,new je(n),s,i,a,o,u)}})),s.children.inorderTraversal((function(n,r){var s=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!s){var f=Wn(0,t.serverCache.getNode().getImmediateChild(n),r);c=qn(e,c,new je(n),f,i,a,o,u)}})),c}var Kn,Gn=function(){function e(t,n){Object(h.a)(this,e),this.query_=t,this.eventRegistrations_=[];var r,i=this.query_._queryParams,a=new It(i.getIndex()),o=(r=i).loadsAllData()?new It(r.getIndex()):r.hasLimit()?new Nt(r):new Ct(r);this.processor_=function(e){return{filter:e}}(o);var u=n.serverCache,s=n.eventCache,c=a.updateFullNode(yt.EMPTY_NODE,u.getNode(),null),l=o.updateFullNode(yt.EMPTY_NODE,s.getNode(),null),f=new Zt(c,u.isFullyInitialized(),a.filtersNodes()),d=new Zt(l,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=nn(d,f),this.eventGenerator_=new en(this.query_)}return Object(d.a)(e,[{key:"query",get:function(){return this.query_}}]),e}();function Qn(e,t){var n=un(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Re(t)&&!n.getImmediateChild(Ee(t)).isEmpty())?n.getChild(t):null}function $n(e){return 0===e.eventRegistrations_.length}function Yn(e,t,n){var r=[];if(n){Object(y.e)(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],o=0;o<e.eventRegistrations_.length;++o){var u=e.eventRegistrations_[o];if(u.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(o+1));break}}else a.push(u)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function Jn(e,t,n,r){t.type===Wt.MERGE&&null!==t.source.queryId&&(Object(y.e)(un(e.viewCache_),"We should always have a full cache before handling merges"),Object(y.e)(on(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,u=Un(e.processor_,o,t,n,r);return i=e.processor_,a=u.viewCache,Object(y.e)(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Object(y.e)(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),Object(y.e)(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=u.viewCache,Xn(e,u.changes,u.viewCache.eventCache.getNode(),null)}function Xn(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),tn(e,i,"child_removed",t,r,n),tn(e,i,"child_added",t,r,n),tn(e,i,"child_moved",a,r,n),tn(e,i,"child_changed",t,r,n),tn(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var Zn,er=function e(){Object(h.a)(this,e),this.views=new Map};function tr(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return Object(y.e)(null!=a,"SyncTree gave us an op for an invalid query."),Jn(a,t,n,r)}var o,u=[],s=Object(f.a)(e.views.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u=u.concat(Jn(c,t,n,r))}}catch(l){s.e(l)}finally{s.f()}return u}function nr(e,t,n,r,i){var a=t._queryIdentifier,o=e.views.get(a);if(!o){var u=Tn(n,i?r:null),s=!1;u?s=!0:r instanceof yt?(u=In(n,r),s=!1):(u=yt.EMPTY_NODE,s=!1);var c=nn(new Zt(u,s,!1),new Zt(r,i,!1));return new Gn(t,c)}return o}function rr(e,t,n,r,i,a){var o=nr(e,t,r,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(lt,(function(e,t){r.push(Et(e,t))})),n.isFullyInitialized()&&r.push(xt(n.getNode())),Xn(e,r,n.getNode(),t)}(o,n)}function ir(e,t,n,r){var i=t._queryIdentifier,o=[],u=[],s=cr(e);if("default"===i){var c,l=Object(f.a)(e.views.entries());try{for(l.s();!(c=l.n()).done;){var h=Object(a.a)(c.value,2),d=h[0],p=h[1];u=u.concat(Yn(p,n,r)),$n(p)&&(e.views.delete(d),p.query._queryParams.loadsAllData()||o.push(p.query))}}catch(m){l.e(m)}finally{l.f()}}else{var v=e.views.get(i);v&&(u=u.concat(Yn(v,n,r)),$n(v)&&(e.views.delete(i),v.query._queryParams.loadsAllData()||o.push(v.query)))}return s&&!cr(e)&&o.push(new(Object(y.e)(Kn,"Reference.ts has not been loaded"),Kn)(t._repo,t._path)),{removed:o,events:u}}function ar(e){var t,n=[],r=Object(f.a)(e.views.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.query._queryParams.loadsAllData()||n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n}function or(e,t){var n,r=null,i=Object(f.a)(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||Qn(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}function ur(e,t){if(t._queryParams.loadsAllData())return lr(e);var n=t._queryIdentifier;return e.views.get(n)}function sr(e,t){return null!=ur(e,t)}function cr(e){return null!=lr(e)}function lr(e){var t,n=Object(f.a)(e.views.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.query._queryParams.loadsAllData())return r}}catch(i){n.e(i)}finally{n.f()}return null}var fr=1,hr=function e(t){Object(h.a)(this,e),this.listenProvider_=t,this.syncPointTree_=new cn(null),this.pendingWriteTree_={visibleWrites:ln.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function dr(e,t,n,r,i){return function(e,t,n,r,i){Object(y.e)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=fn(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?wr(e,new Jt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function pr(e,t,n,r){!function(e,t,n,r){Object(y.e)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=hn(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=cn.fromObject(n);return wr(e,new Xt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function vr(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=_n(e.pendingWriteTree_,t),i=On(e.pendingWriteTree_,t);if(i){var a=new cn(null);return null!=r.snap?a=a.set(xe(),!0):H(r.children,(function(e){a=a.set(new je(e),!0)})),wr(e,new $t(r.path,a,n))}return[]}function yr(e,t,n){return wr(e,new Jt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function mr(e,t,n,r){var i=t._path,a=e.syncPointTree_.get(i),o=[];if(a&&("default"===t._queryIdentifier||sr(a,t))){var u=ir(a,t,n,r);0===a.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));var s=u.removed;o=u.events;var c=-1!==s.findIndex((function(e){return e._queryParams.loadsAllData()})),l=e.syncPointTree_.findOnPath(i,(function(e,t){return cr(t)}));if(c&&!l){var f=e.syncPointTree_.subtree(i);if(!f.isEmpty())for(var h=function(e){return e.fold((function(e,t,n){if(t&&cr(t))return[lr(t)];var r=[];return t&&(r=ar(t)),H(n,(function(e,t){r=r.concat(t)})),r}))}(f),d=0;d<h.length;++d){var p=h[d],v=p.query,y=jr(e,p);e.listenProvider_.startListening(Cr(v),xr(e,v),y.hashFn,y.onComplete)}}if(!l&&s.length>0&&!r)if(c){e.listenProvider_.stopListening(Cr(t),null)}else s.forEach((function(t){var n=e.queryToTagMap.get(Er(t));e.listenProvider_.stopListening(Cr(t),n)}));!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=Er(r),a=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(a)}}}(e,s)}return o}function gr(e,t,n){var r=t._path,i=null,a=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){var n=Ae(e,r);i=i||or(t,n),a=a||cr(t)}));var o,u=e.syncPointTree_.get(r);(u?(a=a||cr(u),i=i||or(u,xe())):(u=new er,e.syncPointTree_=e.syncPointTree_.set(r,u)),null!=i)?o=!0:(o=!1,i=yt.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=or(t,xe());n&&(i=i.updateImmediateChild(e,n))})));var s=sr(u,t);if(!s&&!t._queryParams.loadsAllData()){var c=Er(t);Object(y.e)(!e.queryToTagMap.has(c),"View does not exist, but we have a tag");var l=fr++;e.queryToTagMap.set(c,l),e.tagToQueryMap.set(l,c)}var f=rr(u,t,n,wn(e.pendingWriteTree_,r),i,o);if(!s&&!a){var h=ur(u,t);f=f.concat(function(e,t,n){var r=t._path,i=xr(e,t),a=jr(e,n),o=e.listenProvider_.startListening(Cr(t),i,a.hashFn,a.onComplete),u=e.syncPointTree_.subtree(r);if(i)Object(y.e)(!cr(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var s=u.fold((function(e,t,n){if(!Re(e)&&t&&cr(t))return[lr(t).query];var r=[];return t&&(r=r.concat(ar(t).map((function(e){return e.query})))),H(n,(function(e,t){r=r.concat(t)})),r})),c=0;c<s.length;++c){var l=s[c];e.listenProvider_.stopListening(Cr(l),xr(e,l))}return o}(e,t,h))}return f}function br(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=or(n,Ae(e,t));if(r)return r}));return Sn(r,t,i,n,!0)}function kr(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=Ae(e,n);r=r||or(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||or(i,xe()):(i=new er,e.syncPointTree_=e.syncPointTree_.set(n,i));var a=null!=r,o=a?new Zt(r,!0,!1):null;return function(e){return on(e.viewCache_)}(nr(i,t,wn(e.pendingWriteTree_,t._path),a?o.getNode():yt.EMPTY_NODE,a))}function wr(e,t){return _r(t,e.syncPointTree_,null,wn(e.pendingWriteTree_,xe()))}function _r(e,t,n,r){if(Re(e.path))return Or(e,t,n,r);var i=t.get(xe());null==n&&null!=i&&(n=or(i,xe()));var a=[],o=Ee(e.path),u=e.operationForChild(o),s=t.children.get(o);if(s&&u){var c=n?n.getImmediateChild(o):null,l=An(r,o);a=a.concat(_r(u,s,c,l))}return i&&(a=a.concat(tr(i,e,r,n))),a}function Or(e,t,n,r){var i=t.get(xe());null==n&&null!=i&&(n=or(i,xe()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,u=An(r,t),s=e.operationForChild(t);s&&(a=a.concat(Or(s,i,o,u)))})),i&&(a=a.concat(tr(i,e,r,n))),a}function jr(e,t){var n=t.query,r=xr(e,n);return{hashFn:function(){return(function(e){return e.viewCache_.serverCache.getNode()}(t)||yt.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=Sr(e,n);if(r){var i=Tr(r),a=i.path,o=i.queryId,u=Ae(a,t);return Ir(e,a,new Yt(Gt(o),u))}return[]}(e,n._path,r):function(e,t){return wr(e,new Yt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return mr(e,n,null,i)}}}function xr(e,t){var n=Er(t);return e.queryToTagMap.get(n)}function Er(e){return e._path.toString()+"$"+e._queryIdentifier}function Sr(e,t){return e.tagToQueryMap.get(t)}function Tr(e){var t=e.indexOf("$");return Object(y.e)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new je(e.substr(0,t))}}function Ir(e,t,n){var r=e.syncPointTree_.get(t);return Object(y.e)(r,"Missing sync point for query tag that we're tracking"),tr(r,n,wn(e.pendingWriteTree_,t),null)}function Cr(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Object(y.e)(Zn,"Reference.ts has not been loaded"),Zn)(e._repo,e._path):e}var Nr=function(){function e(t){Object(h.a)(this,e),this.node_=t}return Object(d.a)(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),Pr=function(){function e(t,n){Object(h.a)(this,e),this.syncTree_=t,this.path_=n}return Object(d.a)(e,[{key:"getImmediateChild",value:function(t){var n=Pe(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return br(this.syncTree_,this.path_)}}]),e}(),Rr=function(e,t,n){return e&&"object"===typeof e?(Object(y.e)(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Ar(e[".sv"],t,n):"object"===typeof e[".sv"]?Dr(e[".sv"],t):void Object(y.e)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Ar=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:Object(y.e)(!1,"Unexpected server value: "+e)}},Dr=function(e,t,n){e.hasOwnProperty("increment")||Object(y.e)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&Object(y.e)(!1,"Unexpected increment value: "+r);var i=t.node();if(Object(y.e)(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},Lr=function(e,t,n,r){return Fr(t,new Pr(n,e),r)},Mr=function(e,t,n){return Fr(e,new Nr(t),n)};function Fr(e,t,n){var r,i=e.getPriority().val(),a=Rr(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,u=Rr(o.getValue(),t,n);return u!==o.getValue()||a!==o.getPriority().val()?new ut(u,gt(a)):e}var s=e;return r=s,a!==s.getPriority().val()&&(r=r.updatePriority(new ut(a))),s.forEachChild(lt,(function(e,i){var a=Fr(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var Ur=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};Object(h.a)(this,e),this.name=t,this.parent=n,this.node=r};function Vr(e,t){for(var n=t instanceof je?t:new je(t),r=e,i=Ee(n);null!==i;){var a=Object(y.L)(r.node.children,i)||{children:{},childCount:0};r=new Ur(i,r,a),i=Ee(n=Te(n))}return r}function qr(e){return e.node.value}function zr(e,t){e.node.value=t,Gr(e)}function Br(e){return e.node.childCount>0}function Wr(e,t){H(e.node.children,(function(n,r){t(new Ur(n,e,r))}))}function Hr(e,t,n,r){n&&!r&&t(e),Wr(e,(function(e){Hr(e,t,!0,r)})),n&&r&&t(e)}function Kr(e){return new je(null===e.parent?e.name:Kr(e.parent)+"/"+e.name)}function Gr(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===qr(e)&&!Br(e)}(n),i=Object(y.j)(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Gr(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Gr(e))}(e.parent,e.name,e)}var Qr=/[\[\].#$\/\u0000-\u001F\u007F]/,$r=/[\[\].#$\u0000-\u001F\u007F]/,Yr=10485760,Jr=function(e){return"string"===typeof e&&0!==e.length&&!Qr.test(e)},Xr=function(e){return"string"===typeof e&&0!==e.length&&!$r.test(e)},Zr=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!M(e)||e&&"object"===typeof e&&Object(y.j)(e,".sv")},ei=function(e,t,n,r){r&&void 0===t||ti(Object(y.p)(e,"value"),t,n)},ti=function e(t,n,r){var i=r instanceof je?new Fe(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+Ve(i));if("function"===typeof n)throw new Error(t+"contains a function "+Ve(i)+" with contents = "+n.toString());if(M(n))throw new Error(t+"contains "+n.toString()+" "+Ve(i));if("string"===typeof n&&n.length>Yr/3&&Object(y.M)(n)>Yr)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+Ve(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(H(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!Jr(n)))throw new Error(t+" contains an invalid key ("+n+") "+Ve(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var u,s;s=n,(u=i).parts_.length>0&&(u.byteLength_+=1),u.parts_.push(s),u.byteLength_+=Object(y.M)(s),Ue(u),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=Object(y.M)(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+Ve(i)+" in addition to actual children.")}},ni=function(e,t,n,r){if(!r||void 0!==t){var i=Object(y.p)(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];H(t,(function(e,t){var r=new je(e);if(ti(i,t,Pe(n,r)),".priority"===Ie(r)&&!Zr(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=Ce(r=t[n]),a=0;a<i.length;a++)if(".priority"===i[a]&&a===i.length-1);else if(!Jr(i[a]))throw new Error(e+"contains an invalid key ("+i[a]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(De);var o=null;for(n=0;n<t.length;n++){if(r=t[n],null!==o&&Me(o,r))throw new Error(e+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(i,a)}},ri=function(e,t,n){if(!n||void 0!==t){if(M(t))throw new Error(Object(y.p)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Zr(t))throw new Error(Object(y.p)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ii=function(e,t,n,r){if((!r||void 0!==n)&&!Jr(n))throw new Error(Object(y.p)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ai=function(e,t,n,r){if((!r||void 0!==n)&&!Xr(n))throw new Error(Object(y.p)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},oi=function(e,t){if(".info"===Ee(t))throw new Error(e+" failed = Can't modify data under /.info/")},ui=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Jr(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Xr(e)}(n))throw new Error(Object(y.p)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},si=function e(){Object(h.a)(this,e),this.eventLists_=[],this.recursionDepth_=0};function ci(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||Le(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function li(e,t,n){ci(e,n),hi(e,(function(e){return Le(e,t)}))}function fi(e,t,n){ci(e,n),hi(e,(function(e){return Me(e,t)||Me(t,e)}))}function hi(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(di(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function di(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();I&&P("event: "+n.toString()),J(r)}}}var pi="repo_interrupt",vi=function(){function e(t,n,r,i){Object(h.a)(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new si,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Vt(),this.transactionQueueTree_=new Ur,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return Object(d.a)(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function yi(e,t,n){if(e.stats_=fe(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Ft(e.repoInfo_,(function(t,n,r,i){bi(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return ki(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(y.O)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Be(e.repoInfo_,t,(function(t,n,r,i){bi(e,t,n,r,i)}),(function(t){ki(e,t)}),(function(t){!function(e,t){H(t,(function(t,n){wi(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return le[n]||(le[n]=t()),le[n]}(e.repoInfo_,(function(){return new Kt(e.stats_,e.server_)})),e.infoData_=new Ut,e.infoSyncTree_=new hr({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=yr(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),wi(e,"connected",!1),e.serverSyncTree_=new hr({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);fi(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function mi(e){var t=e.infoData_.getNode(new je(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function gi(e){return(t=(t={timestamp:mi(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function bi(e,t,n,r,i){e.dataUpdateCount++;var a=new je(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var u=Object(y.I)(n,(function(e){return gt(e)}));o=function(e,t,n,r){var i=Sr(e,r);if(i){var a=Tr(i),o=a.path,u=a.queryId,s=Ae(o,t),c=cn.fromObject(n);return Ir(e,o,new Xt(Gt(u),s,c))}return[]}(e.serverSyncTree_,a,u,i)}else{var s=gt(n);o=function(e,t,n,r){var i=Sr(e,r);if(null!=i){var a=Tr(i),o=a.path,u=a.queryId,s=Ae(o,t);return Ir(e,o,new Jt(Gt(u),s,n))}return[]}(e.serverSyncTree_,a,s,i)}else if(r){var c=Object(y.I)(n,(function(e){return gt(e)}));o=function(e,t,n){var r=cn.fromObject(n);return wr(e,new Xt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,c)}else{var l=gt(n);o=yr(e.serverSyncTree_,a,l)}var f=a;o.length>0&&(f=Ri(e,a)),fi(e.eventQueue_,f,o)}function ki(e,t){wi(e,"connected",t),!1===t&&function(e){Ti(e,"onDisconnectEvents");var t=gi(e),n=Vt();Bt(e.onDisconnect_,xe(),(function(r,i){var a=Lr(r,i,e.serverSyncTree_,t);qt(n,r,a)}));var r=[];Bt(n,xe(),(function(t,n){r=r.concat(yr(e.serverSyncTree_,t,n));var i=Fi(e,t);Ri(e,i)})),e.onDisconnect_=Vt(),fi(e.eventQueue_,xe(),r)}(e)}function wi(e,t,n){var r=new je("/.info/"+t),i=gt(n);e.infoData_.updateSnapshot(r,i);var a=yr(e.infoSyncTree_,r,i);fi(e.eventQueue_,r,a)}function _i(e){return e.nextWriteId_++}function Oi(e,t,n,r,i){Ti(e,"set",{path:t.toString(),value:n,priority:r});var a=gi(e),o=gt(n,r),u=br(e.serverSyncTree_,t),s=Mr(o,u,a),c=_i(e),l=dr(e.serverSyncTree_,t,s,c,!0);ci(e.eventQueue_,l),e.server_.put(t.toString(),o.val(!0),(function(n,r){var a="ok"===n;a||L("set at "+t+" failed: "+n);var o=vr(e.serverSyncTree_,c,!a);fi(e.eventQueue_,t,o),Ii(e,i,n,r)}));var f=Fi(e,t);Ri(e,f),fi(e.eventQueue_,f,[])}function ji(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&zt(e.onDisconnect_,t),Ii(e,n,r,i)}))}function xi(e,t,n,r){var i=gt(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,a){"ok"===n&&qt(e.onDisconnect_,t,i),Ii(e,r,n,a)}))}function Ei(e,t,n){var r;r=".info"===Ee(t._path)?mr(e.infoSyncTree_,t,n):mr(e.serverSyncTree_,t,n),li(e.eventQueue_,t._path,r)}function Si(e){e.persistentConnection_&&e.persistentConnection_.interrupt(pi)}function Ti(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];P.apply(void 0,[t].concat(r))}function Ii(e,t,n,r){t&&J((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var a=new Error(i);a.code=e,t(a)}}))}function Ci(e,t,n){return br(e.serverSyncTree_,t,n)||yt.EMPTY_NODE}function Ni(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||Mi(e,t),qr(t)){var n=Di(e,t);Object(y.e)(n.length>0,"Sending zero length transaction queue");var r=n.every((function(e){return 0===e.status}));r&&Pi(e,Kr(t),n)}else Br(t)&&Wr(t,(function(t){Ni(e,t)}))}function Pi(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=Ci(e,t,r),a=i,o=i.hash(),u=0;u<n.length;u++){var s=n[u];Object(y.e)(0===s.status,"tryToSendTransactionQueue_: items in queue should all be run."),s.status=1,s.retryCount++;var c=Ae(t,s.path);a=a.updateChild(c,s.currentOutputSnapshotRaw)}var l=a.val(!0),f=t;e.server_.put(f.toString(),l,(function(r){Ti(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(vr(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},u=0;u<n.length;u++)o(u);Mi(e,Vr(e.transactionQueueTree_,t)),Ni(e,e.transactionQueueTree_),fi(e.eventQueue_,t,i);for(var s=0;s<a.length;s++)J(a[s])}else{if("datastale"===r)for(var c=0;c<n.length;c++)3===n[c].status?n[c].status=4:n[c].status=0;else{L("transaction at "+f.toString()+" failed: "+r);for(var l=0;l<n.length;l++)n[l].status=4,n[l].abortReason=r}Ri(e,t)}}),o)}function Ri(e,t){var n=Ai(e,t),r=Kr(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),o=function(o){var u,s=t[o],c=Ae(n,s.path),l=!1,f=void 0;if(Object(y.e)(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===s.status)l=!0,f=s.abortReason,i=i.concat(vr(e.serverSyncTree_,s.currentWriteId,!0));else if(0===s.status)if(s.retryCount>=25)l=!0,f="maxretry",i=i.concat(vr(e.serverSyncTree_,s.currentWriteId,!0));else{var h=Ci(e,s.path,a);s.currentInputSnapshot=h;var d=t[o].update(h.val());if(void 0!==d){ti("transaction failed: Data returned ",d,s.path);var p=gt(d);"object"===typeof d&&null!=d&&Object(y.j)(d,".priority")||(p=p.updatePriority(h.getPriority()));var v=s.currentWriteId,m=gi(e),g=Mr(p,h,m);s.currentOutputSnapshotRaw=p,s.currentOutputSnapshotResolved=g,s.currentWriteId=_i(e),a.splice(a.indexOf(v),1),i=(i=i.concat(dr(e.serverSyncTree_,s.path,g,s.currentWriteId,s.applyLocally))).concat(vr(e.serverSyncTree_,v,!0))}else l=!0,f="nodata",i=i.concat(vr(e.serverSyncTree_,s.currentWriteId,!0))}fi(e.eventQueue_,n,i),i=[],l&&(t[o].status=2,u=t[o].unwatcher,setTimeout(u,Math.floor(0)),t[o].onComplete&&("nodata"===f?r.push((function(){return t[o].onComplete(null,!1,t[o].currentInputSnapshot)})):r.push((function(){return t[o].onComplete(new Error(f),!1,null)}))))},u=0;u<t.length;u++)o(u);Mi(e,e.transactionQueueTree_);for(var s=0;s<r.length;s++)J(r[s]);Ni(e,e.transactionQueueTree_)}(e,Di(e,n),r),r}function Ai(e,t){var n,r=e.transactionQueueTree_;for(n=Ee(t);null!==n&&void 0===qr(r);)r=Vr(r,n),n=Ee(t=Te(t));return r}function Di(e,t){var n=[];return Li(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function Li(e,t,n){var r=qr(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Wr(t,(function(t){Li(e,t,n)}))}function Mi(e,t){var n=qr(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,zr(t,n.length>0?n:void 0)}Wr(t,(function(t){Mi(e,t)}))}function Fi(e,t){var n=Kr(Ai(e,t)),r=Vr(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){Ui(e,t)})),Ui(e,r),Hr(r,(function(t){Ui(e,t)})),n}function Ui(e,t){var n=qr(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(Object(y.e)(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(Object(y.e)(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(vr(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?zr(t,void 0):n.length=a+1,fi(e.eventQueue_,Kr(t),i);for(var u=0;u<r.length;u++)J(r[u])}}var Vi=function(e,t){var n=qi(e),r=n.namespace;"firebase.com"===n.domain&&D(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||D("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&L("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new oe(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new je(n.pathString)}},qi=function(e){var t="",n="",r="",i="",a="",o=!0,u="https",s=443;if("string"===typeof e){var c=e.indexOf("//");c>=0&&(u=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(l,h)),l<h&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(a){}t+="/"+i}return t}(e.substring(l,h)));var d=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=Object(f.a)(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):L("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,h)));(c=t.indexOf(":"))>=0?(o="https"===u||"wss"===u,s=parseInt(t.substring(c+1),10)):c=t.length;var p=t.slice(0,c);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var v=t.indexOf(".");r=t.substring(0,v).toLowerCase(),n=t.substring(v+1),a=r}"ns"in d&&(a=d.ns)}return{host:t,port:s,domain:n,subdomain:r,secure:o,scheme:u,pathString:i,namespace:a}},zi=function(){function e(t,n,r,i){Object(h.a)(this,e),this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return Object(d.a)(e,[{key:"getPath",value:function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}},{key:"getEventType",value:function(){return this.eventType}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.getPath().toString()+":"+this.eventType+":"+Object(y.O)(this.snapshot.exportVal())}}]),e}(),Bi=function(){function e(t,n,r){Object(h.a)(this,e),this.eventRegistration=t,this.error=n,this.path=r}return Object(d.a)(e,[{key:"getPath",value:function(){return this.path}},{key:"getEventType",value:function(){return"cancel"}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.path.toString()+":cancel"}}]),e}(),Wi=function(){function e(t,n){Object(h.a)(this,e),this.snapshotCallback=t,this.cancelCallback=n}return Object(d.a)(e,[{key:"onValue",value:function(e,t){this.snapshotCallback.call(null,e,t)}},{key:"onCancel",value:function(e){return Object(y.e)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}},{key:"hasCancelCallback",get:function(){return!!this.cancelCallback}},{key:"matches",value:function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}]),e}(),Hi=function(){function e(t,n){Object(h.a)(this,e),this._repo=t,this._path=n}return Object(d.a)(e,[{key:"cancel",value:function(){var e=new y.a;return ji(this._repo,this._path,e.wrapCallback((function(){}))),e.promise}},{key:"remove",value:function(){oi("OnDisconnect.remove",this._path);var e=new y.a;return xi(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise}},{key:"set",value:function(e){oi("OnDisconnect.set",this._path),ei("OnDisconnect.set",e,this._path,!1);var t=new y.a;return xi(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}},{key:"setWithPriority",value:function(e,t){oi("OnDisconnect.setWithPriority",this._path),ei("OnDisconnect.setWithPriority",e,this._path,!1),ri("OnDisconnect.setWithPriority",t,!1);var n=new y.a;return function(e,t,n,r,i){var a=gt(n,r);e.server_.onDisconnectPut(t.toString(),a.val(!0),(function(n,r){"ok"===n&&qt(e.onDisconnect_,t,a),Ii(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise}},{key:"update",value:function(e){oi("OnDisconnect.update",this._path),ni("OnDisconnect.update",e,this._path,!1);var t=new y.a;return function(e,t,n,r){if(Object(y.x)(n))return P("onDisconnect().update() called with empty data.  Don't do anything."),void Ii(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,a){"ok"===i&&H(n,(function(n,r){var i=gt(r);qt(e.onDisconnect_,Pe(t,n),i)})),Ii(0,r,i,a)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}}]),e}(),Ki=function(){function e(t,n,r,i){Object(h.a)(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return Object(d.a)(e,[{key:"key",get:function(){return Re(this._path)?null:Ie(this._path)}},{key:"ref",get:function(){return new Yi(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=Mt(this._queryParams),t=B(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return Mt(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=Object(y.r)(t))instanceof e))return!1;var n=this._repo===t._repo,r=Le(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();function Gi(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Qi(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Qe){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==F)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==U)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===lt){if(null!=t&&!Zr(t)||null!=n&&!Zr(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(y.e)(e.getIndex()instanceof bt||e.getIndex()===kt,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function $i(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Yi=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e,r){return Object(h.a)(this,n),t.call(this,e,r,new Pt,!1)}return Object(d.a)(n,[{key:"parent",get:function(){var e=Ne(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(Ki),Ji=function(){function e(t,n,r){Object(h.a)(this,e),this._node=t,this.ref=n,this._index=r}return Object(d.a)(e,[{key:"priority",get:function(){return this._node.getPriority().val()}},{key:"key",get:function(){return this.ref.key}},{key:"size",get:function(){return this._node.numChildren()}},{key:"child",value:function(t){var n=new je(t),r=ea(this.ref,t);return new e(this._node.getChild(n),r,lt)}},{key:"exists",value:function(){return!this._node.isEmpty()}},{key:"exportVal",value:function(){return this._node.val(!0)}},{key:"forEach",value:function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,ea(n.ref,r),lt))}))}},{key:"hasChild",value:function(e){var t=new je(e);return!this._node.getChild(t).isEmpty()}},{key:"hasChildren",value:function(){return!this._node.isLeafNode()&&!this._node.isEmpty()}},{key:"toJSON",value:function(){return this.exportVal()}},{key:"val",value:function(){return this._node.val()}}]),e}();function Xi(e,t){return(e=Object(y.r)(e))._checkNotDeleted("ref"),void 0!==t?ea(e._root,t):e._root}function Zi(e,t){(e=Object(y.r)(e))._checkNotDeleted("refFromURL");var n=Vi(t,e._repo.repoInfo_.nodeAdmin);ui("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||D("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),Xi(e,n.path.toString())}function ea(e,t){var n,r,i,a;return null===Ee((e=Object(y.r)(e))._path)?(n="child",r="path",a=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),ai(n,r,i,a)):ai("child","path",t,!1),new Yi(e._repo,Pe(e._path,t))}function ta(e,t){e=Object(y.r)(e),oi("push",e._path),ei("push",t,e._path,!0);var n,r=mi(e._repo),i=_t(r),a=ea(e,i),o=ea(e,i);return n=null!=t?ra(o,t).then((function(){return o})):Promise.resolve(o),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function na(e){return oi("remove",e._path),ra(e,null)}function ra(e,t){e=Object(y.r)(e),oi("set",e._path),ei("set",t,e._path,!1);var n=new y.a;return Oi(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function ia(e,t){e=Object(y.r)(e),oi("setPriority",e._path),ri("setPriority",t,!1);var n=new y.a;return Oi(e._repo,Pe(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}function aa(e,t,n){if(oi("setWithPriority",e._path),ei("setWithPriority",t,e._path,!1),ri("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new y.a;return Oi(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}function oa(e,t){ni("update",t,e._path,!1);var n=new y.a;return function(e,t,n,r){Ti(e,"update",{path:t.toString(),value:n});var i=!0,a=gi(e),o={};if(H(n,(function(n,r){i=!1,o[n]=Lr(Pe(t,n),gt(r),e.serverSyncTree_,a)})),i)P("update() called with empty data.  Don't do anything."),Ii(0,r,"ok",void 0);else{var u=_i(e),s=pr(e.serverSyncTree_,t,o,u);ci(e.eventQueue_,s),e.server_.merge(t.toString(),n,(function(n,i){var a="ok"===n;a||L("update at "+t+" failed: "+n);var o=vr(e.serverSyncTree_,u,!a),s=o.length>0?Ri(e,t):t;fi(e.eventQueue_,s,o),Ii(0,r,n,i)})),H(n,(function(n){var r=Fi(e,Pe(t,n));Ri(e,r)})),fi(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function ua(e){return function(e,t){var n=kr(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((function(n){var r=gt(n).withIndex(t._queryParams.getIndex()),i=yr(e.serverSyncTree_,t._path,r);return li(e.eventQueue_,t._path,i),Promise.resolve(r)}),(function(n){return Ti(e,"get for query "+Object(y.O)(t)+" failed: "+n),Promise.reject(new Error(n))}))}((e=Object(y.r)(e))._repo,e).then((function(t){return new Ji(t,new Yi(e._repo,e._path),e._queryParams.getIndex())}))}var sa=function(){function e(t){Object(h.a)(this,e),this.callbackContext=t}return Object(d.a)(e,[{key:"respondsTo",value:function(e){return"value"===e}},{key:"createEvent",value:function(e,t){var n=t._queryParams.getIndex();return new zi("value",this,new Ji(e.snapshotNode,new Yi(t._repo,t._path),n))}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new Bi(this,e,t):null}},{key:"matches",value:function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}},{key:"hasAnyCallback",value:function(){return null!==this.callbackContext}}]),e}(),ca=function(){function e(t,n){Object(h.a)(this,e),this.eventType=t,this.callbackContext=n}return Object(d.a)(e,[{key:"respondsTo",value:function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new Bi(this,e,t):null}},{key:"createEvent",value:function(e,t){Object(y.e)(null!=e.childName,"Child events should have a childName.");var n=ea(new Yi(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new zi(e.type,this,new Ji(e.snapshotNode,n,r),e.prevName)}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}}},{key:"matches",value:function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))}},{key:"hasAnyCallback",value:function(){return!!this.callbackContext}}]),e}();function la(e,t,n,r,i){var a;if("object"===typeof r&&(a=void 0,i=r),"function"===typeof r&&(a=r),i&&i.onlyOnce){var o=n,u=function(t,n){Ei(e._repo,e,c),o(t,n)};u.userCallback=n.userCallback,u.context=n.context,n=u}var s=new Wi(n,a||void 0),c="value"===t?new sa(s):new ca(t,s);return function(e,t,n){var r;r=".info"===Ee(t._path)?gr(e.infoSyncTree_,t,n):gr(e.serverSyncTree_,t,n),li(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return Ei(e._repo,e,c)}}function fa(e,t,n,r){return la(e,"value",t,n,r)}function ha(e,t,n,r){return la(e,"child_added",t,n,r)}function da(e,t,n,r){return la(e,"child_changed",t,n,r)}function pa(e,t,n,r){return la(e,"child_moved",t,n,r)}function va(e,t,n,r){return la(e,"child_removed",t,n,r)}function ya(e,t,n){var r=null,i=n?new Wi(n):null;"value"===t?r=new sa(i):t&&(r=new ca(t,i)),Ei(e._repo,e,r)}var ma=function e(){Object(h.a)(this,e)},ga=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e,r){var i;return Object(h.a)(this,n),(i=t.call(this))._value=e,i._key=r,i}return Object(d.a)(n,[{key:"_apply",value:function(e){ei("endAt",this._value,e._path,!0);var t=At(e._queryParams,this._value,this._key);if($i(t),Qi(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ki(e._repo,e._path,t,e._orderByCalled)}}]),n}(ma);function ba(e,t){return ii("endAt","key",t,!0),new ga(e,t)}var ka=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e,r){var i;return Object(h.a)(this,n),(i=t.call(this))._value=e,i._key=r,i}return Object(d.a)(n,[{key:"_apply",value:function(e){ei("endBefore",this._value,e._path,!1);var t=function(e,t,n){var r;return e.index_===Qe?("string"===typeof t&&(t=jt(t)),r=At(e,t,n)):r=At(e,t,null==n?F:jt(n)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if($i(t),Qi(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ki(e._repo,e._path,t,e._orderByCalled)}}]),n}(ma);function wa(e,t){return ii("endBefore","key",t,!0),new ka(e,t)}var _a=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e,r){var i;return Object(h.a)(this,n),(i=t.call(this))._value=e,i._key=r,i}return Object(d.a)(n,[{key:"_apply",value:function(e){ei("startAt",this._value,e._path,!0);var t=Rt(e._queryParams,this._value,this._key);if($i(t),Qi(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ki(e._repo,e._path,t,e._orderByCalled)}}]),n}(ma);function Oa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return ii("startAt","key",t,!0),new _a(e,t)}var ja=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e,r){var i;return Object(h.a)(this,n),(i=t.call(this))._value=e,i._key=r,i}return Object(d.a)(n,[{key:"_apply",value:function(e){ei("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;return e.index_===Qe?("string"===typeof t&&(t=Ot(t)),r=Rt(e,t,n)):r=Rt(e,t,null==n?U:Ot(n)),r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if($i(t),Qi(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ki(e._repo,e._path,t,e._orderByCalled)}}]),n}(ma);function xa(e,t){return ii("startAfter","key",t,!0),new ja(e,t)}var Ea=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(h.a)(this,n),(r=t.call(this))._limit=e,r}return Object(d.a)(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ki(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(ma);function Sa(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Ea(e)}var Ta=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(h.a)(this,n),(r=t.call(this))._limit=e,r}return Object(d.a)(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ki(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(ma);function Ia(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Ta(e)}var Ca=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(h.a)(this,n),(r=t.call(this))._path=e,r}return Object(d.a)(n,[{key:"_apply",value:function(e){Gi(e,"orderByChild");var t=new je(this._path);if(Re(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new bt(t),r=Dt(e._queryParams,n);return Qi(r),new Ki(e._repo,e._path,r,!0)}}]),n}(ma);function Na(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return ai("orderByChild","path",e,!1),new Ca(e)}var Pa=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"_apply",value:function(e){Gi(e,"orderByKey");var t=Dt(e._queryParams,Qe);return Qi(t),new Ki(e._repo,e._path,t,!0)}}]),n}(ma);function Ra(){return new Pa}var Aa=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"_apply",value:function(e){Gi(e,"orderByPriority");var t=Dt(e._queryParams,lt);return Qi(t),new Ki(e._repo,e._path,t,!0)}}]),n}(ma);function Da(){return new Aa}var La=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"_apply",value:function(e){Gi(e,"orderByValue");var t=Dt(e._queryParams,kt);return Qi(t),new Ki(e._repo,e._path,t,!0)}}]),n}(ma);function Ma(){return new La}var Fa=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e,r){var i;return Object(h.a)(this,n),(i=t.call(this))._value=e,i._key=r,i}return Object(d.a)(n,[{key:"_apply",value:function(e){if(ei("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new ga(this._value,this._key)._apply(new _a(this._value,this._key)._apply(e))}}]),n}(ma);function Ua(e,t){return ii("equalTo","key",t,!0),new Fa(e,t)}function Va(e){for(var t=Object(y.r)(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];t=u._apply(t)}return t}!function(e){Object(y.e)(!Kn,"__referenceConstructor has already been defined"),Kn=e}(Yi),function(e){Object(y.e)(!Zn,"__referenceConstructor has already been defined"),Zn=e}(Yi);var qa={},za=!1;function Ba(e,t,n,r){e.repoInfo_=new oe("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}function Wa(t,n,r,i,a){var o=i||t.options.databaseURL;void 0===o&&(t.options.projectId||D("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),P("Using default host for project ",t.options.projectId),o="".concat(t.options.projectId,"-default-rtdb.firebaseio.com"));var u,s=Vi(o,a),c=s.repoInfo,l=void 0;"undefined"!==typeof e&&(l=Object({NODE_ENV:"production",PUBLIC_URL:"/Affinity",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).FIREBASE_DATABASE_EMULATOR_HOST),l?(u=!0,o="http://".concat(l,"?ns=").concat(c.namespace),c=(s=Vi(o,a)).repoInfo):u=!s.repoInfo.secure;var f=a&&u?new te(te.OWNER):new ee(t.name,t.options,n);ui("Invalid Firebase Database URL",s),Re(s.path)||D("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(e,t,n,r){var i=qa[t.name];i||(i={},qa[t.name]=i);var a=i[e.toURLString()];a&&D("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new vi(e,za,n,r),i[e.toURLString()]=a,a}(c,t,f,new Z(t.name,r));return new Ha(h,t)}var Ha=function(){function e(t,n){Object(h.a)(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return Object(d.a)(e,[{key:"_repo",get:function(){return this._instanceStarted||(yi(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new Yi(this._repo,xe())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=qa[t];n&&n[e.key]===e||D("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),Si(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&D("Cannot call "+e+" on a deleted database.")}}]),e}();function Ka(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=Object(y.r)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&D("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&D('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new te(te.OWNER);else if(r.mockUserToken){var o="string"===typeof r.mockUserToken?r.mockUserToken:Object(y.k)(r.mockUserToken,e.app.options.projectId);a=new te(o)}Ba(i,t,n,a)}function Ga(e){(e=Object(y.r)(e))._checkNotDeleted("goOffline"),Si(e._repo)}function Qa(e){var t;(e=Object(y.r)(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(pi)}function $a(e,t){N(e,t)}var Ya={".sv":"timestamp"};function Ja(){return Ya}function Xa(e){return{".sv":{increment:e}}}var Za=function(){function e(t,n){Object(h.a)(this,e),this.committed=t,this.snapshot=n}return Object(d.a)(e,[{key:"toJSON",value:function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}();function eo(e,t,n){var r;if(e=Object(y.r)(e),oi("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,a=new y.a,o=fa(e,(function(){}));return function(e,t,n,r,i,a){Ti(e,"transaction on "+t);var o={path:t,update:n,onComplete:r,status:null,order:E(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=Ci(e,t,void 0);o.currentInputSnapshot=u;var s=o.update(u.val());if(void 0===s)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{ti("transaction failed: Data returned ",s,o.path),o.status=0;var c,l=Vr(e.transactionQueueTree_,t),f=qr(l)||[];f.push(o),zr(l,f),"object"===typeof s&&null!==s&&Object(y.j)(s,".priority")?(c=Object(y.L)(s,".priority"),Object(y.e)(Zr(c),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):c=(br(e.serverSyncTree_,t)||yt.EMPTY_NODE).getPriority().val();var h=gi(e),d=gt(s,c),p=Mr(d,u,h);o.currentOutputSnapshotRaw=d,o.currentOutputSnapshotResolved=p,o.currentWriteId=_i(e);var v=dr(e.serverSyncTree_,t,p,o.currentWriteId,o.applyLocally);fi(e.eventQueue_,t,v),Ni(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?a.reject(t):(i=new Ji(r,new Yi(e._repo,e._path),lt),a.resolve(new Za(n,i)))}),o,i),a.promise}Be.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Be.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var to;b(p.SDK_VERSION),Object(p._registerComponent)(new v.a("database",(function(e,t){var n=t.instanceIdentifier;return Wa(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Object(p.registerVersion)("@firebase/database","0.12.0",to)}).call(this,n(98))},function(e,t,n){"use strict";var r=n(6),i=n(14),a=n(1),o=n.n(a),u=(n(18),n(63)),s=n.n(u),c=n(153),l=n(184),f=n(195),h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var a=t.defaultTheme,u=t.withTheme,h=void 0!==u&&u,d=t.name,p=Object(i.a)(t,["defaultTheme","withTheme","name"]);var v=d,y=Object(c.a)(e,Object(r.a)({defaultTheme:a,Component:n,name:d||n.displayName,classNamePrefix:v},p)),m=o.a.forwardRef((function(e,t){e.classes;var u,s=e.innerRef,c=Object(i.a)(e,["classes","innerRef"]),p=y(Object(r.a)({},n.defaultProps,e)),v=c;return("string"===typeof d||h)&&(u=Object(f.a)()||a,d&&(v=Object(l.a)({theme:u,name:d,props:c})),h&&!v.theme&&(v.theme=u)),o.a.createElement(n,Object(r.a)({ref:s||t,classes:p},v))}));return s()(m,n),m}},d=n(52);t.a=function(e,t){return h(e,Object(r.a)({defaultTheme:d.a},t))}},function(e,t,n){e.exports=n(125)()},function(e,t,n){"use strict";n.r(t),n.d(t,"SDK_VERSION",(function(){return P})),n.d(t,"_DEFAULT_ENTRY_NAME",(function(){return g})),n.d(t,"_addComponent",(function(){return _})),n.d(t,"_addOrOverwriteComponent",(function(){return O})),n.d(t,"_apps",(function(){return k})),n.d(t,"_clearComponents",(function(){return S})),n.d(t,"_components",(function(){return w})),n.d(t,"_getProvider",(function(){return x})),n.d(t,"_registerComponent",(function(){return j})),n.d(t,"_removeServiceInstance",(function(){return E})),n.d(t,"deleteApp",(function(){return L})),n.d(t,"getApp",(function(){return A})),n.d(t,"getApps",(function(){return D})),n.d(t,"initializeApp",(function(){return R})),n.d(t,"onLog",(function(){return U})),n.d(t,"registerVersion",(function(){return F})),n.d(t,"setLogLevel",(function(){return V}));var r,i,a=n(0),o=n.n(a),u=n(4),s=n(12),c=n(7),l=n(3),f=n(5),h=n(27),d=n(30),p=n(2);n.d(t,"FirebaseError",(function(){return p.c}));var v=function(){function e(t){Object(l.a)(this,e),this.container=t}return Object(f.a)(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var y="@firebase/app",m=new d.b("@firebase/app"),g="[DEFAULT]",b=(r={},Object(c.a)(r,y,"fire-core"),Object(c.a)(r,"@firebase/app-compat","fire-core-compat"),Object(c.a)(r,"@firebase/analytics","fire-analytics"),Object(c.a)(r,"@firebase/analytics-compat","fire-analytics-compat"),Object(c.a)(r,"@firebase/app-check","fire-app-check"),Object(c.a)(r,"@firebase/app-check-compat","fire-app-check-compat"),Object(c.a)(r,"@firebase/auth","fire-auth"),Object(c.a)(r,"@firebase/auth-compat","fire-auth-compat"),Object(c.a)(r,"@firebase/database","fire-rtdb"),Object(c.a)(r,"@firebase/database-compat","fire-rtdb-compat"),Object(c.a)(r,"@firebase/functions","fire-fn"),Object(c.a)(r,"@firebase/functions-compat","fire-fn-compat"),Object(c.a)(r,"@firebase/installations","fire-iid"),Object(c.a)(r,"@firebase/installations-compat","fire-iid-compat"),Object(c.a)(r,"@firebase/messaging","fire-fcm"),Object(c.a)(r,"@firebase/messaging-compat","fire-fcm-compat"),Object(c.a)(r,"@firebase/performance","fire-perf"),Object(c.a)(r,"@firebase/performance-compat","fire-perf-compat"),Object(c.a)(r,"@firebase/remote-config","fire-rc"),Object(c.a)(r,"@firebase/remote-config-compat","fire-rc-compat"),Object(c.a)(r,"@firebase/storage","fire-gcs"),Object(c.a)(r,"@firebase/storage-compat","fire-gcs-compat"),Object(c.a)(r,"@firebase/firestore","fire-fst"),Object(c.a)(r,"@firebase/firestore-compat","fire-fst-compat"),Object(c.a)(r,"fire-js","fire-js"),Object(c.a)(r,"firebase","fire-js-all"),r),k=new Map,w=new Map;function _(e,t){try{e.container.addComponent(t)}catch(n){m.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function O(e,t){e.container.addOrOverwriteComponent(t)}function j(e){var t=e.name;if(w.has(t))return m.debug("There were multiple attempts to register component ".concat(t,".")),!1;w.set(t,e);var n,r=Object(s.a)(k.values());try{for(r.s();!(n=r.n()).done;){_(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function x(e,t){return e.container.getProvider(t)}function E(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g;x(e,t).clearInstance(n)}function S(){w.clear()}var T,I=(i={},Object(c.a)(i,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Object(c.a)(i,"bad-app-name","Illegal App name: '{$appName}"),Object(c.a)(i,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Object(c.a)(i,"app-deleted","Firebase App named '{$appName}' already deleted"),Object(c.a)(i,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Object(c.a)(i,"invalid-log-argument","First argument to `onLog` must be null or a function."),i),C=new p.b("app","Firebase",I),N=function(){function e(t,n,r){var i=this;Object(l.a)(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new h.a("app",(function(){return i}),"PUBLIC"))}return Object(f.a)(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw C.create("app-deleted",{appName:this._name})}}]),e}(),P="9.0.0";function R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:g,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw C.create("bad-app-name",{appName:String(i)});var a=k.get(i);if(a){if(Object(p.n)(e,a.options)&&Object(p.n)(r,a.config))return a;throw C.create("duplicate-app",{appName:i})}var o,u=new h.b(i),c=Object(s.a)(w.values());try{for(c.s();!(o=c.n()).done;){var l=o.value;u.addComponent(l)}}catch(d){c.e(d)}finally{c.f()}var f=new N(e,r,u);return k.set(i,f),f}function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=k.get(e);if(!t)throw C.create("no-app",{appName:e});return t}function D(){return Array.from(k.values())}function L(e){return M.apply(this,arguments)}function M(){return(M=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!k.has(n)){e.next=6;break}return k.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e,t,n){var r,i=null!==(r=b[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void m.warn(u.join(" "))}j(new h.a("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function U(e,t){if(null!==e&&"function"!==typeof e)throw C.create("invalid-log-argument");Object(d.d)(e,t)}function V(e){Object(d.c)(e)}j(new h.a("platform-logger",(function(e){return new v(e)}),"PRIVATE")),F(y,"0.7.0",T),F("fire-js","")},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(74);var i=n(51),a=n(75);function o(e,t){return Object(r.a)(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(s){i=!0,a=s}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return n}}(e,t)||Object(i.a)(e,t)||Object(a.a)()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(106);function i(e){if("string"!==typeof e)throw new Error(Object(r.a)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1),i=n(42);function a(e,t){return r.useMemo((function(){return null==e&&null==t?null:function(n){Object(i.a)(e,n),Object(i.a)(t,n)}}),[e,t])}},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return T})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return w})),n.d(t,"f",(function(){return N})),n.d(t,"g",(function(){return I}));var a=n(1),o=n.n(a),u=(n(18),n(41)),s=n(89),c=n(37);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var f=n(90),h=n.n(f);n(99);function d(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var p=n(63),v=n.n(p),y=function(e){var t=Object(s.a)();return t.displayName=e,t}("Router-History"),m=function(e){var t=Object(s.a)();return t.displayName=e,t}("Router"),g=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}i(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return o.a.createElement(m.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},o.a.createElement(y.Provider,{children:this.props.children||null,value:this.props.history}))},t}(o.a.Component);o.a.Component;o.a.Component;var b={},k=0;function w(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,a=void 0!==i&&i,o=n.strict,u=void 0!==o&&o,s=n.sensitive,c=void 0!==s&&s;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=b[n]||(b[n]={});if(r[e])return r[e];var i=[],a={regexp:h()(e,i,t),keys:i};return k<1e4&&(r[e]=a,k++),a}(n,{end:a,strict:u,sensitive:c}),i=r.regexp,o=r.keys,s=i.exec(e);if(!s)return null;var l=s[0],f=s.slice(1),d=e===l;return a&&!d?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:d,params:o.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var _=function(e){function t(){return e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=this;return o.a.createElement(m.Consumer,null,(function(t){t||Object(c.a)(!1);var n=e.props.location||t.location,r=l({},t,{location:n,match:e.props.computedMatch?e.props.computedMatch:e.props.path?w(n.pathname,e.props):t.match}),i=e.props,a=i.children,u=i.component,s=i.render;return Array.isArray(a)&&0===a.length&&(a=null),o.a.createElement(m.Provider,{value:r},r.match?a?"function"===typeof a?a(r):a:u?o.a.createElement(u,r):s?s(r):null:"function"===typeof a?a(r):null)}))},t}(o.a.Component);function O(e){return"/"===e.charAt(0)?e:"/"+e}function j(e,t){if(!e)return t;var n=O(e);return 0!==t.pathname.indexOf(n)?t:l({},t,{pathname:t.pathname.substr(n.length)})}function x(e){return"string"===typeof e?e:Object(u.e)(e)}function E(e){return function(){Object(c.a)(!1)}}function S(){}o.a.Component;var T=function(e){function t(){return e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=this;return o.a.createElement(m.Consumer,null,(function(t){t||Object(c.a)(!1);var n,r,i=e.props.location||t.location;return o.a.Children.forEach(e.props.children,(function(e){if(null==r&&o.a.isValidElement(e)){n=e;var a=e.props.path||e.props.from;r=a?w(i.pathname,l({},e.props,{path:a})):t.match}})),r?o.a.cloneElement(n,{location:i,computedMatch:r}):null}))},t}(o.a.Component);function I(e){var t="withRouter("+(e.displayName||e.name)+")",n=function(t){var n=t.wrappedComponentRef,r=d(t,["wrappedComponentRef"]);return o.a.createElement(m.Consumer,null,(function(t){return t||Object(c.a)(!1),o.a.createElement(e,l({},r,t,{ref:n}))}))};return n.displayName=t,n.WrappedComponent=e,v()(n,e)}var C=o.a.useContext;function N(){return C(y)}},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(119)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(69);var i=n(73),a=n(51);function o(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||Object(i.a)(e)||Object(a.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return u}));var r=n(31),i=n(2),a=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),o="[DEFAULT]",u=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.a;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(a){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:o})}catch(h){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),a=i.next();!a.done;a=i.next()){var u=Object(r.e)(a.value,2),s=u[0],c=u[1],l=this.normalizeInstanceIdentifier(s);try{var f=this.getOrInitializeService({instanceIdentifier:l});c.resolve(f)}catch(h){}}}catch(d){t={error:d}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=o),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(Object(r.g)(Object(r.g)([],Object(r.e)(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),Object(r.e)(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=o),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=o),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var i=e.options,a=void 0===i?{}:i,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:o,options:a});try{for(var s=Object(r.h)(this.instancesDeferred.entries()),c=s.next();!c.done;c=s.next()){var l=Object(r.e)(c.value,2),f=l[0],h=l[1];o===this.normalizeInstanceIdentifier(f)&&h.resolve(u)}}catch(d){t={error:d}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return u},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,i,a=this.onInitCallbacks.get(t);if(a)try{for(var o=Object(r.h)(a),u=o.next();!u.done;u=o.next()){var s=u.value;try{s(e,t)}catch(c){}}}catch(l){n={error:l}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===o?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(u){}return a||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=o),this.component?this.component.multipleInstances?e:o:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();var s=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new u(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(7);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,u=a.length;o<u;o++,i++)r[i]=a[o];return r}var i;n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return d}));var a,o=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(a||(a={}));var u={debug:a.DEBUG,verbose:a.VERBOSE,info:a.INFO,warn:a.WARN,error:a.ERROR,silent:a.SILENT},s=a.INFO,c=((i={})[a.DEBUG]="log",i[a.VERBOSE]="log",i[a.INFO]="info",i[a.WARN]="warn",i[a.ERROR]="error",i),l=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var a=(new Date).toISOString(),o=c[t];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[o].apply(console,r(["["+a+"]  "+e.name+":"],n))}},f=function(){function e(e){this.name=e,this._logLevel=s,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in a))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"===typeof e?u[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.DEBUG],e)),this._logHandler.apply(this,r([this,a.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.VERBOSE],e)),this._logHandler.apply(this,r([this,a.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.INFO],e)),this._logHandler.apply(this,r([this,a.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.WARN],e)),this._logHandler.apply(this,r([this,a.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.ERROR],e)),this._logHandler.apply(this,r([this,a.ERROR],e))},e}();function h(e){o.forEach((function(t){t.setLogLevel(e)}))}function d(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=u[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var u=i.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:a[n].toLowerCase(),message:u,args:i,type:t.name})}},r=0,i=o;r<i.length;r++){n(i[r])}}},function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"f",(function(){return o})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return s})),n.d(t,"h",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"g",(function(){return f}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function u(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(t){a(t)}}function u(e){try{s(r.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))}function s(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}Object.create;function c(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(u){i={error:u}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}function f(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create},function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return f}));var r=n(106);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function a(e){if(e.type)return e;if("#"===e.charAt(0))return a(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error(Object(r.a)(3,e));var i=e.substring(t+1,e.length-1).split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)}))}}function o(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function u(e,t){var n=s(e),r=s(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function s(e){var t="hsl"===(e=a(e)).type?a(function(e){var t=(e=a(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,u=r*Math.min(i,1-i),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-u*Math.max(Math.min(t-3,9-t,1),-1)},c="rgb",l=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(c+="a",l.push(t[3])),o({type:c,values:l})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function c(e,t){return e=a(e),t=i(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,o(e)}function l(e,t){if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return o(e)}function f(e,t){if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return o(e)}},function(e,t,n){"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(29);function i(e,t,n){return(i="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Object(r.a)(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return fr})),n.d(t,"b",(function(){return dr})),n.d(t,"c",(function(){return hr})),n.d(t,"d",(function(){return vr})),n.d(t,"e",(function(){return pr})),n.d(t,"f",(function(){return yr})),n.d(t,"g",(function(){return mr})),n.d(t,"h",(function(){return cr})),n.d(t,"i",(function(){return lr}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var a,o="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},u=u||{},s=o||self;function c(){}function l(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function f(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var h="closure_uid_"+(1e9*Math.random()>>>0),d=0;function p(e,t,n){return e.call.apply(e.bind,arguments)}function v(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function y(e,t,n){return(y=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?p:v).apply(null,arguments)}function m(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function g(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function b(){this.s=this.s,this.o=this.o}var k={};b.prototype.s=!1,b.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,h)&&e[h]||(e[h]=++d)}(this);delete k[e]}},b.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var w=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},_=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function O(e){return Array.prototype.concat.apply([],arguments)}function j(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function x(e){return/^[\s\xa0]*$/.test(e)}var E,S=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function T(e,t){return-1!=e.indexOf(t)}function I(e,t){return e<t?-1:e>t?1:0}e:{var C=s.navigator;if(C){var N=C.userAgent;if(N){E=N;break e}}E=""}function P(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function R(e){var t={};for(var n in e)t[n]=e[n];return t}var A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<A.length;a++)n=A[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function L(e){return L[" "](e),e}L[" "]=c;var M,F=T(E,"Opera"),U=T(E,"Trident")||T(E,"MSIE"),V=T(E,"Edge"),q=V||U,z=T(E,"Gecko")&&!(T(E.toLowerCase(),"webkit")&&!T(E,"Edge"))&&!(T(E,"Trident")||T(E,"MSIE"))&&!T(E,"Edge"),B=T(E.toLowerCase(),"webkit")&&!T(E,"Edge");function W(){var e=s.document;return e?e.documentMode:void 0}e:{var H="",K=function(){var e=E;return z?/rv:([^\);]+)(\)|;)/.exec(e):V?/Edge\/([\d\.]+)/.exec(e):U?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):B?/WebKit\/(\S+)/.exec(e):F?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(K&&(H=K?K[1]:""),U){var G=W();if(null!=G&&G>parseFloat(H)){M=String(G);break e}}M=H}var Q,$={};function Y(){return function(e){var t=$;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=S(String(M)).split("."),n=S("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=I(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||I(0==a[2].length,0==o[2].length)||I(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(s.document&&U){var J=W();Q=J||(parseInt(M,10)||void 0)}else Q=void 0;var X=Q,Z=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{s.addEventListener("test",c,t),s.removeEventListener("test",c,t)}catch(n){}return e}();function ee(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function te(e,t){if(ee.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(z){e:{try{L(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ne[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&te.Z.h.call(this)}}ee.prototype.h=function(){this.defaultPrevented=!0},g(te,ee);var ne={2:"touch",3:"pen",4:"mouse"};te.prototype.h=function(){te.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var re="closure_listenable_"+(1e6*Math.random()|0),ie=0;function ae(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++ie,this.ca=this.fa=!1}function oe(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function ue(e){this.src=e,this.g={},this.h=0}function se(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=w(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(oe(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ce(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}ue.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=ce(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new ae(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var le="closure_lm_"+(1e6*Math.random()|0),fe={};function he(e,t,n,r,i){if(r&&r.once)return pe(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)he(e,t[a],n,r,i);return null}return n=we(n),e&&e[re]?e.N(t,n,f(r)?!!r.capture:!!r,i):de(e,t,n,!1,r,i)}function de(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=f(i)?!!i.capture:!!i,u=be(e);if(u||(e[le]=u=new ue(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=ge;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Z||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(me(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function pe(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)pe(e,t[a],n,r,i);return null}return n=we(n),e&&e[re]?e.O(t,n,f(r)?!!r.capture:!!r,i):de(e,t,n,!0,r,i)}function ve(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)ve(e,t[a],n,r,i);else r=f(r)?!!r.capture:!!r,n=we(n),e&&e[re]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=ce(a=e.g[t],n,r,i))&&(oe(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=be(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ce(t,n,r,i)),(n=-1<e?t[e]:null)&&ye(n))}function ye(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[re])se(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(me(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=be(t))?(se(n,e),0==n.h&&(n.src=null,t[le]=null)):oe(e)}}}function me(e){return e in fe?fe[e]:fe[e]="on"+e}function ge(e,t){if(e.ca)e=!0;else{t=new te(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&ye(e),e=n.call(r,t)}return e}function be(e){return(e=e[le])instanceof ue?e:null}var ke="__closure_events_fn_"+(1e9*Math.random()>>>0);function we(e){return"function"===typeof e?e:(e[ke]||(e[ke]=function(t){return e.handleEvent(t)}),e[ke])}function _e(){b.call(this),this.i=new ue(this),this.P=this,this.I=null}function Oe(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new ee(t,e);else if(t instanceof ee)t.target=t.target||e;else{var i=t;D(t=new ee(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=je(o,r,!0,t)&&i}if(i=je(o=t.g=e,r,!0,t)&&i,i=je(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=je(o=t.g=n[a],r,!1,t)&&i}function je(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&se(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}g(_e,b),_e.prototype[re]=!0,_e.prototype.removeEventListener=function(e,t,n,r){ve(this,e,t,n,r)},_e.prototype.M=function(){if(_e.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)oe(n[r]);delete t.g[e],t.h--}}this.I=null},_e.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},_e.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var xe=s.JSON.stringify;function Ee(){var e=Ae,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Se,Te=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=Ie.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),Ie=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},e}())((function(){return new Ce}),(function(e){return e.reset()})),Ce=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function Ne(e){s.setTimeout((function(){throw e}),0)}function Pe(e,t){Se||function(){var e=s.Promise.resolve(void 0);Se=function(){e.then(De)}}(),Re||(Se(),Re=!0),Ae.add(e,t)}var Re=!1,Ae=new Te;function De(){for(var e;e=Ee();){try{e.h.call(e.g)}catch(n){Ne(n)}var t=Ie;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Re=!1}function Le(e,t){_e.call(this),this.h=e||1,this.g=t||s,this.j=y(this.kb,this),this.l=Date.now()}function Me(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Fe(e,t,n){if("function"===typeof e)n&&(e=y(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=y(e.handleEvent,e)}return 2147483647<Number(t)?-1:s.setTimeout(e,t||0)}function Ue(e){e.g=Fe((function(){e.g=null,e.i&&(e.i=!1,Ue(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}g(Le,_e),(a=Le.prototype).da=!1,a.S=null,a.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Oe(this,"tick"),this.da&&(Me(this),this.start()))}},a.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},a.M=function(){Le.Z.M.call(this),Me(this),delete this.g};var Ve=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:Ue(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(b);function qe(e){b.call(this),this.h=e,this.g={}}g(qe,b);var ze=[];function Be(e,t,n,r){Array.isArray(n)||(n&&(ze[0]=n.toString()),n=ze);for(var i=0;i<n.length;i++){var a=he(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function We(e){P(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ye(e)}),e),e.g={}}function He(){this.g=!0}function Ke(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return xe(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}qe.prototype.M=function(){qe.Z.M.call(this),We(this)},qe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},He.prototype.Aa=function(){this.g=!1},He.prototype.info=function(){};var Ge={},Qe=null;function $e(){return Qe=Qe||new _e}function Ye(e){ee.call(this,Ge.Ma,e)}function Je(e){var t=$e();Oe(t,new Ye(t,e))}function Xe(e,t){ee.call(this,Ge.STAT_EVENT,e),this.stat=t}function Ze(e){var t=$e();Oe(t,new Xe(t,e))}function et(e,t){ee.call(this,Ge.Na,e),this.size=t}function tt(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return s.setTimeout((function(){e()}),t)}Ge.Ma="serverreachability",g(Ye,ee),Ge.STAT_EVENT="statevent",g(Xe,ee),Ge.Na="timingevent",g(et,ee);var nt={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},rt={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function it(){}function at(e){return e.h||(e.h=e.i())}function ot(){}it.prototype.h=null;var ut,st={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ct(){ee.call(this,"d")}function lt(){ee.call(this,"c")}function ft(){}function ht(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new qe(this),this.P=pt,e=q?125:void 0,this.W=new Le(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new dt}function dt(){this.i=null,this.g="",this.h=!1}g(ct,ee),g(lt,ee),g(ft,it),ft.prototype.g=function(){return new XMLHttpRequest},ft.prototype.i=function(){return{}},ut=new ft;var pt=45e3,vt={},yt={};function mt(e,t,n){e.K=1,e.v=Vt(At(t)),e.s=n,e.U=!0,gt(e,null)}function gt(e,t){e.F=Date.now(),_t(e),e.A=At(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Zt(n.h,"t",r),e.C=0,n=e.l.H,e.h=new dt,e.g=nr(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Ve(y(e.Ia,e,e.g),e.O)),Be(e.V,e.g,"readystatechange",e.gb),t=e.H?R(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Je(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function bt(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function kt(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=wt(e,n))==yt){4==t&&(e.o=4,Ze(14),i=!1),Ke(e.j,e.m,null,"[Incomplete Response]");break}if(r==vt){e.o=4,Ze(15),Ke(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ke(e.j,e.m,r,null),St(e,r)}bt(e)&&r!=yt&&r!=vt&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Ze(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Qn(t),t.L=!0,Ze(11))):(Ke(e.j,e.m,n,"[Invalid Chunked Response]"),Et(e),xt(e))}function wt(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?yt:(n=Number(t.substring(n,r)),isNaN(n)?vt:(r+=1)+n>t.length?yt:(t=t.substr(r,n),e.C=r+n,t))}function _t(e){e.Y=Date.now()+e.P,Ot(e,e.P)}function Ot(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=tt(y(e.eb,e),t)}function jt(e){e.B&&(s.clearTimeout(e.B),e.B=null)}function xt(e){0==e.l.G||e.I||Jn(e.l,e)}function Et(e){jt(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Me(e.W),We(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function St(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||sn(n.i,e)))if(n.I=e.N,!e.J&&sn(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Yn(n),Un(n)}Gn(n),Ze(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=tt(y(n.ab,n),6e3));if(1>=un(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Zn(n,11)}else if((e.J||n.g==e)&&Yn(n),!x(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(T(l,"spdy")||T(l,"quic")||T(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(cn(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Ut(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=tr(r,r.H?r.la:null,r.W),d.J){ln(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(jt(p),_t(p)),r.g=d}else Kn(r);0<n.l.length&&zn(n)}else"stop"!=a[0]&&"close"!=a[0]||Zn(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Zn(n,7):Fn(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Je(4)}catch(a){}}function Tt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(l(e)||"string"===typeof e)_(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(l(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(l(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function It(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof It)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Ct(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Nt(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Nt(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Nt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(a=ht.prototype).setTimeout=function(e){this.P=e},a.gb=function(e){e=e.target;var t=this.L;t&&3==Rn(e)?t.l():this.Ia(e)},a.Ia=function(e){try{if(e==this.g)e:{var t=Rn(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||q||this.g&&(this.h.h||this.g.ga()||An(this.g)))){this.I||4!=t||7==n||Je(8==n||0>=r?3:2),jt(this);var i=this.g.ba();this.N=i;t:if(bt(this)){var a=An(this.g);e="";var o=a.length,u=4==Rn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Et(this),xt(this);var c="";break t}this.h.i=new s.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var l,f=this.g;if((l=f.g?f.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(l)){var h=l;break t}}h=null}if(!(i=h)){this.i=!1,this.o=3,Ze(12),Et(this),xt(this);break e}Ke(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,St(this,i)}this.U?(kt(this,t,c),q&&this.i&&3==t&&(Be(this.V,this.W,"tick",this.fb),this.W.start())):(Ke(this.j,this.m,c,null),St(this,c)),4==t&&Et(this),this.i&&!this.I&&(4==t?Jn(this.l,this):(this.i=!1,_t(this)))}else 400==i&&0<c.indexOf("Unknown SID")?(this.o=3,Ze(12)):(this.o=0,Ze(13)),Et(this),xt(this)}}}catch(t){}},a.fb=function(){if(this.g){var e=Rn(this.g),t=this.g.ga();this.C<t.length&&(jt(this),kt(this,e,t),this.i&&4!=e&&_t(this))}},a.cancel=function(){this.I=!0,Et(this)},a.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Je(3),Ze(17)),Et(this),this.o=2,xt(this)):Ot(this,this.Y-e)},(a=It.prototype).R=function(){Ct(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},a.T=function(){return Ct(this),this.g.concat()},a.get=function(e,t){return Nt(this.h,e)?this.h[e]:t},a.set=function(e,t){Nt(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},a.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Pt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Rt(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Rt){this.g=void 0!==t?t:e.g,Dt(this,e.j),this.s=e.s,Lt(this,e.i),Mt(this,e.m),this.l=e.l,t=e.h;var n=new $t;n.i=t.i,t.g&&(n.g=new It(t.g),n.h=t.h),Ft(this,n),this.o=e.o}else e&&(n=String(e).match(Pt))?(this.g=!!t,Dt(this,n[1]||"",!0),this.s=qt(n[2]||""),Lt(this,n[3]||"",!0),Mt(this,n[4]),this.l=qt(n[5]||"",!0),Ft(this,n[6]||"",!0),this.o=qt(n[7]||"")):(this.g=!!t,this.h=new $t(null,this.g))}function At(e){return new Rt(e)}function Dt(e,t,n){e.j=n?qt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Lt(e,t,n){e.i=n?qt(t,!0):t}function Mt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ft(e,t,n){t instanceof $t?(e.h=t,function(e,t){t&&!e.j&&(Yt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Jt(this,t),Zt(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=zt(t,Gt)),e.h=new $t(t,e.g))}function Ut(e,t,n){e.h.set(t,n)}function Vt(e){return Ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function qt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function zt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Bt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Bt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Rt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(zt(t,Wt,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(zt(t,Wt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(zt(n,"/"==n.charAt(0)?Kt:Ht,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",zt(n,Qt)),e.join("")};var Wt=/[#\/\?@]/g,Ht=/[#\?:]/g,Kt=/[#\?]/g,Gt=/[#\?@]/g,Qt=/#/g;function $t(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Yt(e){e.g||(e.g=new It,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Jt(e,t){Yt(e),t=en(e,t),Nt(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Nt((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Ct(e)))}function Xt(e,t){return Yt(e),t=en(e,t),Nt(e.g.h,t)}function Zt(e,t,n){Jt(e,t),0<n.length&&(e.i=null,e.g.set(en(e,t),j(n)),e.h+=n.length)}function en(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(a=$t.prototype).add=function(e,t){Yt(this),this.i=null,e=en(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},a.forEach=function(e,t){Yt(this),this.g.forEach((function(n,r){_(n,(function(n){e.call(t,n,r,this)}),this)}),this)},a.T=function(){Yt(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},a.R=function(e){Yt(this);var t=[];if("string"===typeof e)Xt(this,e)&&(t=O(t,this.g.get(en(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=O(t,e[n])}return t},a.set=function(e,t){return Yt(this),this.i=null,Xt(this,e=en(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},a.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},a.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var tn=function(e,t){this.h=e,this.g=t};function nn(e){this.l=e||an,s.PerformanceNavigationTiming?e=0<(e=s.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(s.g&&s.g.Ea&&s.g.Ea()&&s.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var rn,an=10;function on(e){return!!e.h||!!e.g&&e.g.size>=e.j}function un(e){return e.h?1:e.g?e.g.size:0}function sn(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function cn(e,t){e.g?e.g.add(t):e.h=t}function ln(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function fn(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var a=i(e.g.values()),o=a.next();!o.done;o=a.next()){var u=o.value;r=r.concat(u.D)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return r}return j(e.i)}function hn(){}function dn(){this.g=new hn}function pn(e,t,n){var r=n||"";try{Tt(e,(function(e,n){var i=e;f(e)&&(i=xe(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function vn(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function yn(e){this.l=e.$b||null,this.j=e.ib||!1}function mn(e,t){_e.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=gn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}nn.prototype.cancel=function(){var e,t;if(this.i=fn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=i(this.g.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(a){e={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},hn.prototype.stringify=function(e){return s.JSON.stringify(e,void 0)},hn.prototype.parse=function(e){return s.JSON.parse(e,void 0)},g(yn,it),yn.prototype.g=function(){return new mn(this.l,this.j)},yn.prototype.i=(rn={},function(){return rn}),g(mn,_e);var gn=0;function bn(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function kn(e){e.readyState=4,e.l=null,e.j=null,e.A=null,wn(e)}function wn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(a=mn.prototype).open=function(e,t){if(this.readyState!=gn)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,wn(this)},a.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||s).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},a.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,kn(this)),this.readyState=gn},a.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,wn(this)),this.g&&(this.readyState=3,wn(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof s.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;bn(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},a.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?kn(this):wn(this),3==this.readyState&&bn(this)}},a.Ua=function(e){this.g&&(this.response=this.responseText=e,kn(this))},a.Ta=function(e){this.g&&(this.response=e,kn(this))},a.ha=function(){this.g&&kn(this)},a.setRequestHeader=function(e,t){this.v.append(e,t)},a.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(mn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var _n=s.JSON.parse;function On(e){_e.call(this),this.headers=new It,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=jn,this.K=this.L=!1}g(On,_e);var jn="",xn=/^https?$/i,En=["POST","PUT"];function Sn(e){return"content-type"==e.toLowerCase()}function Tn(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,In(e),Nn(e)}function In(e){e.D||(e.D=!0,Oe(e,"complete"),Oe(e,"error"))}function Cn(e){if(e.h&&"undefined"!=typeof u&&(!e.C[1]||4!=Rn(e)||2!=e.ba()))if(e.v&&4==Rn(e))Fe(e.Fa,0,e);else if(Oe(e,"readystatechange"),4==Rn(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Pt)[1]||null;if(!a&&s.self&&s.self.location){var o=s.self.location.protocol;a=o.substr(0,o.length-1)}i=!xn.test(a?a.toLowerCase():"")}t=i}if(t)Oe(e,"complete"),Oe(e,"success");else{e.m=6;try{var c=2<Rn(e)?e.g.statusText:""}catch(l){c=""}e.j=c+" ["+e.ba()+"]",In(e)}}finally{Nn(e)}}}function Nn(e,t){if(e.g){Pn(e);var n=e.g,r=e.C[0]?c:null;e.g=null,e.C=null,t||Oe(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Pn(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(s.clearTimeout(e.A),e.A=null)}function Rn(e){return e.g?e.g.readyState:0}function An(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case jn:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Dn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return P(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Ut(e,t,n))}function Ln(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Mn(e){this.za=0,this.l=[],this.h=new He,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ln("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ln("baseRetryDelayMs",5e3,e),this.$a=Ln("retryDelaySeedMs",1e4,e),this.Ya=Ln("forwardChannelMaxRetries",2,e),this.ra=Ln("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new nn(e&&e.concurrentRequestLimit),this.Ca=new dn,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Fn(e){if(Vn(e),3==e.G){var t=e.V++,n=At(e.F);Ut(n,"SID",e.J),Ut(n,"RID",t),Ut(n,"TYPE","terminate"),Wn(e,n),(t=new ht(e,e.h,t,void 0)).K=2,t.v=Vt(At(n)),n=!1,s.navigator&&s.navigator.sendBeacon&&(n=s.navigator.sendBeacon(t.v.toString(),"")),!n&&s.Image&&((new Image).src=t.v,n=!0),n||(t.g=nr(t.l,null),t.g.ea(t.v)),t.F=Date.now(),_t(t)}er(e)}function Un(e){e.g&&(Qn(e),e.g.cancel(),e.g=null)}function Vn(e){Un(e),e.u&&(s.clearTimeout(e.u),e.u=null),Yn(e),e.i.cancel(),e.m&&("number"===typeof e.m&&s.clearTimeout(e.m),e.m=null)}function qn(e,t){e.l.push(new tn(e.Za++,t)),3==e.G&&zn(e)}function zn(e){on(e.i)||e.m||(e.m=!0,Pe(e.Ha,e),e.C=0)}function Bn(e,t){var n;n=t?t.m:e.V++;var r=At(e.F);Ut(r,"SID",e.J),Ut(r,"RID",n),Ut(r,"AID",e.U),Wn(e,r),e.o&&e.s&&Dn(r,e.o,e.s),n=new ht(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Hn(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),cn(e.i,n),mt(n,r,t)}function Wn(e,t){e.j&&Tt({},(function(e,n){Ut(t,n,e)}))}function Hn(e,t,n){n=Math.min(e.l.length,n);var r=e.j?y(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{pn(l,o,"req"+c+"_")}catch(f){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Kn(e){e.g||e.u||(e.Y=1,Pe(e.Ga,e),e.A=0)}function Gn(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=tt(y(e.Ga,e),Xn(e,e.A)),e.A++,!0)}function Qn(e){null!=e.B&&(s.clearTimeout(e.B),e.B=null)}function $n(e){e.g=new ht(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=At(e.oa);Ut(t,"RID","rpc"),Ut(t,"SID",e.J),Ut(t,"CI",e.N?"0":"1"),Ut(t,"AID",e.U),Wn(e,t),Ut(t,"TYPE","xmlhttp"),e.o&&e.s&&Dn(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Vt(At(t)),n.s=null,n.U=!0,gt(n,e)}function Yn(e){null!=e.v&&(s.clearTimeout(e.v),e.v=null)}function Jn(e,t){var n=null;if(e.g==t){Yn(e),Qn(e),e.g=null;var r=2}else{if(!sn(e.i,t))return;n=t.D,ln(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Oe(r=$e(),new et(r,n,t,i)),zn(e)}else Kn(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(un(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=tt(y(e.Ha,e,t),Xn(e,e.C)),e.C++,!0))}(e,t)||2==r&&Gn(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Zn(e,5);break;case 4:Zn(e,10);break;case 3:Zn(e,6);break;default:Zn(e,2)}}function Xn(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Zn(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=y(e.jb,e);n||(n=new Rt("//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||Dt(n,"https"),Vt(n)),function(e,t){var n=new He;if(s.Image){var r=new Image;r.onload=m(vn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=m(vn,n,r,"TestLoadImage: error",!1,t),r.onabort=m(vn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=m(vn,n,r,"TestLoadImage: timeout",!1,t),s.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ze(2);e.G=0,e.j&&e.j.va(t),er(e),Vn(e)}function er(e){e.G=0,e.I=-1,e.j&&(0==fn(e.i).length&&0==e.l.length||(e.i.i.length=0,j(e.l),e.l.length=0),e.j.ua())}function tr(e,t,n){var r=function(e){return e instanceof Rt?At(e):new Rt(e,void 0)}(n);if(""!=r.i)t&&Lt(r,t+"."+r.i),Mt(r,r.m);else{var i=s.location;r=function(e,t,n,r){var i=new Rt(null,void 0);return e&&Dt(i,e),t&&Lt(i,t),n&&Mt(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&P(e.aa,(function(e,t){Ut(r,t,e)})),t=e.D,n=e.sa,t&&n&&Ut(r,t,n),Ut(r,"VER",e.ma),Wn(e,r),r}function nr(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new On(new yn({ib:!0})):new On(e.qa)).L=e.H,t}function rr(){}function ir(){if(U&&!(10<=Number(X)))throw Error("Environmental error: no available transport.")}function ar(e,t){_e.call(this),this.g=new Mn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!x(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!x(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new sr(this)}function or(e){ct.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function ur(){lt.call(this),this.status=1}function sr(e){this.g=e}(a=On.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ut.g(),this.C=this.u?at(this.u):at(ut),this.g.onreadystatechange=y(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Tn(this,a)}e=n||"";var i=new It(this.headers);r&&Tt(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Sn,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=s.FormData&&e instanceof s.FormData,!(0<=w(En,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Pn(this),0<this.B&&((this.K=function(e){return U&&Y()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=y(this.pa,this)):this.A=Fe(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Tn(this,a)}},a.pa=function(){"undefined"!=typeof u&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Oe(this,"timeout"),this.abort(8))},a.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Oe(this,"complete"),Oe(this,"abort"),Nn(this))},a.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Nn(this,!0)),On.Z.M.call(this)},a.Fa=function(){this.s||(this.F||this.v||this.l?Cn(this):this.cb())},a.cb=function(){Cn(this)},a.ba=function(){try{return 2<Rn(this)?this.g.status:-1}catch(rn){return-1}},a.ga=function(){try{return this.g?this.g.responseText:""}catch(rn){return""}},a.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),_n(t)}},a.Da=function(){return this.m},a.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(a=Mn.prototype).ma=8,a.G=1,a.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},a.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new ht(this,this.h,e,void 0),n=this.s;if(this.P&&(n?D(n=R(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Hn(this,t,r),Ut(i=At(this.F),"RID",e),Ut(i,"CVER",22),this.D&&Ut(i,"X-HTTP-Session-Id",this.D),Wn(this,i),this.o&&n&&Dn(i,this.o,n),cn(this.i,t),this.Ra&&Ut(i,"TYPE","init"),this.ja?(Ut(i,"$req",r),Ut(i,"SID","null"),t.$=!0,mt(t,i,null)):mt(t,i,r),this.G=2}}else 3==this.G&&(e?Bn(this,e):0==this.l.length||on(this.i)||Bn(this))},a.Ga=function(){if(this.u=null,$n(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=tt(y(this.bb,this),e)}},a.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ze(10),Un(this),$n(this))},a.ab=function(){null!=this.v&&(this.v=null,Un(this),Gn(this),Ze(19))},a.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Ze(2)):(this.h.info("Failed to ping google.com"),Ze(1))},(a=rr.prototype).xa=function(){},a.wa=function(){},a.va=function(){},a.ua=function(){},a.Oa=function(){},ir.prototype.g=function(e,t){return new ar(e,t)},g(ar,_e),ar.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Pe(y(e.hb,e,t))),Ze(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=tr(e,null,e.W),zn(e)},ar.prototype.close=function(){Fn(this.g)},ar.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,qn(this.g,t)}else this.v?((t={}).__data__=xe(e),qn(this.g,t)):qn(this.g,e)},ar.prototype.M=function(){this.g.j=null,delete this.j,Fn(this.g),delete this.g,ar.Z.M.call(this)},g(or,ct),g(ur,lt),g(sr,rr),sr.prototype.xa=function(){Oe(this.g,"a")},sr.prototype.wa=function(e){Oe(this.g,new or(e))},sr.prototype.va=function(e){Oe(this.g,new ur(e))},sr.prototype.ua=function(){Oe(this.g,"b")},ir.prototype.createWebChannel=ir.prototype.g,ar.prototype.send=ar.prototype.u,ar.prototype.open=ar.prototype.m,ar.prototype.close=ar.prototype.close,nt.NO_ERROR=0,nt.TIMEOUT=8,nt.HTTP_ERROR=6,rt.COMPLETE="complete",ot.EventType=st,st.OPEN="a",st.CLOSE="b",st.ERROR="c",st.MESSAGE="d",_e.prototype.listen=_e.prototype.N,On.prototype.listenOnce=On.prototype.O,On.prototype.getLastError=On.prototype.La,On.prototype.getLastErrorCode=On.prototype.Da,On.prototype.getStatus=On.prototype.ba,On.prototype.getResponseJson=On.prototype.Qa,On.prototype.getResponseText=On.prototype.ga,On.prototype.send=On.prototype.ea;var cr=function(){return new ir},lr=function(){return $e()},fr=nt,hr=rt,dr=Ge,pr={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},vr=yn,yr=ot,mr=On}).call(this,n(72))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1),i=n(56);function a(){return r.useContext(i.a)}},function(e,t,n){"use strict";var r="Invariant failed";t.a=function(e,t){if(!e)throw new Error(r)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(6),i=n(1),a=n.n(i),o=n(14),u=(n(18),n(15)),s=n(17),c=n(21),l=i.forwardRef((function(e,t){var n=e.children,a=e.classes,s=e.className,l=e.color,f=void 0===l?"inherit":l,h=e.component,d=void 0===h?"svg":h,p=e.fontSize,v=void 0===p?"medium":p,y=e.htmlColor,m=e.titleAccess,g=e.viewBox,b=void 0===g?"0 0 24 24":g,k=Object(o.a)(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return i.createElement(d,Object(r.a)({className:Object(u.a)(a.root,s,"inherit"!==f&&a["color".concat(Object(c.a)(f))],"default"!==v&&"medium"!==v&&a["fontSize".concat(Object(c.a)(v))]),focusable:"false",viewBox:b,color:y,"aria-hidden":!m||void 0,role:m?"img":void 0,ref:t},k),n,m?i.createElement("title",null,m):null)}));l.muiName="SvgIcon";var f=Object(s.a)((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(l);function h(e,t){var n=function(t,n){return a.a.createElement(f,Object(r.a)({ref:n},t),e)};return n.muiName=f.muiName,a.a.memo(a.a.forwardRef(n))}},function(e,t,n){"use strict";var r,i=n(7),a=n(3),o=n(5),u=n(2),s=n(27),c=n(19),l=n(30),f=function(){function e(t,n){var r=this;Object(a.a)(this,e),this._delegate=t,this.firebase=n,Object(c._addComponent)(t,new s.a("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Object(o.a)(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Object(c.deleteApp)(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c._DEFAULT_ENTRY_NAME;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c._DEFAULT_ENTRY_NAME;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Object(c._addComponent)(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Object(c._addOrOverwriteComponent)(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),h=(r={},Object(i.a)(r,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Object(i.a)(r,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),r),d=new u.b("app-compat","Firebase",h);var p=function e(){var t=function(e){var t={},n={__esModule:!0,initializeApp:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=c.initializeApp(r,i);if(Object(u.j)(t,a.name))return t[a.name];var o=new e(a,n);return t[a.name]=o,o},app:r,registerVersion:c.registerVersion,setLogLevel:c.setLogLevel,onLog:c.onLog,apps:null,SDK_VERSION:c.SDK_VERSION,INTERNAL:{registerComponent:function(t){var i=t.name,a=i.replace("-compat","");if(c._registerComponent(t)&&"PUBLIC"===t.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r();if("function"!==typeof e[a])throw d.create("invalid-app-argument",{appName:i});return e[a]()};void 0!==t.serviceProps&&Object(u.o)(o,t.serviceProps),n[a]=o,e.prototype[a]=function(){for(var e=this._getService.bind(this,i),n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e.apply(this,t.multipleInstances?r:[])}}return"PUBLIC"===t.type?n[a]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:c}};function r(e){if(e=e||c._DEFAULT_ENTRY_NAME,!Object(u.j)(t,e))throw d.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),r.App=e,n}(f);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Object(u.o)(t,e)},createSubscribe:u.l,ErrorFactory:u.b,deepExtend:u.o}),t}(),v=new l.b("@firebase/app-compat");if(Object(u.u)()&&void 0!==self.firebase){v.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&v.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var m,g=p;Object(c.registerVersion)("@firebase/app-compat","0.1.1",m),t.a=g},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1),i="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;function a(e){var t=r.useRef(e);return i((function(){t.current=e})),r.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e){return"/"===e.charAt(0)}function a(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return I})),n.d(t,"d",(function(){return N})),n.d(t,"c",(function(){return v})),n.d(t,"f",(function(){return y})),n.d(t,"e",(function(){return p}));var o=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],o=t&&t.split("/")||[],u=e&&i(e),s=t&&i(t),c=u||s;if(e&&i(e)?o=r:r.length&&(o.pop(),o=o.concat(r)),!o.length)return"/";if(o.length){var l=o[o.length-1];n="."===l||".."===l||""===l}else n=!1;for(var f=0,h=o.length;h>=0;h--){var d=o[h];"."===d?a(o,h):".."===d?(a(o,h),f++):f&&(a(o,h),f--)}if(!c)for(;f--;f)o.unshift("..");!c||""===o[0]||o[0]&&i(o[0])||o.unshift("");var p=o.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function u(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var s=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=u(t),i=u(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},c=n(37);function l(e){return"/"===e.charAt(0)?e:"/"+e}function f(e){return"/"===e.charAt(0)?e.substr(1):e}function h(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function d(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function p(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function v(e,t,n,i){var a;"string"===typeof e?(a=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(a=r({},e)).pathname&&(a.pathname=""),a.search?"?"!==a.search.charAt(0)&&(a.search="?"+a.search):a.search="",a.hash?"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash):a.hash="",void 0!==t&&void 0===a.state&&(a.state=t));try{a.pathname=decodeURI(a.pathname)}catch(u){throw u instanceof URIError?new URIError('Pathname "'+a.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):u}return n&&(a.key=n),i?a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=o(a.pathname,i.pathname)):a.pathname=i.pathname:a.pathname||(a.pathname="/"),a}function y(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&s(e.state,t.state)}function m(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof r?r(a,i):i(!0):i(!1!==a)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var g=!("undefined"===typeof window||!window.document||!window.document.createElement);function b(e,t){t(window.confirm(e))}var k="popstate",w="hashchange";function _(){try{return window.history.state||{}}catch(e){return{}}}function O(e){void 0===e&&(e={}),g||Object(c.a)(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),a=e,o=a.forceRefresh,u=void 0!==o&&o,s=a.getUserConfirmation,f=void 0===s?b:s,y=a.keyLength,O=void 0===y?6:y,j=e.basename?d(l(e.basename)):"";function x(e){var t=e||{},n=t.key,r=t.state,i=window.location,a=i.pathname+i.search+i.hash;return j&&(a=h(a,j)),v(a,r,n)}function E(){return Math.random().toString(36).substr(2,O)}var S=m();function T(e){r(V,e),V.length=t.length,S.notifyListeners(V.location,V.action)}function I(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||P(x(e.state))}function C(){P(x(_()))}var N=!1;function P(e){if(N)N=!1,T();else{S.confirmTransitionTo(e,"POP",f,(function(t){t?T({action:"POP",location:e}):function(e){var t=V.location,n=A.indexOf(t.key);-1===n&&(n=0);var r=A.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(N=!0,L(i))}(e)}))}}var R=x(_()),A=[R.key];function D(e){return j+p(e)}function L(e){t.go(e)}var M=0;function F(e){1===(M+=e)&&1===e?(window.addEventListener(k,I),i&&window.addEventListener(w,C)):0===M&&(window.removeEventListener(k,I),i&&window.removeEventListener(w,C))}var U=!1;var V={length:t.length,action:"POP",location:R,createHref:D,push:function(e,r){var i="PUSH",a=v(e,r,E(),V.location);S.confirmTransitionTo(a,i,f,(function(e){if(e){var r=D(a),o=a.key,s=a.state;if(n)if(t.pushState({key:o,state:s},null,r),u)window.location.href=r;else{var c=A.indexOf(V.location.key),l=A.slice(0,c+1);l.push(a.key),A=l,T({action:i,location:a})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",a=v(e,r,E(),V.location);S.confirmTransitionTo(a,i,f,(function(e){if(e){var r=D(a),o=a.key,s=a.state;if(n)if(t.replaceState({key:o,state:s},null,r),u)window.location.replace(r);else{var c=A.indexOf(V.location.key);-1!==c&&(A[c]=a.key),T({action:i,location:a})}else window.location.replace(r)}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(e){void 0===e&&(e=!1);var t=S.setPrompt(e);return U||(F(1),U=!0),function(){return U&&(U=!1,F(-1)),t()}},listen:function(e){var t=S.appendListener(e);return F(1),function(){F(-1),t()}}};return V}var j="hashchange",x={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+f(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:f,decodePath:l},slash:{encodePath:l,decodePath:l}};function E(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function S(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function T(e){window.location.replace(E(window.location.href)+"#"+e)}function I(e){void 0===e&&(e={}),g||Object(c.a)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),i=n.getUserConfirmation,a=void 0===i?b:i,o=n.hashType,u=void 0===o?"slash":o,s=e.basename?d(l(e.basename)):"",f=x[u],y=f.encodePath,k=f.decodePath;function w(){var e=k(S());return s&&(e=h(e,s)),v(e)}var _=m();function O(e){r(V,e),V.length=t.length,_.notifyListeners(V.location,V.action)}var I=!1,C=null;function N(){var e,t,n=S(),r=y(n);if(n!==r)T(r);else{var i=w(),o=V.location;if(!I&&(t=i,(e=o).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(C===p(i))return;C=null,function(e){if(I)I=!1,O();else{var t="POP";_.confirmTransitionTo(e,t,a,(function(n){n?O({action:t,location:e}):function(e){var t=V.location,n=D.lastIndexOf(p(t));-1===n&&(n=0);var r=D.lastIndexOf(p(e));-1===r&&(r=0);var i=n-r;i&&(I=!0,L(i))}(e)}))}}(i)}}var P=S(),R=y(P);P!==R&&T(R);var A=w(),D=[p(A)];function L(e){t.go(e)}var M=0;function F(e){1===(M+=e)&&1===e?window.addEventListener(j,N):0===M&&window.removeEventListener(j,N)}var U=!1;var V={length:t.length,action:"POP",location:A,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=E(window.location.href)),n+"#"+y(s+p(e))},push:function(e,t){var n="PUSH",r=v(e,void 0,void 0,V.location);_.confirmTransitionTo(r,n,a,(function(e){if(e){var t=p(r),i=y(s+t);if(S()!==i){C=t,function(e){window.location.hash=e}(i);var a=D.lastIndexOf(p(V.location)),o=D.slice(0,a+1);o.push(t),D=o,O({action:n,location:r})}else O()}}))},replace:function(e,t){var n="REPLACE",r=v(e,void 0,void 0,V.location);_.confirmTransitionTo(r,n,a,(function(e){if(e){var t=p(r),i=y(s+t);S()!==i&&(C=t,T(i));var a=D.indexOf(p(V.location));-1!==a&&(D[a]=t),O({action:n,location:r})}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(e){void 0===e&&(e=!1);var t=_.setPrompt(e);return U||(F(1),U=!0),function(){return U&&(U=!1,F(-1)),t()}},listen:function(e){var t=_.appendListener(e);return F(1),function(){F(-1),t()}}};return V}function C(e,t,n){return Math.min(Math.max(e,t),n)}function N(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,i=t.initialEntries,a=void 0===i?["/"]:i,o=t.initialIndex,u=void 0===o?0:o,s=t.keyLength,c=void 0===s?6:s,l=m();function f(e){r(k,e),k.length=k.entries.length,l.notifyListeners(k.location,k.action)}function h(){return Math.random().toString(36).substr(2,c)}var d=C(u,0,a.length-1),y=a.map((function(e){return v(e,void 0,"string"===typeof e?h():e.key||h())})),g=p;function b(e){var t=C(k.index+e,0,k.entries.length-1),r=k.entries[t];l.confirmTransitionTo(r,"POP",n,(function(e){e?f({action:"POP",location:r,index:t}):f()}))}var k={length:y.length,action:"POP",location:y[d],index:d,entries:y,createHref:g,push:function(e,t){var r="PUSH",i=v(e,t,h(),k.location);l.confirmTransitionTo(i,r,n,(function(e){if(e){var t=k.index+1,n=k.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),f({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=v(e,t,h(),k.location);l.confirmTransitionTo(i,r,n,(function(e){e&&(k.entries[k.index]=i,f({action:r,location:i}))}))},go:b,goBack:function(){b(-1)},goForward:function(){b(1)},canGo:function(e){var t=k.index+e;return t>=0&&t<k.entries.length},block:function(e){return void 0===e&&(e=!1),l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return k}},function(e,t,n){"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(70);var i=n(100),a=n(77);function o(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||Object(i.a)(e)||Object(a.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return g}));var r=n(24);function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}var o=n(1),u=n.n(o),s=n(41);n(18);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var f=n(37),h=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=Object(s.a)(t.props),t}return a(t,e),t.prototype.render=function(){return u.a.createElement(r.b,{history:this.history,children:this.props.children})},t}(u.a.Component);u.a.Component;var d=function(e,t){return"function"===typeof e?e(t):e},p=function(e,t){return"string"===typeof e?Object(s.c)(e,null,null,t):e},v=function(e){return e},y=u.a.forwardRef;"undefined"===typeof y&&(y=v);var m=y((function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,a=l(e,["innerRef","navigate","onClick"]),o=a.target,s=c({},a,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||o&&"_self"!==o||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return s.ref=v!==y&&t||n,u.a.createElement("a",s)}));var g=y((function(e,t){var n=e.component,i=void 0===n?m:n,a=e.replace,o=e.to,s=e.innerRef,h=l(e,["component","replace","to","innerRef"]);return u.a.createElement(r.d.Consumer,null,(function(e){e||Object(f.a)(!1);var n=e.history,r=p(d(o,e.location),e.location),l=r?n.createHref(r):"",m=c({},h,{href:l,navigate:function(){var t=d(o,e.location);(a?n.replace:n.push)(t)}});return v!==y?m.ref=t||s:m.innerRef=s,u.a.createElement(i,m)}))})),b=function(e){return e},k=u.a.forwardRef;"undefined"===typeof k&&(k=b);k((function(e,t){var n=e["aria-current"],i=void 0===n?"page":n,a=e.activeClassName,o=void 0===a?"active":a,s=e.activeStyle,h=e.className,v=e.exact,y=e.isActive,m=e.location,w=e.sensitive,_=e.strict,O=e.style,j=e.to,x=e.innerRef,E=l(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return u.a.createElement(r.d.Consumer,null,(function(e){e||Object(f.a)(!1);var n=m||e.location,a=p(d(j,n),n),l=a.pathname,S=l&&l.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),T=S?Object(r.e)(n.pathname,{path:S,exact:v,sensitive:w,strict:_}):null,I=!!(y?y(T,n):T),C=I?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(h,o):h,N=I?c({},O,{},s):O,P=c({"aria-current":I&&i||null,className:C,style:N,to:a},E);return b!==k?P.ref=t||x:P.innerRef=x,u.a.createElement(g,P)}))}))},function(e,t,n){"use strict";function r(e,t){return function(){return null}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";t.a=function(e,t){}},function(e,t,n){"use strict";var r=n(152);t.a=function(e,t){return t?Object(r.a)(e,t,{clone:!1}):e}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},,function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(69);function i(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},function(e,t,n){"use strict";var r=n(48),i=n(14),a=n(152),o=n(6),u=["xs","sm","md","lg","xl"];function s(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,r=e.unit,a=void 0===r?"px":r,s=e.step,c=void 0===s?5:s,l=Object(i.a)(e,["values","unit","step"]);function f(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(a,")")}function h(e,t){var r=u.indexOf(t);return r===u.length-1?f(e):"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(a,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[u[r+1]]?n[u[r+1]]:t)-c/100).concat(a,")")}return Object(o.a)({keys:u,values:n,up:f,down:function(e){var t=u.indexOf(e)+1,r=n[u[t]];return t===u.length?f("xs"):"@media (max-width:".concat(("number"===typeof r&&t>0?r:e)-c/100).concat(a,")")},between:h,only:function(e){return h(e,e)},width:function(e){return n[e]}},l)}function c(e,t,n){var i;return Object(o.a)({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:","\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      [theme.breakpoints.up('sm')]: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3),\n      },\n      "].join("\n")),Object(o.a)({paddingLeft:t(2),paddingRight:t(2)},n,Object(r.a)({},e.up("sm"),Object(o.a)({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(i={minHeight:56},Object(r.a)(i,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),Object(r.a)(i,e.up("sm"),{minHeight:64}),i)},n)}var l=n(106),f={black:"#000",white:"#fff"},h={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},d={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},p={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},v={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},y={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},m={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},g={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},b=n(32),k={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:f.white,default:h[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},w={text:{primary:f.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:h[800],default:"#303030"},action:{active:f.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function _(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Object(b.d)(e.main,i):"dark"===t&&(e.dark=Object(b.b)(e.main,a)))}function O(e){var t=e.primary,n=void 0===t?{light:d[300],main:d[500],dark:d[700]}:t,r=e.secondary,u=void 0===r?{light:p.A200,main:p.A400,dark:p.A700}:r,s=e.error,c=void 0===s?{light:v[300],main:v[500],dark:v[700]}:s,O=e.warning,j=void 0===O?{light:y[300],main:y[500],dark:y[700]}:O,x=e.info,E=void 0===x?{light:m[300],main:m[500],dark:m[700]}:x,S=e.success,T=void 0===S?{light:g[300],main:g[500],dark:g[700]}:S,I=e.type,C=void 0===I?"light":I,N=e.contrastThreshold,P=void 0===N?3:N,R=e.tonalOffset,A=void 0===R?.2:R,D=Object(i.a)(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function L(e){return Object(b.c)(e,w.text.primary)>=P?w.text.primary:k.text.primary}var M=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=Object(o.a)({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error(Object(l.a)(4,t));if("string"!==typeof e.main)throw new Error(Object(l.a)(5,JSON.stringify(e.main)));return _(e,"light",n,A),_(e,"dark",r,A),e.contrastText||(e.contrastText=L(e.main)),e},F={dark:w,light:k};return Object(a.a)(Object(o.a)({common:f,type:C,primary:M(n),secondary:M(u,"A400","A200","A700"),error:M(c),warning:M(j),info:M(E),success:M(T),grey:h,contrastThreshold:P,getContrastText:L,augmentColor:M,tonalOffset:A},F[C]),D)}function j(e){return Math.round(1e5*e)/1e5}function x(e){return j(e)}var E={textTransform:"uppercase"},S='"Roboto", "Helvetica", "Arial", sans-serif';function T(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,u=void 0===r?S:r,s=n.fontSize,c=void 0===s?14:s,l=n.fontWeightLight,f=void 0===l?300:l,h=n.fontWeightRegular,d=void 0===h?400:h,p=n.fontWeightMedium,v=void 0===p?500:p,y=n.fontWeightBold,m=void 0===y?700:y,g=n.htmlFontSize,b=void 0===g?16:g,k=n.allVariants,w=n.pxToRem,_=Object(i.a)(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var O=c/14,T=w||function(e){return"".concat(e/b*O,"rem")},I=function(e,t,n,r,i){return Object(o.a)({fontFamily:u,fontWeight:e,fontSize:T(t),lineHeight:n},u===S?{letterSpacing:"".concat(j(r/t),"em")}:{},i,k)},C={h1:I(f,96,1.167,-1.5),h2:I(f,60,1.2,-.5),h3:I(d,48,1.167,0),h4:I(d,34,1.235,.25),h5:I(d,24,1.334,0),h6:I(v,20,1.6,.15),subtitle1:I(d,16,1.75,.15),subtitle2:I(v,14,1.57,.1),body1:I(d,16,1.5,.15),body2:I(d,14,1.43,.15),button:I(v,14,1.75,.4,E),caption:I(d,12,1.66,.4),overline:I(d,12,2.66,1,E)};return Object(a.a)(Object(o.a)({htmlFontSize:b,pxToRem:T,round:x,fontFamily:u,fontSize:c,fontWeightLight:f,fontWeightRegular:d,fontWeightMedium:v,fontWeightBold:m},C),_,{clone:!1})}function I(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var C=["none",I(0,2,1,-1,0,1,1,0,0,1,3,0),I(0,3,1,-2,0,2,2,0,0,1,5,0),I(0,3,3,-2,0,3,4,0,0,1,8,0),I(0,2,4,-1,0,4,5,0,0,1,10,0),I(0,3,5,-1,0,5,8,0,0,1,14,0),I(0,3,5,-1,0,6,10,0,0,1,18,0),I(0,4,5,-2,0,7,10,1,0,2,16,1),I(0,5,5,-3,0,8,10,1,0,3,14,2),I(0,5,6,-3,0,9,12,1,0,3,16,2),I(0,6,6,-3,0,10,14,1,0,4,18,3),I(0,6,7,-4,0,11,15,1,0,4,20,3),I(0,7,8,-4,0,12,17,2,0,5,22,4),I(0,7,8,-4,0,13,19,2,0,5,24,4),I(0,7,9,-4,0,14,21,2,0,5,26,4),I(0,8,9,-5,0,15,22,2,0,6,28,5),I(0,8,10,-5,0,16,24,2,0,6,30,5),I(0,8,11,-5,0,17,26,2,0,6,32,5),I(0,9,11,-5,0,18,28,2,0,7,34,6),I(0,9,12,-6,0,19,29,2,0,7,36,6),I(0,10,13,-6,0,20,31,3,0,8,38,7),I(0,10,13,-6,0,21,33,3,0,8,40,7),I(0,10,14,-6,0,22,35,3,0,8,42,7),I(0,11,14,-7,0,23,36,3,0,9,44,8),I(0,11,15,-7,0,24,38,3,0,9,46,8)],N={borderRadius:4},P=n(194);function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=Object(P.a)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"===typeof e)return e;var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}var A={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},D={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function L(e){return"".concat(Math.round(e),"ms")}var M={easing:A,duration:D,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,r=void 0===n?D.standard:n,a=t.easing,o=void 0===a?A.easeInOut:a,u=t.delay,s=void 0===u?0:u;Object(i.a)(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof r?r:L(r)," ").concat(o," ").concat("string"===typeof s?s:L(s))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}},F=n(80);function U(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.mixins,o=void 0===r?{}:r,u=e.palette,l=void 0===u?{}:u,f=e.spacing,h=e.typography,d=void 0===h?{}:h,p=Object(i.a)(e,["breakpoints","mixins","palette","spacing","typography"]),v=O(l),y=s(n),m=R(f),g=Object(a.a)({breakpoints:y,direction:"ltr",mixins:c(y,m,o),overrides:{},palette:v,props:{},shadows:C,typography:T(v,d),spacing:m,shape:N,transitions:M,zIndex:F.a},p),b=arguments.length,k=new Array(b>1?b-1:0),w=1;w<b;w++)k[w-1]=arguments[w];return g=k.reduce((function(e,t){return Object(a.a)(e,t)}),g)}var V=U();t.a=V},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(101);var i=n(77),a=n(102);function o(e,t){return Object(r.a)(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||Object(i.a)(e,t)||Object(a.a)()}},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));var r=n(1),i=r.createContext();function a(){return r.useContext(i)}t.a=i},function(e,t,n){"use strict";function r(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=this,u=function(){e.apply(o,i)};clearTimeout(t),t=setTimeout(u,n)}return r.clear=function(){clearTimeout(t)},r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(33);function i(e){return Object(r.a)(e).defaultView||window}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1);function i(e){var t=e.controlled,n=e.default,i=(e.name,e.state,r.useRef(void 0!==t).current),a=r.useState(n),o=a[0],u=a[1];return[i?t:o,r.useCallback((function(e){i||u(e)}),[])]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(1),i=n(25),a=!0,o=!1,u=null,s={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function c(e){e.metaKey||e.altKey||e.ctrlKey||(a=!0)}function l(){a=!1}function f(){"hidden"===this.visibilityState&&o&&(a=!0)}function h(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return a||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!s[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function d(){o=!0,window.clearTimeout(u),u=window.setTimeout((function(){o=!1}),100)}function p(){return{isFocusVisible:h,onBlurVisible:d,ref:r.useCallback((function(e){var t,n=i.findDOMNode(e);null!=n&&((t=n.ownerDocument).addEventListener("keydown",c,!0),t.addEventListener("mousedown",l,!0),t.addEventListener("pointerdown",l,!0),t.addEventListener("touchstart",l,!0),t.addEventListener("visibilitychange",f,!0))}),[])}}},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(61),i=n(76);function a(e,t,n){return(a=Object(i.a)()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&Object(r.a)(a,n.prototype),a}).apply(null,arguments)}},function(e,t,n){"use strict";var r=n(99),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),y=0;y<o.length;++y){var m=o[y];if(!a[m]&&(!r||!r[m])&&(!v||!v[m])&&(!u||!u[m])){var g=h(n,m);try{c(t,m,g)}catch(b){}}}}return t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1);function i(e,t){return r.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";var r=n(1),i=n.n(r);t.a=i.a.createContext(null)},function(e,t,n){"use strict";var r=n(39);n.d(t,"a",(function(){return r.a}));r.a.registerVersion("firebase","9.0.2","app-compat")},,function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findInArray=function(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]},t.isFunction=function(e){return"function"===typeof e||"[object Function]"===Object.prototype.toString.call(e)},t.isNum=function(e){return"number"===typeof e&&!isNaN(e)},t.int=function(e){return parseInt(e,10)},t.dontSetMe=function(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(70);function i(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n(43),n(6);var r=n(54),i=(n(18),n(47),{xs:0,sm:600,md:960,lg:1280,xl:1920}),a={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(i[e],"px)")}};function o(e,t,n){if(Array.isArray(t)){var i=e.theme.breakpoints||a;return t.reduce((function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e}),{})}if("object"===Object(r.a)(t)){var o=e.theme.breakpoints||a;return Object.keys(t).reduce((function(e,r){return e[o.up(r)]=n(t[r]),e}),{})}return n(t)}},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";t.a={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500}},function(e,t,n){"use strict";var r=n(141),i=n(142);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(1)),o=(0,r(n(144)).default)(a.createElement("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"}),"LockOutlined");t.default=o},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function o(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,u,s=o(e),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))i.call(n,l)&&(s[l]=n[l]);if(r){u=r(n);for(var f=0;f<u.length;f++)a.call(n,u[f])&&(s[u[f]]=n[u[f]])}}return s}},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.matchesSelector=f,t.matchesSelectorAndParentsTo=function(e,t,n){var r=e;do{if(f(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1},t.addEvent=function(e,t,n,r){if(!e)return;var i=s({capture:!0},r);e.addEventListener?e.addEventListener(t,n,i):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},t.removeEvent=function(e,t,n,r){if(!e)return;var i=s({capture:!0},r);e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null},t.outerHeight=function(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,i.int)(n.borderTopWidth),t+=(0,i.int)(n.borderBottomWidth)},t.outerWidth=function(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,i.int)(n.borderLeftWidth),t+=(0,i.int)(n.borderRightWidth)},t.innerHeight=function(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,i.int)(n.paddingTop),t-=(0,i.int)(n.paddingBottom)},t.innerWidth=function(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,i.int)(n.paddingLeft),t-=(0,i.int)(n.paddingRight)},t.offsetXYFromParent=function(e,t,n){var r=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),i=(e.clientX+t.scrollLeft-r.left)/n,a=(e.clientY+t.scrollTop-r.top)/n;return{x:i,y:a}},t.createCSSTransform=function(e,t){var n=h(e,t,"px");return c({},(0,a.browserPrefixToKey)("transform",a.default),n)},t.createSVGTransform=function(e,t){return h(e,t,"")},t.getTranslation=h,t.getTouch=function(e,t){return e.targetTouches&&(0,i.findInArray)(e.targetTouches,(function(e){return t===e.identifier}))||e.changedTouches&&(0,i.findInArray)(e.changedTouches,(function(e){return t===e.identifier}))},t.getTouchIdentifier=function(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier},t.addUserSelectStyles=function(e){if(!e)return;var t=e.getElementById("react-draggable-style-el");t||((t=e.createElement("style")).type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t));e.body&&d(e.body,"react-draggable-transparent-selection")},t.removeUserSelectStyles=function(e){if(!e)return;try{if(e.body&&p(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{var t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch(n){}},t.addClassName=d,t.removeClassName=p;var i=n(71),a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var u=i?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(n,a,u):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(128));function o(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l="";function f(e,t){return l||(l=(0,i.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return(0,i.isFunction)(e[t])}))),!!(0,i.isFunction)(e[l])&&e[l](t)}function h(e,t,n){var r=e.x,i=e.y,a="translate(".concat(r).concat(n,",").concat(i).concat(n,")");if(t){var o="".concat("string"===typeof t.x?t.x:t.x+n),u="".concat("string"===typeof t.y?t.y:t.y+n);a="translate(".concat(o,", ").concat(u,")")+a}return a}function d(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function p(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}},function(e,t,n){"use strict";function r(e){return function(){return null}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";e.exports=n(145)},function(e,t,n){"use strict";var r=n(124),i=r.default,a=r.DraggableCore;e.exports=i,e.exports.default=i,e.exports.DraggableCore=a},function(e,t,n){"use strict";(function(e){var r=n(1),i=n.n(r),a=n(92),o=n(18),u=n.n(o),s=1073741823,c="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:{};function l(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var f=i.a.createContext||function(e,t){var n,i,o="__create-react-context-"+function(){var e="__global_unique_id__";return c[e]=(c[e]||0)+1}()+"__",f=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=l(t.props.value),t}Object(a.a)(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[o]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;((a=r)===(o=i)?0!==a||1/a===1/o:a!==a&&o!==o)?n=0:(n="function"===typeof t?t(r,i):s,0!==(n|=0)&&this.emitter.set(e.value,n))}var a,o},r.render=function(){return this.props.children},n}(r.Component);f.childContextTypes=((n={})[o]=u.a.object.isRequired,n);var h=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}Object(a.a)(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?s:t},r.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?s:e},r.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},r.getValue=function(){return this.context[o]?this.context[o].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(r.Component);return h.contextTypes=((i={})[o]=u.a.object,i),{Provider:f,Consumer:h}};t.a=f}).call(this,n(72))},function(e,t,n){var r=n(139);e.exports=d,e.exports.parse=a,e.exports.compile=function(e,t){return u(a(e,t),t)},e.exports.tokensToFunction=u,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,r=[],a=0,o=0,u="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],h=n[1],d=n.index;if(u+=e.slice(o,d),o=d+f.length,h)u+=h[1];else{var p=e[o],v=n[2],y=n[3],m=n[4],g=n[5],b=n[6],k=n[7];u&&(r.push(u),u="");var w=null!=v&&null!=p&&p!==v,_="+"===b||"*"===b,O="?"===b||"*"===b,j=n[2]||l,x=m||g;r.push({name:y||a++,prefix:v||"",delimiter:j,optional:O,repeat:_,partial:w,asterisk:!!k,pattern:x?c(x):k?".*":"[^"+s(j)+"]+?"})}}return o<e.length&&(u+=e.substr(o)),u&&r.push(u),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function u(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var a="",u=t||{},s=(i||{}).pretty?o:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,h=u[l.name];if(null==h){if(l.optional){l.partial&&(a+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=s(h[d]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");a+=(0===d?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(h),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');a+=l.prefix+f}}else a+=l}return a}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,a=!1!==n.end,o="",u=0;u<e.length;u++){var c=e[u];if("string"===typeof c)o+=s(c);else{var h=s(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+h+d+")*"),o+=d=c.optional?c.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var p=s(n.delimiter||"/"),v=o.slice(-p.length)===p;return i||(o=(v?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=a?"$":i&&v?"":"(?="+p+"|$)",l(new RegExp("^"+o,f(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return h(a(e,n),t,n)}(e,t,n)}},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}n.d(t,"a",(function(){return i}))},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBoundPosition=function(e,t,n){if(!e.props.bounds)return[t,n];var o=e.props.bounds;o="string"===typeof o?o:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(o);var u=a(e);if("string"===typeof o){var s,c=u.ownerDocument,l=c.defaultView;if(!((s="parent"===o?u.parentNode:c.querySelector(o))instanceof l.HTMLElement))throw new Error('Bounds selector "'+o+'" could not find an element.');var f=l.getComputedStyle(u),h=l.getComputedStyle(s);o={left:-u.offsetLeft+(0,r.int)(h.paddingLeft)+(0,r.int)(f.marginLeft),top:-u.offsetTop+(0,r.int)(h.paddingTop)+(0,r.int)(f.marginTop),right:(0,i.innerWidth)(s)-(0,i.outerWidth)(u)-u.offsetLeft+(0,r.int)(h.paddingRight)-(0,r.int)(f.marginRight),bottom:(0,i.innerHeight)(s)-(0,i.outerHeight)(u)-u.offsetTop+(0,r.int)(h.paddingBottom)-(0,r.int)(f.marginBottom)}}(0,r.isNum)(o.right)&&(t=Math.min(t,o.right));(0,r.isNum)(o.bottom)&&(n=Math.min(n,o.bottom));(0,r.isNum)(o.left)&&(t=Math.max(t,o.left));(0,r.isNum)(o.top)&&(n=Math.max(n,o.top));return[t,n]},t.snapToGrid=function(e,t,n){var r=Math.round(t/e[0])*e[0],i=Math.round(n/e[1])*e[1];return[r,i]},t.canDragX=function(e){return"both"===e.props.axis||"x"===e.props.axis},t.canDragY=function(e){return"both"===e.props.axis||"y"===e.props.axis},t.getControlPosition=function(e,t,n){var r="number"===typeof t?(0,i.getTouch)(e,t):null;if("number"===typeof t&&!r)return null;var o=a(n),u=n.props.offsetParent||o.offsetParent||o.ownerDocument.body;return(0,i.offsetXYFromParent)(r||e,u,n.props.scale)},t.createCoreData=function(e,t,n){var i=e.state,o=!(0,r.isNum)(i.lastX),u=a(e);return o?{node:u,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:u,deltaX:t-i.lastX,deltaY:n-i.lastY,lastX:i.lastX,lastY:i.lastY,x:t,y:n}},t.createDraggableData=function(e,t){var n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}};var r=n(71),i=n(85);function a(e){var t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){void 0}},function(e,t){var n,r,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:a}catch(e){n=a}try{r="function"===typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var s,c=[],l=!1,f=-1;function h(){l&&s&&(l=!1,s.length?c=s.concat(c):f=-1,c.length&&d())}function d(){if(!l){var e=u(h);l=!0;for(var t=c.length;t;){for(s=c,c=[];++f<t;)s&&s[f].run();f=-1,t=c.length}s=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||u(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";e.exports=n(140)},function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(29),i=n(61);var a=n(62);function o(e){var t="function"===typeof Map?new Map:void 0;return(o=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return Object(a.a)(e,arguments,Object(r.a)(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Object(i.a)(o,e)})(e)}},function(e,t,n){"use strict";function r(e){for(var t="https://material-ui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(6),i=n(14),a=n(1),o=(n(18),n(15)),u=n(17),s=n(21),c={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},l=a.forwardRef((function(e,t){var n=e.align,u=void 0===n?"inherit":n,l=e.classes,f=e.className,h=e.color,d=void 0===h?"initial":h,p=e.component,v=e.display,y=void 0===v?"initial":v,m=e.gutterBottom,g=void 0!==m&&m,b=e.noWrap,k=void 0!==b&&b,w=e.paragraph,_=void 0!==w&&w,O=e.variant,j=void 0===O?"body1":O,x=e.variantMapping,E=void 0===x?c:x,S=Object(i.a)(e,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),T=p||(_?"p":E[j]||c[j])||"span";return a.createElement(T,Object(r.a)({className:Object(o.a)(l.root,f,"inherit"!==j&&l[j],"initial"!==d&&l["color".concat(Object(s.a)(d))],k&&l.noWrap,g&&l.gutterBottom,_&&l.paragraph,"inherit"!==u&&l["align".concat(Object(s.a)(u))],"initial"!==y&&l["display".concat(Object(s.a)(y))]),ref:t},S))}));t.a=Object(u.a)((function(e){return{root:{margin:0},body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}}),{name:"MuiTypography"})(l)},,,,,,,,,,,function(e,t,n){"use strict";var r=n(84),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,u=60110,s=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function m(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=y.prototype;var b=g.prototype=new m;b.constructor=g,r(b,y.prototype),b.isPureReactComponent=!0;var k={current:null},w=Object.prototype.hasOwnProperty,_={key:!0,ref:!0,__self:!0,__source:!0};function O(e,t,n){var r,a={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!_.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:i,type:e,key:o,ref:u,props:a,_owner:k.current}}function j(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var x=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function S(e,t,n,r,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case a:s=!0}}if(s)return o=o(s=e),e=""===r?"."+E(s,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(x,"$&/")+"/"),S(o,t,n,"",(function(e){return e}))):null!=o&&(j(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(x,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+E(u=e[c],c);s+=S(u,t,n,l,o)}else if("function"===typeof(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e)))for(e=l.call(e),c=0;!(u=e.next()).done;)s+=S(u=u.value,t,n,l=r+E(u,c++),o);else if("object"===u)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function T(e,t,n){if(null==e)return e;var r=[],i=0;return S(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function I(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var C={current:null};function N(){var e=C.current;if(null===e)throw Error(d(321));return e}var P={ReactCurrentDispatcher:C,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:k,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!j(e))throw Error(d(143));return e}},t.Component=y,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=k.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!_.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:u,props:a,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=O,t.createFactory=function(e){var t=O.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=j,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return N().useCallback(e,t)},t.useContext=function(e,t){return N().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return N().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return N().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return N().useLayoutEffect(e,t)},t.useMemo=function(e,t){return N().useMemo(e,t)},t.useReducer=function(e,t,n){return N().useReducer(e,t,n)},t.useRef=function(e){return N().useRef(e)},t.useState=function(e){return N().useState(e)},t.version="17.0.2"},function(e,t,n){"use strict";var r=n(1),i=n(84),a=n(120);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var u=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function y(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new y(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new y(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new y(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new y(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new y(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new y(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new y(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new y(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new y(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,b);m[t]=new y(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,b);m[t]=new y(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,b);m[t]=new y(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new y(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new y(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=60103,O=60106,j=60107,x=60108,E=60114,S=60109,T=60110,I=60112,C=60113,N=60120,P=60115,R=60116,A=60121,D=60128,L=60129,M=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;_=U("react.element"),O=U("react.portal"),j=U("react.fragment"),x=U("react.strict_mode"),E=U("react.profiler"),S=U("react.provider"),T=U("react.context"),I=U("react.forward_ref"),C=U("react.suspense"),N=U("react.suspense_list"),P=U("react.memo"),R=U("react.lazy"),A=U("react.block"),U("react.scope"),D=U("react.opaque.id"),L=U("react.debug_trace_mode"),M=U("react.offscreen"),F=U("react.legacy_hidden")}var V,q="function"===typeof Symbol&&Symbol.iterator;function z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=q&&e[q]||e["@@iterator"])?e:null}function B(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var W=!1;function H(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var i=s.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=u);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function K(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 22:return e=H(e.type._render,!1);case 1:return e=H(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case j:return"Fragment";case O:return"Portal";case E:return"Profiler";case x:return"StrictMode";case C:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return G(e.type);case A:return G(e._render);case R:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,ye,me=(ye=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ye(e,t)}))}:ye);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ke=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function _e(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(be).forEach((function(e){ke.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var Oe=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function je(e,t){if(t){if(Oe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Te=null,Ie=null;function Ce(e){if(e=ei(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=ni(t),Se(e.stateNode,e.type,t))}}function Ne(e){Te?Ie?Ie.push(e):Ie=[e]:Te=e}function Pe(){if(Te){var e=Te,t=Ie;if(Ie=Te=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Re(e,t){return e(t)}function Ae(e,t,n,r,i){return e(t,n,r,i)}function De(){}var Le=Re,Me=!1,Fe=!1;function Ue(){null===Te&&null===Ie||(De(),Pe())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ni(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var qe=!1;if(f)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){qe=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(ye){qe=!1}function Be(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var We=!1,He=null,Ke=!1,Ge=null,Qe={onError:function(e){We=!0,He=e}};function $e(e,t,n,r,i,a,o,u,s){We=!1,He=null,Be.apply(Qe,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Xe(e){if(Ye(e)!==e)throw Error(o(188))}function Ze(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Xe(i),e;if(a===r)return Xe(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],ut=null,st=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":ut=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function yt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ei(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function mt(e){var t=Zr(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Je(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ei(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){gt(e)&&n.delete(t)}function kt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ei(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==ut&&gt(ut)&&(ut=null),null!==st&&gt(st)&&(st=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(bt),ft.forEach(bt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,kt)))}function _t(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ut&&wt(ut,e),null!==st&&wt(st,e),null!==ct&&wt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)mt(n),null===n.blockedOn&&ht.shift()}function Ot(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var jt={animationend:Ot("Animation","AnimationEnd"),animationiteration:Ot("Animation","AnimationIteration"),animationstart:Ot("Animation","AnimationStart"),transitionend:Ot("Transition","TransitionEnd")},xt={},Et={};function St(e){if(xt[e])return xt[e];if(!jt[e])return e;var t,n=jt[e];for(t in n)if(n.hasOwnProperty(t)&&t in Et)return xt[e]=n[t];return e}f&&(Et=document.createElement("div").style,"AnimationEvent"in window||(delete jt.animationend.animation,delete jt.animationiteration.animation,delete jt.animationstart.animation),"TransitionEvent"in window||delete jt.transitionend.transition);var Tt=St("animationend"),It=St("animationiteration"),Ct=St("animationstart"),Nt=St("transitionend"),Pt=new Map,Rt=new Map,At=["abort","abort",Tt,"animationEnd",It,"animationIteration",Ct,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Nt,"transitionEnd","waiting","waiting"];function Dt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Rt.set(r,t),Pt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Lt=8;function Mt(e){if(0!==(1&e))return Lt=15,1;if(0!==(2&e))return Lt=14,2;if(0!==(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!==(32&e)?(Lt=11,32):0!==(t=192&e)?(Lt=10,t):0!==(256&e)?(Lt=9,256):0!==(t=3584&e)?(Lt=8,t):0!==(4096&e)?(Lt=7,4096):0!==(t=4186112&e)?(Lt=6,t):0!==(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!==(134217728&e)?(Lt=3,134217728):0!==(t=805306368&e)?(Lt=2,t):0!==(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,u=e.pingedLanes;if(0!==a)r=a,i=Lt=15;else if(0!==(a=134217727&n)){var s=a&~o;0!==s?(r=Mt(s),i=Lt):0!==(u&=a)&&(r=Mt(u),i=Lt)}else 0!==(a=n&~o)?(r=Mt(a),i=Lt):0!==u&&(r=Mt(u),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-Wt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Mt(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Wt(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=qt(24&~t))?Vt(10,t):e;case 10:return 0===(e=qt(192&~t))?Vt(8,t):e;case 8:return 0===(e=qt(3584&~t))&&(0===(e=qt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=qt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function qt(e){return e&-e}function zt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Wt(t)]=n}var Wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ht(e)/Kt|0)|0},Ht=Math.log,Kt=Math.LN2;var Gt=a.unstable_UserBlockingPriority,Qt=a.unstable_runWithPriority,$t=!0;function Yt(e,t,n,r){Me||De();var i=Xt,a=Me;Me=!0;try{Ae(i,e,t,n,r)}finally{(Me=a)||Ue()}}function Jt(e,t,n,r){Qt(Gt,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){var i;if($t)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ut=yt(ut,e,t,n,r,i),!0;case"dragenter":return st=yt(st,e,t,n,r,i),!0;case"mouseover":return ct=yt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,yt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,yt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Pr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Ee(r);if(null!==(i=Zr(i))){var a=Ye(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Je(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Pr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function un(){return!1}function sn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:un,this.isPropagationStopped=un,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(hn),pn=i({},hn,{view:0,detail:0}),vn=sn(pn),yn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),mn=sn(yn),gn=sn(i({},yn,{dataTransfer:0})),bn=sn(i({},pn,{relatedTarget:0})),kn=sn(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=sn(i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),_n=sn(i({},hn,{data:0})),On={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function Sn(){return En}var Tn=sn(i({},pn,{key:function(e){if(e.key){var t=On[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?jn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),In=sn(i({},yn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=sn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Nn=sn(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=sn(i({},yn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Rn=[9,13,27,32],An=f&&"CompositionEvent"in window,Dn=null;f&&"documentMode"in document&&(Dn=document.documentMode);var Ln=f&&"TextEvent"in window&&!Dn,Mn=f&&(!An||Dn&&8<Dn&&11>=Dn),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ne(r),0<(t=Ar(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Er(e,0)}function $n(e){if(J(ti(e)))return e}function Yn(e,t){if("change"===e)return t}var Jn=!1;if(f){var Xn;if(f){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&$n(Gn)){var t=[];if(Hn(t,Gn,e,Ee(e)),e=Qn,Me)e(t);else{Me=!0;try{Re(e,t)}finally{Me=!1,Ue()}}}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Gn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},sr=Object.prototype.hasOwnProperty;function cr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!sr.call(t,n[r])||!ur(e[n[r]],t[n[r]]))return!1;return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var vr=f&&"documentMode"in document&&11>=document.documentMode,yr=null,mr=null,gr=null,br=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==yr||yr!==X(r)||("selectionStart"in(r=yr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&cr(gr,r)||(gr=r,0<(r=Ar(mr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}Dt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Dt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Dt(At,2);for(var wr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),_r=0;_r<wr.length;_r++)Rt.set(wr[_r],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function xr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,u,s,c){if($e.apply(this,arguments),We){if(!We)throw Error(o(198));var l=He;We=!1,He=null,Ke||(Ke=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Er(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;xr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;xr(i,u,c),a=s}}}if(Ke)throw e=Ge,Ke=!1,Ge=null,e}function Sr(e,t){var n=ri(t),r=e+"__bubble";n.has(r)||(Nr(t,e,2,!1),n.add(r))}var Tr="_reactListening"+Math.random().toString(36).slice(2);function Ir(e){e[Tr]||(e[Tr]=!0,u.forEach((function(t){jr.has(t)||Cr(t,!1,e,null),Cr(t,!0,e,null)})))}function Cr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&jr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=ri(a),u=e+"__"+(t?"capture":"bubble");o.has(u)||(t&&(i|=4),Nr(a,e,i,t),o.add(u))}function Nr(e,t,n,r){var i=Rt.get(t);switch(void 0===i?2:i){case 0:i=Yt;break;case 1:i=Jt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!qe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Pr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=Zr(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{Le(e,t,n)}finally{Fe=!1,Ue()}}((function(){var r=a,i=Ee(n),o=[];e:{var u=Pt.get(e);if(void 0!==u){var s=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=bn;break;case"focusout":c="blur",s=bn;break;case"beforeblur":case"afterblur":s=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Cn;break;case Tt:case It:case Ct:s=kn;break;case Nt:s=Nn;break;case"scroll":s=vn;break;case"wheel":s=Pn;break;case"copy":case"cut":case"paste":s=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=In}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ve(p,h))&&l.push(Rr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!Zr(c)&&!c[Jr])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?Zr(c):null)&&(c!==(f=Ye(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=mn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=In,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:ti(s),d=null==c?u:ti(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,Zr(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Dr(d))p++;for(d=0,v=h;v;v=Dr(v))d++;for(;0<p-d;)l=Dr(l),p--;for(;0<d-p;)h=Dr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Dr(l),h=Dr(h)}l=null}else l=null;null!==s&&Lr(o,u,s,l,!1),null!==c&&null!==f&&Lr(o,f,c,l,!0)}if("select"===(s=(u=r?ti(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var y=Yn;else if(Wn(u))if(Jn)y=or;else{y=ir;var m=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(y=ar);switch(y&&(y=y(e,r))?Hn(o,y,n,i):(m&&m(e,u,r),"focusout"===e&&(m=u._wrapperState)&&m.controlled&&"number"===u.type&&ie(u,"number",u.value)),m=r?ti(r):window,e){case"focusin":(Wn(m)||"true"===m.contentEditable)&&(yr=m,mr=r,gr=null);break;case"focusout":gr=mr=yr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,kr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":kr(o,n,i)}var g;if(An)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,zn=!0)),0<(m=Ar(r,b)).length&&(b=new _n(b,e,null,n,i),o.push({event:b,listeners:m}),g?b.data=g:null!==(g=qn(n))&&(b.data=g))),(g=Ln?function(e,t){switch(e){case"compositionend":return qn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!An&&Vn(e,t)?(e=rn(),nn=tn=en=null,zn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&(0<(r=Ar(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Er(o,t)}))}function Rr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ar(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ve(e,n))&&r.unshift(Rr(e,a,i)),null!=(a=Ve(e,t))&&r.push(Rr(e,a,i))),e=e.return}return r}function Dr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Lr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Ve(n,a))&&o.unshift(Rr(n,s,u)):i||null!=(s=Ve(n,a))&&o.push(Rr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Mr(){}var Fr=null,Ur=null;function Vr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function qr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var zr="function"===typeof setTimeout?setTimeout:void 0,Br="function"===typeof clearTimeout?clearTimeout:void 0;function Wr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Hr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Kr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Gr=0;var Qr=Math.random().toString(36).slice(2),$r="__reactFiber$"+Qr,Yr="__reactProps$"+Qr,Jr="__reactContainer$"+Qr,Xr="__reactEvents$"+Qr;function Zr(e){var t=e[$r];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Jr]||n[$r]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Kr(e);null!==e;){if(n=e[$r])return n;e=Kr(e)}return t}n=(e=n).parentNode}return null}function ei(e){return!(e=e[$r]||e[Jr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ti(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ni(e){return e[Yr]||null}function ri(e){var t=e[Xr];return void 0===t&&(t=e[Xr]=new Set),t}var ii=[],ai=-1;function oi(e){return{current:e}}function ui(e){0>ai||(e.current=ii[ai],ii[ai]=null,ai--)}function si(e,t){ai++,ii[ai]=e.current,e.current=t}var ci={},li=oi(ci),fi=oi(!1),hi=ci;function di(e,t){var n=e.type.contextTypes;if(!n)return ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function vi(){ui(fi),ui(li)}function yi(e,t,n){if(li.current!==ci)throw Error(o(168));si(li,t),si(fi,n)}function mi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function gi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ci,hi=li.current,si(li,e),si(fi,fi.current),!0}function bi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=mi(e,t,hi),r.__reactInternalMemoizedMergedChildContext=e,ui(fi),ui(li),si(li,e)):ui(fi),si(fi,n)}var ki=null,wi=null,_i=a.unstable_runWithPriority,Oi=a.unstable_scheduleCallback,ji=a.unstable_cancelCallback,xi=a.unstable_shouldYield,Ei=a.unstable_requestPaint,Si=a.unstable_now,Ti=a.unstable_getCurrentPriorityLevel,Ii=a.unstable_ImmediatePriority,Ci=a.unstable_UserBlockingPriority,Ni=a.unstable_NormalPriority,Pi=a.unstable_LowPriority,Ri=a.unstable_IdlePriority,Ai={},Di=void 0!==Ei?Ei:function(){},Li=null,Mi=null,Fi=!1,Ui=Si(),Vi=1e4>Ui?Si:function(){return Si()-Ui};function qi(){switch(Ti()){case Ii:return 99;case Ci:return 98;case Ni:return 97;case Pi:return 96;case Ri:return 95;default:throw Error(o(332))}}function zi(e){switch(e){case 99:return Ii;case 98:return Ci;case 97:return Ni;case 96:return Pi;case 95:return Ri;default:throw Error(o(332))}}function Bi(e,t){return e=zi(e),_i(e,t)}function Wi(e,t,n){return e=zi(e),Oi(e,t,n)}function Hi(){if(null!==Mi){var e=Mi;Mi=null,ji(e)}Ki()}function Ki(){if(!Fi&&null!==Li){Fi=!0;var e=0;try{var t=Li;Bi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Li=null}catch(n){throw null!==Li&&(Li=Li.slice(e+1)),Oi(Ii,Hi),n}finally{Fi=!1}}}var Gi=w.ReactCurrentBatchConfig;function Qi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var $i=oi(null),Yi=null,Ji=null,Xi=null;function Zi(){Xi=Ji=Yi=null}function ea(e){var t=$i.current;ui($i),e.type._context._currentValue=t}function ta(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function na(e,t){Yi=e,Xi=Ji=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Ao=!0),e.firstContext=null)}function ra(e,t){if(Xi!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(Xi=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Ji){if(null===Yi)throw Error(o(308));Ji=t,Yi.dependencies={lanes:0,firstContext:t,responders:null}}else Ji=Ji.next=t;return e._currentValue}var ia=!1;function aa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ua(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function sa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ca(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function la(e,t,n,r){var a=e.updateQueue;ia=!1;var o=a.firstBaseUpdate,u=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var c=s,l=c.next;c.next=null,null===u?o=l:u.next=l,u=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==u&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,u=0,f=l=c=null;;){s=o.lane;var d=o.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(s=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,s);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=v.payload)?p.call(d,h,s):p)||void 0===s)break e;h=i({},h,s);break e;case 2:ia=!0}}null!==o.callback&&(e.flags|=32,null===(s=a.effects)?a.effects=[o]:s.push(o))}else d={eventTime:d,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,u|=s;if(null===(o=o.next)){if(null===(s=a.shared.pending))break;o=s.next,s.next=null,a.lastBaseUpdate=s,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,Fu|=u,e.lanes=u,e.memoizedState=h}}function fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var ha=(new r.Component).refs;function da(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var pa={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=cs(),i=ls(e),a=ua(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),sa(e,a),fs(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=cs(),i=ls(e),a=ua(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),sa(e,a),fs(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=cs(),r=ls(e),i=ua(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),sa(e,i),fs(e,r,n)}};function va(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,r)||!cr(i,a))}function ya(e,t,n){var r=!1,i=ci,a=t.contextType;return"object"===typeof a&&null!==a?a=ra(a):(i=pi(t)?hi:li.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?di(e,i):ci),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=pa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ma(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&pa.enqueueReplaceState(t,t.state,null)}function ga(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ha,aa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=ra(a):(a=pi(t)?hi:li.current,i.context=di(e,a)),la(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(da(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&pa.enqueueReplaceState(i,i.state,null),la(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var ba=Array.isArray;function ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===ha&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function wa(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function _a(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Bs(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Gs(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=ka(e,t,n),r.return=e,r):((r=Ws(n.type,n.key,n.props,null,e.mode,r)).ref=ka(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Qs(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Hs(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Gs(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Ws(t.type,t.key,t.props,null,e.mode,n)).ref=ka(e,null,t),n.return=e,n;case O:return(t=Qs(t,e.mode,n)).return=e,t}if(ba(t)||z(t))return(t=Hs(t,e.mode,n,null)).return=e,t;wa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?n.type===j?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case O:return n.key===i?l(e,t,n,r):null}if(ba(n)||z(n))return null!==i?null:f(e,t,n,r,null);wa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return e=e.get(null===r.key?n:r.key)||null,r.type===j?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case O:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(ba(r)||z(r))return f(t,e=e.get(n)||null,r,i,null);wa(t,r)}return null}function v(i,o,u,s){for(var c=null,l=null,f=o,v=o=0,y=null;null!==f&&v<u.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=d(i,f,u[v],s);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m,f=y}if(v===u.length)return n(i,f),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<u.length;v++)null!==(y=p(f,i,v,u[v],s))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach((function(e){return t(i,e)})),c}function y(i,u,s,c){var l=z(s);if("function"!==typeof l)throw Error(o(150));if(null==(s=l.call(s)))throw Error(o(151));for(var f=l=null,v=u,y=u=0,m=null,g=s.next();null!==v&&!g.done;y++,g=s.next()){v.index>y?(m=v,v=null):m=v.sibling;var b=d(i,v,g.value,c);if(null===b){null===v&&(v=m);break}e&&v&&null===b.alternate&&t(i,v),u=a(b,u,y),null===f?l=b:f.sibling=b,f=b,v=m}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;y++,g=s.next())null!==(g=h(i,g.value,c))&&(u=a(g,u,y),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;y++,g=s.next())null!==(g=p(v,i,y,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),u=a(g,u,y),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,s){var c="object"===typeof a&&null!==a&&a.type===j&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case _:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){switch(c.tag){case 7:if(a.type===j){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}break;default:if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=ka(e,c,a),r.return=e,e=r;break e}}n(e,c);break}t(e,c),c=c.sibling}a.type===j?((r=Hs(a.props.children,e.mode,s,a.key)).return=e,e=r):((s=Ws(a.type,a.key,a.props,null,e.mode,s)).ref=ka(e,r,a),s.return=e,e=s)}return u(e);case O:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Qs(a,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Gs(a,e.mode,s)).return=e,e=r),u(e);if(ba(a))return v(e,r,a,s);if(z(a))return y(e,r,a,s);if(l&&wa(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Oa=_a(!0),ja=_a(!1),xa={},Ea=oi(xa),Sa=oi(xa),Ta=oi(xa);function Ia(e){if(e===xa)throw Error(o(174));return e}function Ca(e,t){switch(si(Ta,t),si(Sa,e),si(Ea,xa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ui(Ea),si(Ea,t)}function Na(){ui(Ea),ui(Sa),ui(Ta)}function Pa(e){Ia(Ta.current);var t=Ia(Ea.current),n=pe(t,e.type);t!==n&&(si(Sa,e),si(Ea,n))}function Ra(e){Sa.current===e&&(ui(Ea),ui(Sa))}var Aa=oi(0);function Da(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var La=null,Ma=null,Fa=!1;function Ua(e,t){var n=qs(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Va(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function qa(e){if(Fa){var t=Ma;if(t){var n=t;if(!Va(e,t)){if(!(t=Hr(n.nextSibling))||!Va(e,t))return e.flags=-1025&e.flags|2,Fa=!1,void(La=e);Ua(La,n)}La=e,Ma=Hr(t.firstChild)}else e.flags=-1025&e.flags|2,Fa=!1,La=e}}function za(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;La=e}function Ba(e){if(e!==La)return!1;if(!Fa)return za(e),Fa=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!qr(t,e.memoizedProps))for(t=Ma;t;)Ua(e,t),t=Hr(t.nextSibling);if(za(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ma=Hr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ma=null}}else Ma=La?Hr(e.stateNode.nextSibling):null;return!0}function Wa(){Ma=La=null,Fa=!1}var Ha=[];function Ka(){for(var e=0;e<Ha.length;e++)Ha[e]._workInProgressVersionPrimary=null;Ha.length=0}var Ga=w.ReactCurrentDispatcher,Qa=w.ReactCurrentBatchConfig,$a=0,Ya=null,Ja=null,Xa=null,Za=!1,eo=!1;function to(){throw Error(o(321))}function no(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function ro(e,t,n,r,i,a){if($a=a,Ya=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ga.current=null===e||null===e.memoizedState?Co:No,e=n(r,i),eo){a=0;do{if(eo=!1,!(25>a))throw Error(o(301));a+=1,Xa=Ja=null,t.updateQueue=null,Ga.current=Po,e=n(r,i)}while(eo)}if(Ga.current=Io,t=null!==Ja&&null!==Ja.next,$a=0,Xa=Ja=Ya=null,Za=!1,t)throw Error(o(300));return e}function io(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Xa?Ya.memoizedState=Xa=e:Xa=Xa.next=e,Xa}function ao(){if(null===Ja){var e=Ya.alternate;e=null!==e?e.memoizedState:null}else e=Ja.next;var t=null===Xa?Ya.memoizedState:Xa.next;if(null!==t)Xa=t,Ja=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Ja=e).memoizedState,baseState:Ja.baseState,baseQueue:Ja.baseQueue,queue:Ja.queue,next:null},null===Xa?Ya.memoizedState=Xa=e:Xa=Xa.next=e}return Xa}function oo(e,t){return"function"===typeof t?t(e):t}function uo(e){var t=ao(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Ja,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=a=null,c=i;do{var l=c.lane;if(($a&l)===l)null!==s&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,a=r):s=s.next=f,Ya.lanes|=l,Fu|=l}c=c.next}while(null!==c&&c!==i);null===s?a=r:s.next=u,ur(r,t.memoizedState)||(Ao=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function so(e){var t=ao(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);ur(a,t.memoizedState)||(Ao=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function co(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=($a&e)===e)&&(t._workInProgressVersionPrimary=r,Ha.push(t))),e)return n(t._source);throw Ha.push(t),Error(o(350))}function lo(e,t,n,r){var i=Cu;if(null===i)throw Error(o(349));var a=t._getVersion,u=a(t._source),s=Ga.current,c=s.useState((function(){return co(i,t,n)})),l=c[1],f=c[0];c=Xa;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var y=Ya;return e.memoizedState={refs:d,source:t,subscribe:r},s.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!ur(u,e)){e=n(t._source),ur(f,e)||(l(e),e=ls(y),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var s=31-Wt(o),c=1<<s;r[s]|=e,o&=~c}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=ls(y);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),ur(p,n)&&ur(v,t)&&ur(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:oo,lastRenderedState:f}).dispatch=l=To.bind(null,Ya,e),c.queue=e,c.baseQueue=null,f=co(i,t,n),c.memoizedState=c.baseState=f),f}function fo(e,t,n){return lo(ao(),e,t,n)}function ho(e){var t=io();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:oo,lastRenderedState:e}).dispatch=To.bind(null,Ya,e),[t.memoizedState,e]}function po(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Ya.updateQueue)?(t={lastEffect:null},Ya.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function vo(e){return e={current:e},io().memoizedState=e}function yo(){return ao().memoizedState}function mo(e,t,n,r){var i=io();Ya.flags|=e,i.memoizedState=po(1|t,n,void 0,void 0===r?null:r)}function go(e,t,n,r){var i=ao();r=void 0===r?null:r;var a=void 0;if(null!==Ja){var o=Ja.memoizedState;if(a=o.destroy,null!==r&&no(r,o.deps))return void po(t,n,a,r)}Ya.flags|=e,i.memoizedState=po(1|t,n,a,r)}function bo(e,t){return mo(516,4,e,t)}function ko(e,t){return go(516,4,e,t)}function wo(e,t){return go(4,2,e,t)}function _o(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Oo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,go(4,2,_o.bind(null,t,e),n)}function jo(){}function xo(e,t){var n=ao();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&no(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Eo(e,t){var n=ao();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&no(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function So(e,t){var n=qi();Bi(98>n?98:n,(function(){e(!0)})),Bi(97<n?97:n,(function(){var n=Qa.transition;Qa.transition=1;try{e(!1),t()}finally{Qa.transition=n}}))}function To(e,t,n){var r=cs(),i=ls(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Ya||null!==o&&o===Ya)eo=Za=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=o(u,n);if(a.eagerReducer=o,a.eagerState=s,ur(s,u))return}catch(c){}fs(e,i,r)}}var Io={readContext:ra,useCallback:to,useContext:to,useEffect:to,useImperativeHandle:to,useLayoutEffect:to,useMemo:to,useReducer:to,useRef:to,useState:to,useDebugValue:to,useDeferredValue:to,useTransition:to,useMutableSource:to,useOpaqueIdentifier:to,unstable_isNewReconciler:!1},Co={readContext:ra,useCallback:function(e,t){return io().memoizedState=[e,void 0===t?null:t],e},useContext:ra,useEffect:bo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,mo(4,2,_o.bind(null,t,e),n)},useLayoutEffect:function(e,t){return mo(4,2,e,t)},useMemo:function(e,t){var n=io();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=io();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=To.bind(null,Ya,e),[r.memoizedState,e]},useRef:vo,useState:ho,useDebugValue:jo,useDeferredValue:function(e){var t=ho(e),n=t[0],r=t[1];return bo((function(){var t=Qa.transition;Qa.transition=1;try{r(e)}finally{Qa.transition=t}}),[e]),n},useTransition:function(){var e=ho(!1),t=e[0];return vo(e=So.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=io();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},lo(r,e,t,n)},useOpaqueIdentifier:function(){if(Fa){var e=!1,t=function(e){return{$$typeof:D,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Gr++).toString(36))),Error(o(355))})),n=ho(t)[1];return 0===(2&Ya.mode)&&(Ya.flags|=516,po(5,(function(){n("r:"+(Gr++).toString(36))}),void 0,null)),t}return ho(t="r:"+(Gr++).toString(36)),t},unstable_isNewReconciler:!1},No={readContext:ra,useCallback:xo,useContext:ra,useEffect:ko,useImperativeHandle:Oo,useLayoutEffect:wo,useMemo:Eo,useReducer:uo,useRef:yo,useState:function(){return uo(oo)},useDebugValue:jo,useDeferredValue:function(e){var t=uo(oo),n=t[0],r=t[1];return ko((function(){var t=Qa.transition;Qa.transition=1;try{r(e)}finally{Qa.transition=t}}),[e]),n},useTransition:function(){var e=uo(oo)[0];return[yo().current,e]},useMutableSource:fo,useOpaqueIdentifier:function(){return uo(oo)[0]},unstable_isNewReconciler:!1},Po={readContext:ra,useCallback:xo,useContext:ra,useEffect:ko,useImperativeHandle:Oo,useLayoutEffect:wo,useMemo:Eo,useReducer:so,useRef:yo,useState:function(){return so(oo)},useDebugValue:jo,useDeferredValue:function(e){var t=so(oo),n=t[0],r=t[1];return ko((function(){var t=Qa.transition;Qa.transition=1;try{r(e)}finally{Qa.transition=t}}),[e]),n},useTransition:function(){var e=so(oo)[0];return[yo().current,e]},useMutableSource:fo,useOpaqueIdentifier:function(){return so(oo)[0]},unstable_isNewReconciler:!1},Ro=w.ReactCurrentOwner,Ao=!1;function Do(e,t,n,r){t.child=null===e?ja(t,null,n,r):Oa(t,e.child,n,r)}function Lo(e,t,n,r,i){n=n.render;var a=t.ref;return na(t,i),r=ro(e,t,n,r,a,i),null===e||Ao?(t.flags|=1,Do(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,nu(e,t,i))}function Mo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||zs(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ws(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Fo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:cr)(i,r)&&e.ref===t.ref)?nu(e,t,a):(t.flags|=1,(e=Bs(o,r)).ref=t.ref,e.return=t,t.child=e)}function Fo(e,t,n,r,i,a){if(null!==e&&cr(e.memoizedProps,r)&&e.ref===t.ref){if(Ao=!1,0===(a&i))return t.lanes=e.lanes,nu(e,t,a);0!==(16384&e.flags)&&(Ao=!0)}return qo(e,t,n,r,a)}function Uo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},bs(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},bs(t,e),null;t.memoizedState={baseLanes:0},bs(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,bs(t,r);return Do(e,t,i,n),t.child}function Vo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function qo(e,t,n,r,i){var a=pi(n)?hi:li.current;return a=di(t,a),na(t,i),n=ro(e,t,n,r,a,i),null===e||Ao?(t.flags|=1,Do(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,nu(e,t,i))}function zo(e,t,n,r,i){if(pi(n)){var a=!0;gi(t)}else a=!1;if(na(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ya(t,n,r),ga(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=ra(c):c=di(t,c=pi(n)?hi:li.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&ma(t,o,r,c),ia=!1;var h=t.memoizedState;o.state=h,la(t,r,o,i),s=t.memoizedState,u!==r||h!==s||fi.current||ia?("function"===typeof l&&(da(t,n,l,r),s=t.memoizedState),(u=ia||va(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,oa(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Qi(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=ra(s):s=di(t,s=pi(n)?hi:li.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&ma(t,o,r,s),ia=!1,h=t.memoizedState,o.state=h,la(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||fi.current||ia?("function"===typeof d&&(da(t,n,d,r),p=t.memoizedState),(c=ia||va(t,n,c,r,h,p,s))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Bo(e,t,n,r,a,i)}function Bo(e,t,n,r,i,a){Vo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&bi(t,n,!1),nu(e,t,a);r=t.stateNode,Ro.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Oa(t,e.child,null,a),t.child=Oa(t,null,u,a)):Do(e,t,u,a),t.memoizedState=r.state,i&&bi(t,n,!0),t.child}function Wo(e){var t=e.stateNode;t.pendingContext?yi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&yi(0,t.context,!1),Ca(e,t.containerInfo)}var Ho,Ko,Go,Qo={dehydrated:null,retryLane:0};function $o(e,t,n){var r,i=t.pendingProps,a=Aa.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),si(Aa,1&a),null===e?(void 0!==i.fallback&&qa(t),e=i.children,a=i.fallback,o?(e=Yo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Qo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Yo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Qo,t.lanes=33554432,e):((n=Ks({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=Xo(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Qo,i):(n=Jo(e,t,i.children,n),t.memoizedState=null,n))}function Yo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Ks(t,i,0,null),n=Hs(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function Jo(e,t,n,r){var i=e.child;return e=i.sibling,n=Bs(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function Xo(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var u={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=u,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Bs(o,u),null!==e?r=Bs(e,r):(r=Hs(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Zo(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ta(e.return,t)}function eu(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function tu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Do(e,t,r.children,n),0!==(2&(r=Aa.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Zo(e,n);else if(19===e.tag)Zo(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(si(Aa,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Da(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),eu(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Da(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}eu(t,!0,n,null,a,t.lastEffect);break;case"together":eu(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function nu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fu|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Bs(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Bs(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ru(e,t){if(!Fa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function iu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return pi(t.type)&&vi(),null;case 3:return Na(),ui(fi),ui(li),Ka(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ba(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ra(t);var a=Ia(Ta.current);if(n=t.type,null!==e&&null!=t.stateNode)Ko(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Ia(Ea.current),Ba(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[$r]=t,r[Yr]=u,n){case"dialog":Sr("cancel",r),Sr("close",r);break;case"iframe":case"object":case"embed":Sr("load",r);break;case"video":case"audio":for(e=0;e<Or.length;e++)Sr(Or[e],r);break;case"source":Sr("error",r);break;case"img":case"image":case"link":Sr("error",r),Sr("load",r);break;case"details":Sr("toggle",r);break;case"input":ee(r,u),Sr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Sr("invalid",r);break;case"textarea":se(r,u),Sr("invalid",r)}for(var c in je(n,u),e=null,u)u.hasOwnProperty(c)&&(a=u[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):s.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Sr("scroll",r));switch(n){case"input":Y(r),re(r,u,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=Mr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[$r]=t,e[Yr]=r,Ho(e,t),t.stateNode=e,c=xe(n,r),n){case"dialog":Sr("cancel",e),Sr("close",e),a=r;break;case"iframe":case"object":case"embed":Sr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Or.length;a++)Sr(Or[a],e);a=r;break;case"source":Sr("error",e),a=r;break;case"img":case"image":case"link":Sr("error",e),Sr("load",e),a=r;break;case"details":Sr("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Sr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Sr("invalid",e);break;case"textarea":se(e,r),a=ue(e,r),Sr("invalid",e);break;default:a=r}je(n,a);var l=a;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?_e(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&me(e,f):"children"===u?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=f&&"onScroll"===u&&Sr("scroll",e):null!=f&&k(e,u,f,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?oe(e,!!r.multiple,u,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Mr)}Vr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Go(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Ia(Ta.current),Ia(Ea.current),Ba(t)?(r=t.stateNode,n=t.memoizedProps,r[$r]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[$r]=t,t.stateNode=r)}return null;case 13:return ui(Aa),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ba(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Aa.current)?0===Du&&(Du=3):(0!==Du&&3!==Du||(Du=4),null===Cu||0===(134217727&Fu)&&0===(134217727&Uu)||vs(Cu,Pu))),(r||n)&&(t.flags|=4),null);case 4:return Na(),null===e&&Ir(t.stateNode.containerInfo),null;case 10:return ea(t),null;case 17:return pi(t.type)&&vi(),null;case 19:if(ui(Aa),null===(r=t.memoizedState))return null;if(u=0!==(64&t.flags),null===(c=r.rendering))if(u)ru(r,!1);else{if(0!==Du||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Da(e))){for(t.flags|=64,ru(r,!1),null!==(u=c.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return si(Aa,1&Aa.current|2),t.child}e=e.sibling}null!==r.tail&&Vi()>Bu&&(t.flags|=64,u=!0,ru(r,!1),t.lanes=33554432)}else{if(!u)if(null!==(e=Da(c))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ru(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Fa)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Vi()-r.renderingStartTime>Bu&&1073741824!==n&&(t.flags|=64,u=!0,ru(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Vi(),n.sibling=null,t=Aa.current,si(Aa,u?1&t|2:1&t),n):null;case 23:case 24:return ks(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function au(e){switch(e.tag){case 1:pi(e.type)&&vi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Na(),ui(fi),ui(li),Ka(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ra(e),null;case 13:return ui(Aa),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ui(Aa),null;case 4:return Na(),null;case 10:return ea(e),null;case 23:case 24:return ks(),null;default:return null}}function ou(e,t){try{var n="",r=t;do{n+=K(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function uu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Ho=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ko=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Ia(Ea.current);var o,u=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),u=[];break;case"option":a=ae(e,a),r=ae(e,r),u=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),u=[];break;case"textarea":a=ue(e,a),r=ue(e,r),u=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Mr)}for(f in je(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?u||(u=[]):(u=u||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(u||(u=[]),u.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(u=u||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(u=u||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Sr("scroll",e),u||c===l||(u=[])):"object"===typeof l&&null!==l&&l.$$typeof===D?l.toString():(u=u||[]).push(f,l))}n&&(u=u||[]).push("style",n);var f=u;(t.updateQueue=f)&&(t.flags|=4)}},Go=function(e,t,n,r){n!==r&&(t.flags|=4)};var su="function"===typeof WeakMap?WeakMap:Map;function cu(e,t,n){(n=ua(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gu||(Gu=!0,Qu=r),uu(0,t)},n}function lu(e,t,n){(n=ua(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return uu(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===$u?$u=new Set([this]):$u.add(this),uu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var fu="function"===typeof WeakSet?WeakSet:Set;function hu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Ms(e,n)}else t.current=null}function du(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Qi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Wr(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(o(163))}function pu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(As(n,e),Rs(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Qi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&fa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}fa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Vr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&_t(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(o(163))}function vu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function yu(e,t){if(wi&&"function"===typeof wi.onCommitFiberUnmount)try{wi.onCommitFiberUnmount(ki,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))As(t,n);else{r=t;try{i()}catch(a){Ms(r,a)}}n=n.next}while(n!==e)}break;case 1:if(hu(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Ms(t,a)}break;case 5:hu(t);break;case 4:_u(e,t)}}function mu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function gu(e){return 5===e.tag||3===e.tag||4===e.tag}function bu(e){e:{for(var t=e.return;null!==t;){if(gu(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||gu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?ku(e,n,t):wu(e,n,t)}function ku(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Mr));else if(4!==r&&null!==(e=e.child))for(ku(e,t,n),e=e.sibling;null!==e;)ku(e,t,n),e=e.sibling}function wu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(wu(e,t,n),e=e.sibling;null!==e;)wu(e,t,n),e=e.sibling}function _u(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var u=e,s=i,c=s;;)if(yu(u,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break e;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(u=n,s=i.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(yu(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Ou(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Yr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),xe(e,i),t=xe(e,r),i=0;i<a.length;i+=2){var u=a[i],s=a[i+1];"style"===u?_e(n,s):"dangerouslySetInnerHTML"===u?me(n,s):"children"===u?ge(n,s):k(n,u,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,_t(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(zu=Vi(),vu(t.child,!0)),void ju(t);case 19:return void ju(t);case 17:return;case 23:case 24:return void vu(t,null!==t.memoizedState)}throw Error(o(163))}function ju(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new fu),t.forEach((function(t){var r=Us.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function xu(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Eu=Math.ceil,Su=w.ReactCurrentDispatcher,Tu=w.ReactCurrentOwner,Iu=0,Cu=null,Nu=null,Pu=0,Ru=0,Au=oi(0),Du=0,Lu=null,Mu=0,Fu=0,Uu=0,Vu=0,qu=null,zu=0,Bu=1/0;function Wu(){Bu=Vi()+500}var Hu,Ku=null,Gu=!1,Qu=null,$u=null,Yu=!1,Ju=null,Xu=90,Zu=[],es=[],ts=null,ns=0,rs=null,is=-1,as=0,os=0,us=null,ss=!1;function cs(){return 0!==(48&Iu)?Vi():-1!==is?is:is=Vi()}function ls(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===qi()?1:2;if(0===as&&(as=Mu),0!==Gi.transition){0!==os&&(os=null!==qu?qu.pendingLanes:0),e=as;var t=4186112&~os;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=qi(),0!==(4&Iu)&&98===e?e=Vt(12,as):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),as),e}function fs(e,t,n){if(50<ns)throw ns=0,rs=null,Error(o(185));if(null===(e=hs(e,t)))return null;Bt(e,t,n),e===Cu&&(Uu|=t,4===Du&&vs(e,Pu));var r=qi();1===t?0!==(8&Iu)&&0===(48&Iu)?ys(e):(ds(e,n),0===Iu&&(Wu(),Hi())):(0===(4&Iu)||98!==r&&99!==r||(null===ts?ts=new Set([e]):ts.add(e)),ds(e,n)),qu=e}function hs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ds(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-Wt(u),c=1<<s,l=a[s];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Mt(c);var f=Lt;a[s]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);u&=~c}if(r=Ft(e,e===Cu?Pu:0),t=Lt,0===r)null!==n&&(n!==Ai&&ji(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Ai&&ji(n)}15===t?(n=ys.bind(null,e),null===Li?(Li=[n],Mi=Oi(Ii,Ki)):Li.push(n),n=Ai):14===t?n=Wi(99,ys.bind(null,e)):n=Wi(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),ps.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function ps(e){if(is=-1,os=as=0,0!==(48&Iu))throw Error(o(327));var t=e.callbackNode;if(Ps()&&e.callbackNode!==t)return null;var n=Ft(e,e===Cu?Pu:0);if(0===n)return null;var r=n,i=Iu;Iu|=16;var a=Os();for(Cu===e&&Pu===r||(Wu(),ws(e,r));;)try{Es();break}catch(s){_s(e,s)}if(Zi(),Su.current=a,Iu=i,null!==Nu?r=0:(Cu=null,Pu=0,r=Du),0!==(Mu&Uu))ws(e,0);else if(0!==r){if(2===r&&(Iu|=64,e.hydrate&&(e.hydrate=!1,Wr(e.containerInfo)),0!==(n=Ut(e))&&(r=js(e,n))),1===r)throw t=Lu,ws(e,0),vs(e,n),ds(e,Vi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:Is(e);break;case 3:if(vs(e,n),(62914560&n)===n&&10<(r=zu+500-Vi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){cs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=zr(Is.bind(null,e),r);break}Is(e);break;case 4:if(vs(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var u=31-Wt(n);a=1<<u,(u=r[u])>i&&(i=u),n&=~a}if(n=i,10<(n=(120>(n=Vi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Eu(n/1960))-n)){e.timeoutHandle=zr(Is.bind(null,e),n);break}Is(e);break;case 5:Is(e);break;default:throw Error(o(329))}}return ds(e,Vi()),e.callbackNode===t?ps.bind(null,e):null}function vs(e,t){for(t&=~Vu,t&=~Uu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function ys(e){if(0!==(48&Iu))throw Error(o(327));if(Ps(),e===Cu&&0!==(e.expiredLanes&Pu)){var t=Pu,n=js(e,t);0!==(Mu&Uu)&&(n=js(e,t=Ft(e,t)))}else n=js(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Iu|=64,e.hydrate&&(e.hydrate=!1,Wr(e.containerInfo)),0!==(t=Ut(e))&&(n=js(e,t))),1===n)throw n=Lu,ws(e,0),vs(e,t),ds(e,Vi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Is(e),ds(e,Vi()),null}function ms(e,t){var n=Iu;Iu|=1;try{return e(t)}finally{0===(Iu=n)&&(Wu(),Hi())}}function gs(e,t){var n=Iu;Iu&=-2,Iu|=8;try{return e(t)}finally{0===(Iu=n)&&(Wu(),Hi())}}function bs(e,t){si(Au,Ru),Ru|=t,Mu|=t}function ks(){Ru=Au.current,ui(Au)}function ws(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Br(n)),null!==Nu)for(n=Nu.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&vi();break;case 3:Na(),ui(fi),ui(li),Ka();break;case 5:Ra(r);break;case 4:Na();break;case 13:case 19:ui(Aa);break;case 10:ea(r);break;case 23:case 24:ks()}n=n.return}Cu=e,Nu=Bs(e.current,null),Pu=Ru=Mu=t,Du=0,Lu=null,Vu=Uu=Fu=0}function _s(e,t){for(;;){var n=Nu;try{if(Zi(),Ga.current=Io,Za){for(var r=Ya.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Za=!1}if($a=0,Xa=Ja=Ya=null,eo=!1,Tu.current=null,null===n||null===n.return){Du=1,Lu=t,Nu=null;break}e:{var a=e,o=n.return,u=n,s=t;if(t=Pu,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&u.mode)){var l=u.alternate;l?(u.updateQueue=l.updateQueue,u.memoizedState=l.memoizedState,u.lanes=l.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&Aa.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var y=h.updateQueue;if(null===y){var m=new Set;m.add(c),h.updateQueue=m}else y.add(c);if(0===(2&h.mode)){if(h.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var g=ua(-1,1);g.tag=2,sa(u,g)}u.lanes|=1;break e}s=void 0,u=t;var b=a.pingCache;if(null===b?(b=a.pingCache=new su,s=new Set,b.set(c,s)):void 0===(s=b.get(c))&&(s=new Set,b.set(c,s)),!s.has(u)){s.add(u);var k=Fs.bind(null,a,c,u);c.then(k,k)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);s=Error((G(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Du&&(Du=2),s=ou(s,u),h=o;do{switch(h.tag){case 3:a=s,h.flags|=4096,t&=-t,h.lanes|=t,ca(h,cu(0,a,t));break e;case 1:a=s;var w=h.type,_=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===$u||!$u.has(_)))){h.flags|=4096,t&=-t,h.lanes|=t,ca(h,lu(h,a,t));break e}}h=h.return}while(null!==h)}Ts(n)}catch(O){t=O,Nu===n&&null!==n&&(Nu=n=n.return);continue}break}}function Os(){var e=Su.current;return Su.current=Io,null===e?Io:e}function js(e,t){var n=Iu;Iu|=16;var r=Os();for(Cu===e&&Pu===t||ws(e,t);;)try{xs();break}catch(i){_s(e,i)}if(Zi(),Iu=n,Su.current=r,null!==Nu)throw Error(o(261));return Cu=null,Pu=0,Du}function xs(){for(;null!==Nu;)Ss(Nu)}function Es(){for(;null!==Nu&&!xi();)Ss(Nu)}function Ss(e){var t=Hu(e.alternate,e,Ru);e.memoizedProps=e.pendingProps,null===t?Ts(e):Nu=t,Tu.current=null}function Ts(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=iu(n,t,Ru)))return void(Nu=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ru)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=au(t)))return n.flags&=2047,void(Nu=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Nu=t);Nu=t=e}while(null!==t);0===Du&&(Du=5)}function Is(e){var t=qi();return Bi(99,Cs.bind(null,e,t)),null}function Cs(e,t){do{Ps()}while(null!==Ju);if(0!==(48&Iu))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var u=e.eventTimes,s=e.expirationTimes;0<a;){var c=31-Wt(a),l=1<<c;i[c]=0,u[c]=-1,s[c]=-1,a&=~l}if(null!==ts&&0===(24&r)&&ts.has(e)&&ts.delete(e),e===Cu&&(Nu=Cu=null,Pu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Iu,Iu|=32,Tu.current=null,Fr=$t,pr(u=dr())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else e:if(s=(s=u.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&0!==l.rangeCount){s=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch(E){s=null;break e}var f=0,h=-1,d=-1,p=0,v=0,y=u,m=null;t:for(;;){for(var g;y!==s||0!==a&&3!==y.nodeType||(h=f+a),y!==c||0!==l&&3!==y.nodeType||(d=f+l),3===y.nodeType&&(f+=y.nodeValue.length),null!==(g=y.firstChild);)m=y,y=g;for(;;){if(y===u)break t;if(m===s&&++p===a&&(h=f),m===c&&++v===l&&(d=f),null!==(g=y.nextSibling))break;m=(y=m).parentNode}y=g}s=-1===h||-1===d?null:{start:h,end:d}}else s=null;s=s||{start:0,end:0}}else s=null;Ur={focusedElem:u,selectionRange:s},$t=!1,us=null,ss=!1,Ku=r;do{try{Ns()}catch(E){if(null===Ku)throw Error(o(330));Ms(Ku,E),Ku=Ku.nextEffect}}while(null!==Ku);us=null,Ku=r;do{try{for(u=e;null!==Ku;){var b=Ku.flags;if(16&b&&ge(Ku.stateNode,""),128&b){var k=Ku.alternate;if(null!==k){var w=k.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&b){case 2:bu(Ku),Ku.flags&=-3;break;case 6:bu(Ku),Ku.flags&=-3,Ou(Ku.alternate,Ku);break;case 1024:Ku.flags&=-1025;break;case 1028:Ku.flags&=-1025,Ou(Ku.alternate,Ku);break;case 4:Ou(Ku.alternate,Ku);break;case 8:_u(u,s=Ku);var _=s.alternate;mu(s),null!==_&&mu(_)}Ku=Ku.nextEffect}}catch(E){if(null===Ku)throw Error(o(330));Ms(Ku,E),Ku=Ku.nextEffect}}while(null!==Ku);if(w=Ur,k=dr(),b=w.focusedElem,u=w.selectionRange,k!==b&&b&&b.ownerDocument&&hr(b.ownerDocument.documentElement,b)){null!==u&&pr(b)&&(k=u.start,void 0===(w=u.end)&&(w=k),"selectionStart"in b?(b.selectionStart=k,b.selectionEnd=Math.min(w,b.value.length)):(w=(k=b.ownerDocument||document)&&k.defaultView||window).getSelection&&(w=w.getSelection(),s=b.textContent.length,_=Math.min(u.start,s),u=void 0===u.end?_:Math.min(u.end,s),!w.extend&&_>u&&(s=u,u=_,_=s),s=fr(b,_),a=fr(b,u),s&&a&&(1!==w.rangeCount||w.anchorNode!==s.node||w.anchorOffset!==s.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((k=k.createRange()).setStart(s.node,s.offset),w.removeAllRanges(),_>u?(w.addRange(k),w.extend(a.node,a.offset)):(k.setEnd(a.node,a.offset),w.addRange(k))))),k=[];for(w=b;w=w.parentNode;)1===w.nodeType&&k.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<k.length;b++)(w=k[b]).element.scrollLeft=w.left,w.element.scrollTop=w.top}$t=!!Fr,Ur=Fr=null,e.current=n,Ku=r;do{try{for(b=e;null!==Ku;){var O=Ku.flags;if(36&O&&pu(b,Ku.alternate,Ku),128&O){k=void 0;var j=Ku.ref;if(null!==j){var x=Ku.stateNode;switch(Ku.tag){case 5:k=x;break;default:k=x}"function"===typeof j?j(k):j.current=k}}Ku=Ku.nextEffect}}catch(E){if(null===Ku)throw Error(o(330));Ms(Ku,E),Ku=Ku.nextEffect}}while(null!==Ku);Ku=null,Di(),Iu=i}else e.current=n;if(Yu)Yu=!1,Ju=e,Xu=t;else for(Ku=r;null!==Ku;)t=Ku.nextEffect,Ku.nextEffect=null,8&Ku.flags&&((O=Ku).sibling=null,O.stateNode=null),Ku=t;if(0===(r=e.pendingLanes)&&($u=null),1===r?e===rs?ns++:(ns=0,rs=e):ns=0,n=n.stateNode,wi&&"function"===typeof wi.onCommitFiberRoot)try{wi.onCommitFiberRoot(ki,n,void 0,64===(64&n.current.flags))}catch(E){}if(ds(e,Vi()),Gu)throw Gu=!1,e=Qu,Qu=null,e;return 0!==(8&Iu)||Hi(),null}function Ns(){for(;null!==Ku;){var e=Ku.alternate;ss||null===us||(0!==(8&Ku.flags)?et(Ku,us)&&(ss=!0):13===Ku.tag&&xu(e,Ku)&&et(Ku,us)&&(ss=!0));var t=Ku.flags;0!==(256&t)&&du(e,Ku),0===(512&t)||Yu||(Yu=!0,Wi(97,(function(){return Ps(),null}))),Ku=Ku.nextEffect}}function Ps(){if(90!==Xu){var e=97<Xu?97:Xu;return Xu=90,Bi(e,Ds)}return!1}function Rs(e,t){Zu.push(t,e),Yu||(Yu=!0,Wi(97,(function(){return Ps(),null})))}function As(e,t){es.push(t,e),Yu||(Yu=!0,Wi(97,(function(){return Ps(),null})))}function Ds(){if(null===Ju)return!1;var e=Ju;if(Ju=null,0!==(48&Iu))throw Error(o(331));var t=Iu;Iu|=32;var n=es;es=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],u=i.destroy;if(i.destroy=void 0,"function"===typeof u)try{u()}catch(c){if(null===a)throw Error(o(330));Ms(a,c)}}for(n=Zu,Zu=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var s=i.create;i.destroy=s()}catch(c){if(null===a)throw Error(o(330));Ms(a,c)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Iu=t,Hi(),!0}function Ls(e,t,n){sa(e,t=cu(0,t=ou(n,t),1)),t=cs(),null!==(e=hs(e,1))&&(Bt(e,1,t),ds(e,t))}function Ms(e,t){if(3===e.tag)Ls(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Ls(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===$u||!$u.has(r))){var i=lu(n,e=ou(t,e),1);if(sa(n,i),i=cs(),null!==(n=hs(n,1)))Bt(n,1,i),ds(n,i);else if("function"===typeof r.componentDidCatch&&(null===$u||!$u.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Fs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=cs(),e.pingedLanes|=e.suspendedLanes&n,Cu===e&&(Pu&n)===n&&(4===Du||3===Du&&(62914560&Pu)===Pu&&500>Vi()-zu?ws(e,0):Vu|=n),ds(e,t)}function Us(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===qi()?1:2:(0===as&&(as=Mu),0===(t=qt(62914560&~as))&&(t=4194304))),n=cs(),null!==(e=hs(e,t))&&(Bt(e,t,n),ds(e,n))}function Vs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function qs(e,t,n,r){return new Vs(e,t,n,r)}function zs(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Bs(e,t){var n=e.alternate;return null===n?((n=qs(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ws(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)zs(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case j:return Hs(n.children,i,a,t);case L:u=8,i|=16;break;case x:u=8,i|=1;break;case E:return(e=qs(12,n,t,8|i)).elementType=E,e.type=E,e.lanes=a,e;case C:return(e=qs(13,n,t,i)).type=C,e.elementType=C,e.lanes=a,e;case N:return(e=qs(19,n,t,i)).elementType=N,e.lanes=a,e;case M:return Ks(n,i,a,t);case F:return(e=qs(24,n,t,i)).elementType=F,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:u=10;break e;case T:u=9;break e;case I:u=11;break e;case P:u=14;break e;case R:u=16,r=null;break e;case A:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=qs(u,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Hs(e,t,n,r){return(e=qs(7,e,r,t)).lanes=n,e}function Ks(e,t,n,r){return(e=qs(23,e,r,t)).elementType=M,e.lanes=n,e}function Gs(e,t,n){return(e=qs(6,e,null,t)).lanes=n,e}function Qs(e,t,n){return(t=qs(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $s(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=zt(0),this.expirationTimes=zt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zt(0),this.mutableSourceEagerHydrationData=null}function Ys(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:O,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Js(e,t,n,r){var i=t.current,a=cs(),u=ls(i);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(pi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var c=n.type;if(pi(c)){n=mi(n,c,s);break e}}n=s}else n=ci;return null===t.context?t.context=n:t.pendingContext=n,(t=ua(a,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),sa(i,t),fs(i,u,a),u}function Xs(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Zs(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ec(e,t){Zs(e,t),(e=e.alternate)&&Zs(e,t)}function tc(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new $s(e,t,null!=n&&!0===n.hydrate),t=qs(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,aa(t),e[Jr]=n.current,Ir(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function nc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function rc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=Xs(o);u.call(e)}}Js(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new tc(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var s=i;i=function(){var e=Xs(o);s.call(e)}}gs((function(){Js(t,o,e,i)}))}return Xs(o)}function ic(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nc(t))throw Error(o(200));return Ys(e,t,null,n)}Hu=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||fi.current)Ao=!0;else{if(0===(n&r)){switch(Ao=!1,t.tag){case 3:Wo(t),Wa();break;case 5:Pa(t);break;case 1:pi(t.type)&&gi(t);break;case 4:Ca(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;si($i,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?$o(e,t,n):(si(Aa,1&Aa.current),null!==(t=nu(e,t,n))?t.sibling:null);si(Aa,1&Aa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return tu(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),si(Aa,Aa.current),r)break;return null;case 23:case 24:return t.lanes=0,Uo(e,t,n)}return nu(e,t,n)}Ao=0!==(16384&e.flags)}else Ao=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=di(t,li.current),na(t,n),i=ro(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,pi(r)){var a=!0;gi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,aa(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&da(t,r,u,e),i.updater=pa,t.stateNode=i,i._reactInternals=t,ga(t,r,e,n),t=Bo(null,t,r,!0,a,n)}else t.tag=0,Do(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return zs(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===P)return 14}return 2}(i),e=Qi(i,e),a){case 0:t=qo(null,t,i,e,n);break e;case 1:t=zo(null,t,i,e,n);break e;case 11:t=Lo(null,t,i,e,n);break e;case 14:t=Mo(null,t,i,Qi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,qo(e,t,r,i=t.elementType===r?i:Qi(r,i),n);case 1:return r=t.type,i=t.pendingProps,zo(e,t,r,i=t.elementType===r?i:Qi(r,i),n);case 3:if(Wo(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,oa(e,t),la(t,r,null,n),(r=t.memoizedState.element)===i)Wa(),t=nu(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Ma=Hr(t.stateNode.containerInfo.firstChild),La=t,a=Fa=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Ha.push(a);for(n=ja(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Do(e,t,r,n),Wa();t=t.child}return t;case 5:return Pa(t),null===e&&qa(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,qr(r,i)?u=null:null!==a&&qr(r,a)&&(t.flags|=16),Vo(e,t),Do(e,t,u,n),t.child;case 6:return null===e&&qa(t),null;case 13:return $o(e,t,n);case 4:return Ca(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Oa(t,null,r,n):Do(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Lo(e,t,r,i=t.elementType===r?i:Qi(r,i),n);case 7:return Do(e,t,t.pendingProps,n),t.child;case 8:case 12:return Do(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,a=i.value;var s=t.type._context;if(si($i,s._currentValue),s._currentValue=a,null!==u)if(s=u.value,0===(a=ur(s,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823))){if(u.children===i.children&&!fi.current){t=nu(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===s.tag&&((l=ua(-1,n&-n)).tag=2,sa(s,l)),s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ta(s.return,n),c.lanes|=n;break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}Do(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,na(t,n),r=r(i=ra(i,a.unstable_observedBits)),t.flags|=1,Do(e,t,r,n),t.child;case 14:return a=Qi(i=t.type,t.pendingProps),Mo(e,t,i,a=Qi(i.type,a),r,n);case 15:return Fo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Qi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,pi(r)?(e=!0,gi(t)):e=!1,na(t,n),ya(t,r,i),ga(t,r,i,n),Bo(null,t,r,!0,e,n);case 19:return tu(e,t,n);case 23:case 24:return Uo(e,t,n)}throw Error(o(156,t.tag))},tc.prototype.render=function(e){Js(e,this._internalRoot,null,null)},tc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Js(null,e,null,(function(){t[Jr]=null}))},tt=function(e){13===e.tag&&(fs(e,4,cs()),ec(e,4))},nt=function(e){13===e.tag&&(fs(e,67108864,cs()),ec(e,67108864))},rt=function(e){if(13===e.tag){var t=cs(),n=ls(e);fs(e,n,t),ec(e,n)}},it=function(e,t){return t()},Se=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ni(r);if(!i)throw Error(o(90));J(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Re=ms,Ae=function(e,t,n,r,i){var a=Iu;Iu|=4;try{return Bi(98,e.bind(null,t,n,r,i))}finally{0===(Iu=a)&&(Wu(),Hi())}},De=function(){0===(49&Iu)&&(function(){if(null!==ts){var e=ts;ts=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ds(e,Vi())}))}Hi()}(),Ps())},Le=function(e,t){var n=Iu;Iu|=2;try{return e(t)}finally{0===(Iu=n)&&(Wu(),Hi())}};var ac={Events:[ei,ti,ni,Ne,Pe,Ps,{current:!1}]},oc={findFiberByHostInstance:Zr,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},uc={bundleType:oc.bundleType,version:oc.version,rendererPackageName:oc.rendererPackageName,rendererConfig:oc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:oc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sc.isDisabled&&sc.supportsFiber)try{ki=sc.inject(uc),wi=sc}catch(ye){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ac,t.createPortal=ic,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Iu;if(0!==(48&n))return e(t);Iu|=1;try{if(e)return Bi(99,e.bind(null,t))}finally{Iu=n,Hi()}},t.hydrate=function(e,t,n){if(!nc(t))throw Error(o(200));return rc(null,e,t,!0,n)},t.render=function(e,t,n){if(!nc(t))throw Error(o(200));return rc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!nc(e))throw Error(o(40));return!!e._reactRootContainer&&(gs((function(){rc(null,null,e,!1,(function(){e._reactRootContainer=null,e[Jr]=null}))})),!0)},t.unstable_batchedUpdates=ms,t.unstable_createPortal=function(e,t){return ic(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return rc(e,t,n,!1,r)},t.version="17.0.2"},function(e,t,n){"use strict";e.exports=n(121)},function(e,t,n){"use strict";var r,i,a,o;if("object"===typeof performance&&"function"===typeof performance.now){var u=performance;t.unstable_now=function(){return u.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,f=null,h=function e(){if(null!==l)try{var n=t.unstable_now();l(!0,n),l=null}catch(r){throw setTimeout(e,0),r}};r=function(e){null!==l?setTimeout(r,0,e):(l=e,setTimeout(h,0))},i=function(e,t){f=setTimeout(e,t)},a=function(){clearTimeout(f)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var v=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var y=!1,m=null,g=-1,b=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,_=w.port2;w.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();k=e+b;try{m(!0,e)?_.postMessage(null):(y=!1,m=null)}catch(n){throw _.postMessage(null),n}}else y=!1},r=function(e){m=e,y||(y=!0,_.postMessage(null))},i=function(e,n){g=d((function(){e(t.unstable_now())}),n)},a=function(){p(g),g=-1}}function O(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<E(i,t)))break e;e[r]=t,e[n]=i,n=r}}function j(e){return void 0===(e=e[0])?null:e}function x(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],u=a+1,s=e[u];if(void 0!==o&&0>E(o,n))void 0!==s&&0>E(s,o)?(e[r]=s,e[u]=n,r=u):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==s&&0>E(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function E(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var S=[],T=[],I=1,C=null,N=3,P=!1,R=!1,A=!1;function D(e){for(var t=j(T);null!==t;){if(null===t.callback)x(T);else{if(!(t.startTime<=e))break;x(T),t.sortIndex=t.expirationTime,O(S,t)}t=j(T)}}function L(e){if(A=!1,D(e),!R)if(null!==j(S))R=!0,r(M);else{var t=j(T);null!==t&&i(L,t.startTime-e)}}function M(e,n){R=!1,A&&(A=!1,a()),P=!0;var r=N;try{for(D(n),C=j(S);null!==C&&(!(C.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=C.callback;if("function"===typeof o){C.callback=null,N=C.priorityLevel;var u=o(C.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?C.callback=u:C===j(S)&&x(S),D(n)}else x(S);C=j(S)}if(null!==C)var s=!0;else{var c=j(T);null!==c&&i(L,c.startTime-n),s=!1}return s}finally{C=null,N=r,P=!1}}var F=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){R||P||(R=!0,r(M))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return j(S)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,n,o){var u=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?u+o:u:o=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:I++,callback:n,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>u?(e.sortIndex=o,O(T,e),null===j(S)&&e===j(T)&&(A?a():A=!0,i(L,o-u))):(e.sortIndex=s,O(S,e),R||P||(R=!0,r(M))),e},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},,function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(N){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),o=new T(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return C()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=x(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function y(){}function m(){}function g(){}var b={};b[a]=function(){return this};var k=Object.getPrototypeOf,w=k&&k(k(I([])));w&&w!==n&&r.call(w,a)&&(b=w);var _=g.prototype=y.prototype=Object.create(b);function O(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function x(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function I(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:C}}function C(){return{value:t,done:!0}}return m.prototype=_.constructor=g,g.constructor=m,m.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},O(j.prototype),j.prototype[o]=function(){return this},e.AsyncIterator=j,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new j(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},O(_),s(_,u,"Generator"),_[a]=function(){return this},_.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=I,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return l.default}}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==p(e)&&"function"!==typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(1)),i=h(n(18)),a=h(n(25)),o=h(n(127)),u=n(85),s=n(96),c=n(71),l=h(n(129)),f=h(n(97));function h(e){return e&&e.__esModule?e:{default:e}}function d(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function p(e){return(p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(s){i=!0,a=s}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t,n){return t&&w(e.prototype,t),n&&w(e,n),e}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var i=S(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return x(this,n)}}function x(e,t){return!t||"object"!==p(t)&&"function"!==typeof t?E(e):t}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(n,e);var t=j(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),T(E(r=t.call(this,e)),"onDragStart",(function(e,t){if((0,f.default)("Draggable: onDragStart: %j",t),!1===r.props.onStart(e,(0,s.createDraggableData)(E(r),t)))return!1;r.setState({dragging:!0,dragged:!0})})),T(E(r),"onDrag",(function(e,t){if(!r.state.dragging)return!1;(0,f.default)("Draggable: onDrag: %j",t);var n=(0,s.createDraggableData)(E(r),t),i={x:n.x,y:n.y};if(r.props.bounds){var a=i.x,o=i.y;i.x+=r.state.slackX,i.y+=r.state.slackY;var u=m((0,s.getBoundPosition)(E(r),i.x,i.y),2),c=u[0],l=u[1];i.x=c,i.y=l,i.slackX=r.state.slackX+(a-i.x),i.slackY=r.state.slackY+(o-i.y),n.x=i.x,n.y=i.y,n.deltaX=i.x-r.state.x,n.deltaY=i.y-r.state.y}if(!1===r.props.onDrag(e,n))return!1;r.setState(i)})),T(E(r),"onDragStop",(function(e,t){if(!r.state.dragging)return!1;if(!1===r.props.onStop(e,(0,s.createDraggableData)(E(r),t)))return!1;(0,f.default)("Draggable: onDragStop: %j",t);var n={dragging:!1,slackX:0,slackY:0};if(Boolean(r.props.position)){var i=r.props.position,a=i.x,o=i.y;n.x=a,n.y=o}r.setState(n)})),r.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:k({},e.position),slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),r}return _(n,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.position,r=t.prevPropsPosition;return!n||r&&n.x===r.x&&n.y===r.y?null:((0,f.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:r}),{x:n.x,y:n.y,prevPropsPosition:k({},n)})}}]),_(n,[{key:"componentDidMount",value:function(){"undefined"!==typeof window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){return this.props.nodeRef?this.props.nodeRef.current:a.default.findDOMNode(this)}},{key:"render",value:function(){var e,t=this.props,n=(t.axis,t.bounds,t.children),i=t.defaultPosition,a=t.defaultClassName,c=t.defaultClassNameDragging,f=t.defaultClassNameDragged,h=t.position,d=t.positionOffset,p=(t.scale,y(t,["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"])),m={},g=null,b=!Boolean(h)||this.state.dragging,w=h||i,_={x:(0,s.canDragX)(this)&&b?this.state.x:w.x,y:(0,s.canDragY)(this)&&b?this.state.y:w.y};this.state.isElementSVG?g=(0,u.createSVGTransform)(_,d):m=(0,u.createCSSTransform)(_,d);var O=(0,o.default)(n.props.className||"",a,(T(e={},c,this.state.dragging),T(e,f,this.state.dragged),e));return r.createElement(l.default,v({},p,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),r.cloneElement(r.Children.only(n),{className:O,style:k(k({},n.props.style),m),transform:g}))}}]),n}(r.Component);t.default=I,T(I,"displayName","Draggable"),T(I,"propTypes",k(k({},l.default.propTypes),{},{axis:i.default.oneOf(["both","x","y","none"]),bounds:i.default.oneOfType([i.default.shape({left:i.default.number,right:i.default.number,top:i.default.number,bottom:i.default.number}),i.default.string,i.default.oneOf([!1])]),defaultClassName:i.default.string,defaultClassNameDragging:i.default.string,defaultClassNameDragged:i.default.string,defaultPosition:i.default.shape({x:i.default.number,y:i.default.number}),positionOffset:i.default.shape({x:i.default.oneOfType([i.default.number,i.default.string]),y:i.default.oneOfType([i.default.number,i.default.string])}),position:i.default.shape({x:i.default.number,y:i.default.number}),className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe})),T(I,"defaultProps",k(k({},l.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null,scale:1}))},function(e,t,n){"use strict";var r=n(126);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(r);else if(Array.isArray(r)){if(r.length){var o=i.apply(null,r);o&&e.push(o)}}else if("object"===a)if(r.toString===Object.prototype.toString)for(var u in r)n.call(r,u)&&r[u]&&e.push(u);else e.push(r.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPrefix=i,t.browserPrefixToKey=a,t.browserPrefixToStyle=function(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e},t.default=void 0;var r=["Moz","Webkit","O","ms"];function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"===typeof window||"undefined"===typeof window.document)return"";var t=window.document.documentElement.style;if(e in t)return"";for(var n=0;n<r.length;n++)if(a(e,r[n])in t)return r[n];return""}function a(e,t){return t?"".concat(t).concat(function(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e)):e}var o=i();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==h(e)&&"function"!==typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(1)),i=l(n(18)),a=l(n(25)),o=n(85),u=n(96),s=n(71),c=l(n(97));function l(e){return e&&e.__esModule?e:{default:e}}function f(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function h(e){return(h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(s){i=!0,a=s}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var i=w(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==h(t)&&"function"!==typeof t?k(e):t}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O={start:"touchstart",move:"touchmove",stop:"touchend"},j={start:"mousedown",move:"mousemove",stop:"mouseup"},x=j,E=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(l,e);var t,n,i,s=g(l);function l(){var e;v(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _(k(e=s.call.apply(s,[this].concat(n))),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),_(k(e),"mounted",!1),_(k(e),"handleDragStart",(function(t){if(e.props.onMouseDown(t),!e.props.allowAnyClick&&"number"===typeof t.button&&0!==t.button)return!1;var n=e.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var r=n.ownerDocument;if(!(e.props.disabled||!(t.target instanceof r.defaultView.Node)||e.props.handle&&!(0,o.matchesSelectorAndParentsTo)(t.target,e.props.handle,n)||e.props.cancel&&(0,o.matchesSelectorAndParentsTo)(t.target,e.props.cancel,n))){"touchstart"===t.type&&t.preventDefault();var i=(0,o.getTouchIdentifier)(t);e.setState({touchIdentifier:i});var a=(0,u.getControlPosition)(t,i,k(e));if(null!=a){var s=a.x,l=a.y,f=(0,u.createCoreData)(k(e),s,l);(0,c.default)("DraggableCore: handleDragStart: %j",f),(0,c.default)("calling",e.props.onStart),!1!==e.props.onStart(t,f)&&!1!==e.mounted&&(e.props.enableUserSelectHack&&(0,o.addUserSelectStyles)(r),e.setState({dragging:!0,lastX:s,lastY:l}),(0,o.addEvent)(r,x.move,e.handleDrag),(0,o.addEvent)(r,x.stop,e.handleDragStop))}}})),_(k(e),"handleDrag",(function(t){var n=(0,u.getControlPosition)(t,e.state.touchIdentifier,k(e));if(null!=n){var r=n.x,i=n.y;if(Array.isArray(e.props.grid)){var a=r-e.state.lastX,o=i-e.state.lastY,s=d((0,u.snapToGrid)(e.props.grid,a,o),2);if(a=s[0],o=s[1],!a&&!o)return;r=e.state.lastX+a,i=e.state.lastY+o}var l=(0,u.createCoreData)(k(e),r,i);if((0,c.default)("DraggableCore: handleDrag: %j",l),!1!==e.props.onDrag(t,l)&&!1!==e.mounted)e.setState({lastX:r,lastY:i});else try{e.handleDragStop(new MouseEvent("mouseup"))}catch(h){var f=document.createEvent("MouseEvents");f.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.handleDragStop(f)}}})),_(k(e),"handleDragStop",(function(t){if(e.state.dragging){var n=(0,u.getControlPosition)(t,e.state.touchIdentifier,k(e));if(null!=n){var r=n.x,i=n.y,a=(0,u.createCoreData)(k(e),r,i);if(!1===e.props.onStop(t,a)||!1===e.mounted)return!1;var s=e.findDOMNode();s&&e.props.enableUserSelectHack&&(0,o.removeUserSelectStyles)(s.ownerDocument),(0,c.default)("DraggableCore: handleDragStop: %j",a),e.setState({dragging:!1,lastX:NaN,lastY:NaN}),s&&((0,c.default)("DraggableCore: Removing handlers"),(0,o.removeEvent)(s.ownerDocument,x.move,e.handleDrag),(0,o.removeEvent)(s.ownerDocument,x.stop,e.handleDragStop))}}})),_(k(e),"onMouseDown",(function(t){return x=j,e.handleDragStart(t)})),_(k(e),"onMouseUp",(function(t){return x=j,e.handleDragStop(t)})),_(k(e),"onTouchStart",(function(t){return x=O,e.handleDragStart(t)})),_(k(e),"onTouchEnd",(function(t){return x=O,e.handleDragStop(t)})),e}return t=l,(n=[{key:"componentDidMount",value:function(){this.mounted=!0;var e=this.findDOMNode();e&&(0,o.addEvent)(e,O.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.findDOMNode();if(e){var t=e.ownerDocument;(0,o.removeEvent)(t,j.move,this.handleDrag),(0,o.removeEvent)(t,O.move,this.handleDrag),(0,o.removeEvent)(t,j.stop,this.handleDragStop),(0,o.removeEvent)(t,O.stop,this.handleDragStop),(0,o.removeEvent)(e,O.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,o.removeUserSelectStyles)(t)}}},{key:"findDOMNode",value:function(){return this.props.nodeRef?this.props.nodeRef.current:a.default.findDOMNode(this)}},{key:"render",value:function(){return r.cloneElement(r.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}])&&y(t.prototype,n),i&&y(t,i),l}(r.Component);t.default=E,_(E,"displayName","DraggableCore"),_(E,"propTypes",{allowAnyClick:i.default.bool,disabled:i.default.bool,enableUserSelectHack:i.default.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:i.default.arrayOf(i.default.number),handle:i.default.string,cancel:i.default.string,nodeRef:i.default.object,onStart:i.default.func,onDrag:i.default.func,onStop:i.default.func,onMouseDown:i.default.func,scale:i.default.number,className:s.dontSetMe,style:s.dontSetMe,transform:s.dontSetMe}),_(E,"defaultProps",{allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},,,function(e,t,n){"use strict";n(84);var r=n(1),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},,,,,function(e,t,n){"use strict";n(138)},function(e,t,n){"use strict";(function(e){var t=n(0),r=n.n(t),i=n(3),a=n(5),o=n(4),u=n(39),s=n(11),c=n(27),l=n(2);function f(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(l.s)();return!("file:"!==f()&&"ionic:"!==f()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function d(){return Object(l.y)()&&11===(null===document||void 0===document?void 0:document.documentMode)}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(l.s)();return/Edge\/\d+/.test(e)}function v(){try{var e=self.localStorage,t=s.r();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(l.s)();return d()||p(e)}()||Object(l.z)()}catch(n){return y()&&Object(l.z)()}return!1}function y(){return"undefined"!==typeof e&&"WorkerGlobalScope"in e&&"importScripts"in e}function m(){return("http:"===f()||"https:"===f()||Object(l.v)()||h())&&!(Object(l.D)()||Object(l.B)())&&v()&&!y()}function g(){return h()&&"undefined"!==typeof document}function b(){return k.apply(this,arguments)}function k(){return(k=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w={LOCAL:"local",NONE:"none",SESSION:"session"},_=s.o,O="persistence";function j(e,t){_(Object.values(w).includes(t),e,"invalid-persistence-type"),Object(l.D)()?_(t!==w.SESSION,e,"unsupported-persistence-type"):Object(l.B)()?_(t===w.NONE,e,"unsupported-persistence-type"):y()?_(t===w.NONE||t===w.LOCAL&&Object(l.z)(),e,"unsupported-persistence-type"):_(t===w.NONE||v(),e,"unsupported-persistence-type")}function x(e){return E.apply(this,arguments)}function E(){return(E=Object(o.a)(r.a.mark((function e(t){var n,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=S(),i=s.u(O,t.config.apiKey,t.name),(null===n||void 0===n?void 0:n.sessionStorage)&&n.sessionStorage.setItem(i,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return"undefined"!==typeof window?window:null}var T=s.o,I=function(){function e(){Object(i.a)(this,e),this.browserResolver=s.s(s.y),this.cordovaResolver=s.s(s.D),this.underlyingResolver=null,this._redirectPersistence=s.z,this._completeRedirectFn=s.t}return Object(a.a)(e,[{key:"_initialize",value:function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Object(o.a)(r.a.mark((function e(t,n,i,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,i,a));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Object(o.a)(r.a.mark((function e(t,n,i,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,i,a));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return g()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return T(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,b();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function C(e){return e.unwrap()}function N(e){return R(e)}function P(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new F(e,s.I(e,t));else if(r){var i=R(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function R(e){var t=(e instanceof l.c?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof l.c)&&"temporaryProof"in t&&"phoneNumber"in t)return s.i.credentialFromResult(e);var n,r=t.providerId;if(!r||r===s.k.PASSWORD)return null;switch(r){case s.k.GOOGLE:n=s.f;break;case s.k.FACEBOOK:n=s.d;break;case s.k.GITHUB:n=s.e;break;case s.k.TWITTER:n=s.n;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,c=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?s.m._create(r,u):s.g._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new s.h(r).credential({idToken:i,accessToken:a,rawNonce:c}):null}return e instanceof l.c?n.credentialFromError(e):n.credentialFromResult(e)}function A(e,t){return D.apply(this,arguments)}function D(){return(D=Object(o.a)(r.a.mark((function e(t,n){var i,a,o,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n;case 3:i=e.sent,e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(0),e.t0 instanceof l.c&&P(t,e.t0),e.t0;case 10:return o=(a=i).operationType,u=a.user,e.abrupt("return",{operationType:o,credential:N(i),additionalUserInfo:s.H(i),user:U.getOrCreate(u)});case 12:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function L(e,t){return M.apply(this,arguments)}function M(){return(M=Object(o.a)(r.a.mark((function e(t,n){var i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return i=e.sent,e.abrupt("return",{verificationId:i.verificationId,confirm:function(e){return A(t,i.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var F=function(){function e(t,n){Object(i.a)(this,e),this.resolver=n,this.auth=t.wrapped()}return Object(a.a)(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return A(C(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),U=function(){function e(t){Object(i.a)(this,e),this._delegate=t,this.multiFactor=s.R(t)}return Object(a.a)(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",A(this.auth,s.N(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Object(o.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",L(this.auth,s.O(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",A(this.auth,s.P(this._delegate,t,I)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(s.p(this.auth));case 2:return e.abrupt("return",s.Q(this._delegate,t,I));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",A(this.auth,s.S(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return L(this.auth,s.T(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return A(this.auth,s.U(this._delegate,e,I))}},{key:"reauthenticateWithRedirect",value:function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(s.p(this.auth));case 2:return e.abrupt("return",s.V(this._delegate,t,I));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return s.W(this._delegate,e)}},{key:"unlink",value:function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.hb(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return s.ib(this._delegate,e)}},{key:"updatePassword",value:function(e){return s.jb(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return s.kb(this._delegate,e)}},{key:"updateProfile",value:function(e){return s.lb(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return s.mb(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();U.USER_MAP=new WeakMap;var V=s.o,q=function(){function e(t,n){if(Object(i.a)(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;V(r,"invalid-api-key",{appName:t.name});var a=[s.K];if("undefined"!==typeof window){a=function(e,t){var n=S();if(!(null===n||void 0===n?void 0:n.sessionStorage))return[];var r=s.u(O,e,t);switch(n.sessionStorage.getItem(r)){case w.NONE:return[s.K];case w.LOCAL:return[s.L,s.z];case w.SESSION:return[s.z];default:return[]}}(r,t.name);for(var o=0,u=[s.L,s.x,s.z];o<u.length;o++){var c=u[o];a.includes(c)||a.push(c)}}V(r,"invalid-api-key",{appName:t.name});var l="undefined"!==typeof window?I:void 0;this._delegate=n.initialize({options:{persistence:a,popupRedirectResolver:l}}),this._delegate._updateErrorMap(s.F),this.linkUnderlyingAuth()}return Object(a.a)(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?U.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){s.C(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return s.w(this._delegate,e)}},{key:"checkActionCode",value:function(e){return s.A(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return s.B(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Object(o.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",A(this._delegate,s.E(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return s.G(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return s.M(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V(m(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,s.J(this._delegate,I);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",A(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){s.v(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=z(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=z(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return s.Y(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return s.X(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Object(o.a)(r.a.mark((function e(t){var n,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(this._delegate,t),e.t0=t,e.next=e.t0===w.SESSION?4:e.t0===w.LOCAL?6:e.t0===w.NONE?11:13;break;case 4:return n=s.z,e.abrupt("break",14);case 6:return e.next=8,s.s(s.L)._isAvailable();case 8:return i=e.sent,n=i?s.L:s.x,e.abrupt("break",14);case 11:return n=s.K,e.abrupt("break",14);case 13:return e.abrupt("return",s.q("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return A(this._delegate,s.Z(this._delegate))}},{key:"signInWithCredential",value:function(e){return A(this._delegate,s.ab(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return A(this._delegate,s.bb(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return A(this._delegate,s.cb(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return A(this._delegate,s.db(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return L(this._delegate,s.eb(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V(m(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",A(this._delegate,s.fb(this._delegate,t,I)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V(m(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,x(this._delegate);case 3:return e.abrupt("return",s.gb(this._delegate,t,I));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return s.nb(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function z(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&U.getOrCreate(e))},error:t,complete:n}}q.Persistence=w;var B=function(){function e(){Object(i.a)(this,e),this.providerId="phone",this._delegate=new s.i(C(u.a.auth()))}return Object(a.a)(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return s.i.credential(e,t)}}]),e}();B.PHONE_SIGN_IN_METHOD=s.i.PHONE_SIGN_IN_METHOD,B.PROVIDER_ID=s.i.PROVIDER_ID;var W,H=s.o,K=function(){function e(t,n){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.a.app();Object(i.a)(this,e),H(null===(r=a.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:a.name}),this._delegate=new s.l(t,n,a.auth()),this.type=this._delegate.type}return Object(a.a)(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(W=u.a).INTERNAL.registerComponent(new c.a("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new q(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:s.a.EMAIL_SIGNIN,PASSWORD_RESET:s.a.PASSWORD_RESET,RECOVER_EMAIL:s.a.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:s.a.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:s.a.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:s.a.VERIFY_EMAIL}},EmailAuthProvider:s.c,FacebookAuthProvider:s.d,GithubAuthProvider:s.e,GoogleAuthProvider:s.f,OAuthProvider:s.h,PhoneAuthProvider:B,PhoneMultiFactorGenerator:s.j,RecaptchaVerifier:K,TwitterAuthProvider:s.n,Auth:q,AuthCredential:s.b,Error:l.c}).setInstantiationMode("LAZY").setMultipleInstances(!1)),W.registerVersion("@firebase/auth-compat","0.1.2")}).call(this,n(72))},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,u=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,v=r?Symbol.for("react.suspense_list"):60120,y=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116,g=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,k=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case f:case h:case o:case s:case u:case p:return e;default:switch(e=e&&e.$$typeof){case l:case d:case m:case y:case c:return e;default:return t}}case a:return t}}}function O(e){return _(e)===h}t.AsyncMode=f,t.ConcurrentMode=h,t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=d,t.Fragment=o,t.Lazy=m,t.Memo=y,t.Portal=a,t.Profiler=s,t.StrictMode=u,t.Suspense=p,t.isAsyncMode=function(e){return O(e)||_(e)===f},t.isConcurrentMode=O,t.isContextConsumer=function(e){return _(e)===l},t.isContextProvider=function(e){return _(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return _(e)===d},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===m},t.isMemo=function(e){return _(e)===y},t.isPortal=function(e){return _(e)===a},t.isProfiler=function(e){return _(e)===s},t.isStrictMode=function(e){return _(e)===u},t.isSuspense=function(e){return _(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===h||e===s||e===u||e===p||e===v||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===y||e.$$typeof===c||e.$$typeof===l||e.$$typeof===d||e.$$typeof===b||e.$$typeof===k||e.$$typeof===w||e.$$typeof===g)},t.typeOf=_},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(143).default;function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}e.exports=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var s=o?Object.getOwnPropertyDescriptor(e,u):null;s&&(s.get||s.set)?Object.defineProperty(a,u,s):a[u]=e[u]}return a.default=e,n&&n.set(e,a),a},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?(e.exports=n=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=n=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(149)},function(e,t,n){"use strict";var r=60103,i=60106,a=60107,o=60108,u=60114,s=60109,c=60110,l=60112,f=60113,h=60120,d=60115,p=60116,v=60121,y=60122,m=60117,g=60129,b=60131;if("function"===typeof Symbol&&Symbol.for){var k=Symbol.for;r=k("react.element"),i=k("react.portal"),a=k("react.fragment"),o=k("react.strict_mode"),u=k("react.profiler"),s=k("react.provider"),c=k("react.context"),l=k("react.forward_ref"),f=k("react.suspense"),h=k("react.suspense_list"),d=k("react.memo"),p=k("react.lazy"),v=k("react.block"),y=k("react.server.block"),m=k("react.fundamental"),g=k("react.debug_trace_mode"),b=k("react.legacy_hidden")}function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case u:case o:case f:case h:return e;default:switch(e=e&&e.$$typeof){case c:case l:case p:case d:case s:return e;default:return t}}case i:return t}}}var _=s,O=r,j=l,x=a,E=p,S=d,T=i,I=u,C=o,N=f;t.ContextConsumer=c,t.ContextProvider=_,t.Element=O,t.ForwardRef=j,t.Fragment=x,t.Lazy=E,t.Memo=S,t.Portal=T,t.Profiler=I,t.StrictMode=C,t.Suspense=N,t.isAsyncMode=function(){return!1},t.isConcurrentMode=function(){return!1},t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===l},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===p},t.isMemo=function(e){return w(e)===d},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===u||e===g||e===o||e===f||e===h||e===b||"object"===typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===d||e.$$typeof===s||e.$$typeof===c||e.$$typeof===l||e.$$typeof===m||e.$$typeof===v||e[0]===y)},t.typeOf=w},,,,function(e,t,n){"use strict";n.r(t),n.d(t,"capitalize",(function(){return r.a})),n.d(t,"createChainedFunction",(function(){return i.a})),n.d(t,"createSvgIcon",(function(){return a.a})),n.d(t,"debounce",(function(){return o.a})),n.d(t,"deprecatedPropType",(function(){return u.a})),n.d(t,"isMuiElement",(function(){return s.a})),n.d(t,"ownerDocument",(function(){return c.a})),n.d(t,"ownerWindow",(function(){return l.a})),n.d(t,"requirePropFactory",(function(){return f.a})),n.d(t,"setRef",(function(){return h.a})),n.d(t,"unsupportedProp",(function(){return d})),n.d(t,"useControlled",(function(){return p.a})),n.d(t,"useEventCallback",(function(){return v.a})),n.d(t,"useForkRef",(function(){return y.a})),n.d(t,"unstable_useId",(function(){return g})),n.d(t,"useIsFocusVisible",(function(){return b.a}));var r=n(21),i=n(55),a=n(38),o=n(57),u=n(45),s=n(64),c=n(33),l=n(58),f=n(86),h=n(42);function d(e,t,n,r,i){return null}var p=n(59),v=n(40),y=n(23),m=n(1);function g(e){var t=m.useState(e),n=t[0],r=t[1],i=e||n;return m.useEffect((function(){null==n&&r("mui-".concat(Math.round(1e5*Math.random())))}),[n]),i}var b=n(60)},function(e,t,n){"use strict";var r=n(9),i=n(10),a=n(3),o=n(5),u=n(39),s=n(27),c=n(16),l=n(2),f=n(30),h=new f.b("@firebase/database-compat"),d=function(e){var t="FIREBASE WARNING: "+e;h.warn(t)},p=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(Object(l.p)(e,t)+"must be a boolean.")},v=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(l.p)(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},y=function(){function e(t){Object(a.a)(this,e),this._delegate=t}return Object(o.a)(e,[{key:"cancel",value:function(e){Object(l.P)("OnDisconnect.cancel",0,1,arguments.length),Object(l.Q)("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"remove",value:function(e){Object(l.P)("OnDisconnect.remove",0,1,arguments.length),Object(l.Q)("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"set",value:function(e,t){Object(l.P)("OnDisconnect.set",1,2,arguments.length),Object(l.Q)("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"setWithPriority",value:function(e,t,n){Object(l.P)("OnDisconnect.setWithPriority",2,3,arguments.length),Object(l.Q)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"update",value:function(e,t){if(Object(l.P)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,d("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Object(l.Q)("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}}]),e}(),m=function(){function e(t,n){Object(a.a)(this,e),this.committed=t,this.snapshot=n}return Object(o.a)(e,[{key:"toJSON",value:function(){return Object(l.P)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}(),g=function(){function e(t,n){Object(a.a)(this,e),this._database=t,this._delegate=n}return Object(o.a)(e,[{key:"val",value:function(){return Object(l.P)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}},{key:"exportVal",value:function(){return Object(l.P)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}},{key:"toJSON",value:function(){return Object(l.P)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"exists",value:function(){return Object(l.P)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}},{key:"child",value:function(t){return Object(l.P)("DataSnapshot.child",0,1,arguments.length),t=String(t),Object(c.g)("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))}},{key:"hasChild",value:function(e){return Object(l.P)("DataSnapshot.hasChild",1,1,arguments.length),Object(c.g)("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}},{key:"getPriority",value:function(){return Object(l.P)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}},{key:"forEach",value:function(t){var n=this;return Object(l.P)("DataSnapshot.forEach",1,1,arguments.length),Object(l.Q)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))}},{key:"hasChildren",value:function(){return Object(l.P)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}},{key:"key",get:function(){return this._delegate.key}},{key:"numChildren",value:function(){return Object(l.P)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}},{key:"getRef",value:function(){return Object(l.P)("DataSnapshot.ref",0,0,arguments.length),new k(this._database,this._delegate.ref)}},{key:"ref",get:function(){return this.getRef()}}]),e}(),b=function(){function e(t,n){Object(a.a)(this,e),this.database=t,this._delegate=n}return Object(o.a)(e,[{key:"on",value:function(t,n,r,i){var a,o=this;Object(l.P)("Query.on",2,4,arguments.length),Object(l.Q)("Query.on","callback",n,!1);var u=e.getCancelAndContextArgs_("Query.on",r,i),s=function(e,t){n.call(u.context,new g(o.database,e),t)};s.userCallback=n,s.context=u.context;var f=null===(a=u.cancel)||void 0===a?void 0:a.bind(u.context);switch(t){case"value":return Object(c.z)(this._delegate,s,f),n;case"child_added":return Object(c.v)(this._delegate,s,f),n;case"child_removed":return Object(c.y)(this._delegate,s,f),n;case"child_changed":return Object(c.w)(this._delegate,s,f),n;case"child_moved":return Object(c.x)(this._delegate,s,f),n;default:throw new Error(Object(l.p)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}},{key:"off",value:function(e,t,n){if(Object(l.P)("Query.off",0,3,arguments.length),v("Query.off",e,!0),Object(l.Q)("Query.off","callback",t,!0),Object(l.R)("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,Object(c.u)(this._delegate,e,r)}else Object(c.u)(this._delegate,e)}},{key:"get",value:function(){var e=this;return Object(c.o)(this._delegate).then((function(t){return new g(e.database,t)}))}},{key:"once",value:function(t,n,r,i){var a=this;Object(l.P)("Query.once",1,4,arguments.length),Object(l.Q)("Query.once","callback",n,!0);var o=e.getCancelAndContextArgs_("Query.once",r,i),u=new l.a,s=function(e,t){var r=new g(a.database,e);n&&n.call(o.context,r,t),u.resolve(r)};s.userCallback=n,s.context=o.context;var f=function(e){o.cancel&&o.cancel.call(o.context,e),u.reject(e)};switch(t){case"value":Object(c.z)(this._delegate,s,f,{onlyOnce:!0});break;case"child_added":Object(c.v)(this._delegate,s,f,{onlyOnce:!0});break;case"child_removed":Object(c.y)(this._delegate,s,f,{onlyOnce:!0});break;case"child_changed":Object(c.w)(this._delegate,s,f,{onlyOnce:!0});break;case"child_moved":Object(c.x)(this._delegate,s,f,{onlyOnce:!0});break;default:throw new Error(Object(l.p)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise}},{key:"limitToFirst",value:function(t){return Object(l.P)("Query.limitToFirst",1,1,arguments.length),new e(this.database,Object(c.F)(this._delegate,Object(c.s)(t)))}},{key:"limitToLast",value:function(t){return Object(l.P)("Query.limitToLast",1,1,arguments.length),new e(this.database,Object(c.F)(this._delegate,Object(c.t)(t)))}},{key:"orderByChild",value:function(t){return Object(l.P)("Query.orderByChild",1,1,arguments.length),new e(this.database,Object(c.F)(this._delegate,Object(c.A)(t)))}},{key:"orderByKey",value:function(){return Object(l.P)("Query.orderByKey",0,0,arguments.length),new e(this.database,Object(c.F)(this._delegate,Object(c.B)()))}},{key:"orderByPriority",value:function(){return Object(l.P)("Query.orderByPriority",0,0,arguments.length),new e(this.database,Object(c.F)(this._delegate,Object(c.C)()))}},{key:"orderByValue",value:function(){return Object(l.P)("Query.orderByValue",0,0,arguments.length),new e(this.database,Object(c.F)(this._delegate,Object(c.D)()))}},{key:"startAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Object(l.P)("Query.startAt",0,2,arguments.length),new e(this.database,Object(c.F)(this._delegate,Object(c.P)(t,n)))}},{key:"startAfter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Object(l.P)("Query.startAfter",0,2,arguments.length),new e(this.database,Object(c.F)(this._delegate,Object(c.O)(t,n)))}},{key:"endAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Object(l.P)("Query.endAt",0,2,arguments.length),new e(this.database,Object(c.F)(this._delegate,Object(c.l)(t,n)))}},{key:"endBefore",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Object(l.P)("Query.endBefore",0,2,arguments.length),new e(this.database,Object(c.F)(this._delegate,Object(c.m)(t,n)))}},{key:"equalTo",value:function(t,n){return Object(l.P)("Query.equalTo",1,2,arguments.length),new e(this.database,Object(c.F)(this._delegate,Object(c.n)(t,n)))}},{key:"toString",value:function(){return Object(l.P)("Query.toString",0,0,arguments.length),this._delegate.toString()}},{key:"toJSON",value:function(){return Object(l.P)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"isEqual",value:function(t){if(Object(l.P)("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)}},{key:"ref",get:function(){return new k(this.database,new c.d(this._delegate._repo,this._delegate._path))}}],[{key:"getCancelAndContextArgs_",value:function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,Object(l.Q)(e,"cancel",r.cancel,!0),r.context=n,Object(l.R)(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error(Object(l.p)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}}]),e}(),k=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(e,r){var i;return Object(a.a)(this,n),(i=t.call(this,e,new c.b(r._repo,r._path,new c.c,!1))).database=e,i._delegate=r,i}return Object(o.a)(n,[{key:"getKey",value:function(){return Object(l.P)("Reference.key",0,0,arguments.length),this._delegate.key}},{key:"child",value:function(e){return Object(l.P)("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new n(this.database,Object(c.i)(this._delegate,e))}},{key:"getParent",value:function(){Object(l.P)("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new n(this.database,e):null}},{key:"getRoot",value:function(){return Object(l.P)("Reference.root",0,0,arguments.length),new n(this.database,this._delegate.root)}},{key:"set",value:function(e,t){Object(l.P)("Reference.set",1,2,arguments.length),Object(l.Q)("Reference.set","onComplete",t,!0);var n=Object(c.L)(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"update",value:function(e,t){if(Object(l.P)("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,d("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Object(c.h)("Reference.update",this._delegate._path),Object(l.Q)("Reference.update","onComplete",t,!0);var i=Object(c.Q)(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}},{key:"setWithPriority",value:function(e,t,n){Object(l.P)("Reference.setWithPriority",2,3,arguments.length),Object(l.Q)("Reference.setWithPriority","onComplete",n,!0);var r=Object(c.N)(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"remove",value:function(e){Object(l.P)("Reference.remove",0,1,arguments.length),Object(l.Q)("Reference.remove","onComplete",e,!0);var t=Object(c.I)(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"transaction",value:function(e,t,n){var r=this;Object(l.P)("Reference.transaction",1,3,arguments.length),Object(l.Q)("Reference.transaction","transactionUpdate",e,!1),Object(l.Q)("Reference.transaction","onComplete",t,!0),p("Reference.transaction","applyLocally",n,!0);var i=Object(c.J)(this._delegate,e,{applyLocally:n}).then((function(e){return new m(e.committed,new g(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i}},{key:"setPriority",value:function(e,t){Object(l.P)("Reference.setPriority",1,2,arguments.length),Object(l.Q)("Reference.setPriority","onComplete",t,!0);var n=Object(c.M)(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"push",value:function(e,t){var r=this;Object(l.P)("Reference.push",0,2,arguments.length),Object(l.Q)("Reference.push","onComplete",t,!0);var i=Object(c.E)(this._delegate,e),a=i.then((function(e){return new n(r.database,e)}));t&&a.then((function(){return t(null)}),(function(e){return t(e)}));var o=new n(this.database,i);return o.then=a.then.bind(a),o.catch=a.catch.bind(a,void 0),o}},{key:"onDisconnect",value:function(){return Object(c.h)("Reference.onDisconnect",this._delegate._path),new y(new c.a(this._delegate._repo,this._delegate._path))}},{key:"key",get:function(){return this.getKey()}},{key:"parent",get:function(){return this.getParent()}},{key:"root",get:function(){return this.getRoot()}}]),n}(b),w=function(){function e(t,n){var r=this;Object(a.a)(this,e),this._delegate=t,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return Object(o.a)(e,[{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(c.j)(this._delegate,e,t,n)}},{key:"ref",value:function(e){if(Object(l.P)("database.ref",0,1,arguments.length),e instanceof k){var t=Object(c.H)(this._delegate,e.toString());return new k(this,t)}var n=Object(c.G)(this._delegate,e);return new k(this,n)}},{key:"refFromURL",value:function(e){var t="database.refFromURL";Object(l.P)(t,1,1,arguments.length);var n=Object(c.H)(this._delegate,e);return new k(this,n)}},{key:"goOffline",value:function(){return Object(l.P)("database.goOffline",0,0,arguments.length),Object(c.p)(this._delegate)}},{key:"goOnline",value:function(){return Object(l.P)("database.goOnline",0,0,arguments.length),Object(c.q)(this._delegate)}}]),e}();w.ServerValue={TIMESTAMP:Object(c.K)(),increment:function(e){return Object(c.r)(e)}};var _,O=Object.freeze({__proto__:null,initStandalone:function(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,a=e.namespace,o=e.nodeAdmin,u=void 0!==o&&o;Object(c.f)(r);var l=new s.c("auth-internal",new s.b("database-standalone"));return l.setComponent(new s.a("auth-internal",(function(){return i}),"PRIVATE")),{instance:new w(Object(c.e)(t,l,void 0,n,u),t),namespace:a}}}),j=w.ServerValue;(_=u.a).INTERNAL.registerComponent(new s.a("database-compat",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new w(i,r)}),"PUBLIC").setServiceProps({Reference:k,Query:b,Database:w,DataSnapshot:g,enableLogging:c.k,INTERNAL:O,ServerValue:j}).setMultipleInstances(!0)),_.registerVersion("@firebase/database-compat","0.1.0")},function(e,t,n){"use strict";var r=n(62),i=n(9),a=n(10),o=n(12),u=n(3),s=n(5),c=n(39),l=n(13),f=n(2),h=n(27);function d(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new l.g("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function p(){if("undefined"===typeof Uint8Array)throw new l.g("unimplemented","Uint8Arrays are not available in this environment.")}function v(){if(!Object(l.r)())throw new l.g("unimplemented","Blobs are unavailable in Firestore in this environment.")}var y=function(){function e(t){Object(u.a)(this,e),this._delegate=t}return Object(s.a)(e,[{key:"toBase64",value:function(){return v(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return p(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return v(),new e(l.b.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return p(),new e(l.b.fromUint8Array(t))}}]),e}();function m(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Object(o.a)(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(u){i.e(u)}finally{i.f()}return!1}(e,["next","error","complete"])}var g=function(){function e(){Object(u.a)(this,e)}return Object(s.a)(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return Object(l.F)(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return Object(l.G)(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return Object(l.x)(e._delegate)}}]),e}(),b=function(){function e(t,n,r){var i=this;Object(u.a)(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof l.m||(this._appCompat=t)}return Object(s.a)(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Object(l.s)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(l.A)(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return Object(l.H)(this._delegate)}},{key:"disableNetwork",value:function(){return Object(l.D)(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,Object(l.t)("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return Object(l.lb)(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return Object(l.Y)(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new l.g("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new R(this,Object(l.y)(this._delegate,e))}catch(t){throw x(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new j(this,Object(l.E)(this._delegate,e))}catch(t){throw x(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new C(this,Object(l.z)(this._delegate,e))}catch(t){throw x(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return Object(l.db)(this._delegate,(function(n){return e(new w(t,n))}))}},{key:"batch",value:function(){var e=this;return Object(l.K)(this._delegate),new _(new l.l(this._delegate,(function(t){return Object(l.L)(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return Object(l.V)(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return Object(l.W)(this._delegate,e).then((function(e){return e?new C(t,e):null}))}}]),e}(),k=function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this)).firestore=e,r}return Object(s.a)(n,[{key:"convertBytes",value:function(e){return new y(new l.b(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return j.forKey(t,this.firestore,null)}}]),n}(l.a);var w=function(){function e(t,n){Object(u.a)(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new k(t)}return Object(s.a)(e,[{key:"get",value:function(e){var t=this,n=A(e);return this._delegate.get(n).then((function(e){return new T(t._firestore,new l.e(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=A(e);return n?(d("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=A(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=A(e);return this._delegate.delete(t),this}}]),e}(),_=function(){function e(t){Object(u.a)(this,e),this._delegate=t}return Object(s.a)(e,[{key:"set",value:function(e,t,n){var r=A(e);return n?(d("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=A(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=A(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),O=function(){function e(t,n,r){Object(u.a)(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Object(s.a)(e,[{key:"fromFirestore",value:function(e,t){var n=new l.i(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new I(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new k(t),n),i.set(n,a)),a}}]),e}();O.INSTANCES=new WeakMap;var j=function(){function e(t,n){Object(u.a)(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new k(t)}return Object(s.a)(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new R(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new R(this.firestore,Object(l.y)(this._delegate,e))}catch(t){throw x(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Object(f.r)(e))instanceof l.d&&Object(l.cb)(this._delegate,e)}},{key:"set",value:function(e,t){t=d("DocumentReference.set",t);try{return t?Object(l.fb)(this._delegate,e,t):Object(l.fb)(this._delegate,e)}catch(n){throw x(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Object(l.kb)(this._delegate,e):l.kb.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw x(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return Object(l.B)(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=E(n),a=S(n,(function(t){return new T(e.firestore,new l.e(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Object(l.X)(this._delegate,i,a)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?Object(l.N)(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?Object(l.O)(this._delegate):Object(l.M)(this._delegate)).then((function(e){return new T(t.firestore,new l.e(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(O.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new l.g("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new l.d(n._delegate,r,new l.n(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new l.d(n._delegate,r,t))}}]),e}();function x(e,t,n){return e.message=e.message.replace(t,n),e}function E(e){var t,n=Object(o.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!m(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function S(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=m(e[0])?e[0]:m(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var T=function(){function e(t,n){Object(u.a)(this,e),this._firestore=t,this._delegate=n}return Object(s.a)(e,[{key:"ref",get:function(){return new j(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return Object(l.hb)(this._delegate,e._delegate)}}]),e}(),I=function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return Object(l.q)(void 0!==t,"Document in a QueryDocumentSnapshot should exist"),t}}]),n}(T),C=function(){function e(t,n){Object(u.a)(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new k(t)}return Object(s.a)(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,Object(l.ab)(this._delegate,Object(l.mb)(t,n,r)))}catch(i){throw x(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,Object(l.ab)(this._delegate,Object(l.Z)(t,n)))}catch(r){throw x(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,Object(l.ab)(this._delegate,Object(l.T)(t)))}catch(n){throw x(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,Object(l.ab)(this._delegate,Object(l.U)(t)))}catch(n){throw x(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,Object(l.ab)(this._delegate,l.jb.apply(void 0,arguments)))}catch(t){throw x(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,Object(l.ab)(this._delegate,l.ib.apply(void 0,arguments)))}catch(t){throw x(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,Object(l.ab)(this._delegate,l.J.apply(void 0,arguments)))}catch(t){throw x(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,Object(l.ab)(this._delegate,l.I.apply(void 0,arguments)))}catch(t){throw x(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return Object(l.bb)(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?Object(l.Q)(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?Object(l.R)(this._delegate):Object(l.P)(this._delegate)).then((function(e){return new P(t.firestore,new l.j(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=E(n),a=S(n,(function(t){return new P(e.firestore,new l.j(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Object(l.X)(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(O.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),N=function(){function e(t,n){Object(u.a)(this,e),this._firestore=t,this._delegate=n}return Object(s.a)(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new I(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),P=function(){function e(t,n){Object(u.a)(this,e),this._firestore=t,this._delegate=n}return Object(s.a)(e,[{key:"query",get:function(){return new C(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new I(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new N(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new I(n._firestore,r))}))}},{key:"isEqual",value:function(e){return Object(l.hb)(this._delegate,e._delegate)}}]),e}(),R=function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(e,r){var i;return Object(u.a)(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Object(s.a)(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new j(this.firestore,e):null}},{key:"doc",value:function(e){try{return new j(this.firestore,void 0===e?Object(l.E)(this._delegate):Object(l.E)(this._delegate,e))}catch(t){throw x(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return Object(l.u)(this._delegate,e).then((function(e){return new j(t.firestore,e)}))}},{key:"isEqual",value:function(e){return Object(l.cb)(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(O.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(C);function A(e){return Object(l.p)(e,l.d)}var D=function(){function e(){Object(u.a)(this,e);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];this._delegate=Object(r.a)(l.f,n)}return Object(s.a)(e,[{key:"isEqual",value:function(e){return(e=Object(f.r)(e))instanceof l.f&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(l.o.keyField().canonicalString())}}]),e}(),L=function(){function e(t){Object(u.a)(this,e),this._delegate=t}return Object(s.a)(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=Object(l.eb)();return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=Object(l.C)();return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=l.w.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=l.v.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=Object(l.S)(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),M={Firestore:b,GeoPoint:l.h,Timestamp:l.k,Blob:y,Transaction:w,WriteBatch:_,DocumentReference:j,DocumentSnapshot:T,Query:C,QueryDocumentSnapshot:I,QuerySnapshot:P,CollectionReference:R,FieldPath:D,FieldValue:L,setLogLevel:function(e){Object(l.gb)(e)},CACHE_SIZE_UNLIMITED:l.c};!function(e){var t;t=function(e,t){return new b(e,t,new g)},e.INTERNAL.registerComponent(new h.a("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},M))),e.registerVersion("@firebase/firestore-compat","0.1.2")}(c.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(54);function a(e){return e&&"object"===Object(i.a)(e)&&e.constructor===Object}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},i=n.clone?Object(r.a)({},e):e;return a(e)&&a(t)&&Object.keys(t).forEach((function(r){"__proto__"!==r&&(a(t[r])&&r in e?i[r]=o(e[r],t[r],n):i[r]=t[r])})),i}},function(e,t,n){"use strict";n.d(t,"a",(function(){return yn}));var r=n(14),i=n(6),a=n(1),o=n.n(a),u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s="object"===("undefined"===typeof window?"undefined":u(window))&&"object"===("undefined"===typeof document?"undefined":u(document))&&9===document.nodeType,c=(n(46),n(65)),l=n(103);function f(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Object(l.a)(e,t)}var h=n(91),d=n(79),p={}.constructor;function v(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(v);if(e.constructor!==p)return e;var t={};for(var n in e)t[n]=v(e[n]);return t}function y(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=v(t),a=r.plugins.onCreateRule(e,i,n);return a||(e[0],null)}var m=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},g=function(e,t){if(void 0===t&&(t=!1),!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=", "),n+=m(e[r]," ");else n=m(e,", ");return t||"!important"!==e[e.length-1]||(n+=" !important"),n};function b(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function k(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,a=void 0===i?0:i,o=t.fallbacks;if(e&&a++,o)if(Array.isArray(o))for(var u=0;u<o.length;u++){var s=o[u];for(var c in s){var l=s[c];null!=l&&(r&&(r+="\n"),r+=b(c+": "+g(l)+";",a))}}else for(var f in o){var h=o[f];null!=h&&(r&&(r+="\n"),r+=b(f+": "+g(h)+";",a))}for(var d in t){var p=t[d];null!=p&&"fallbacks"!==d&&(r&&(r+="\n"),r+=b(d+": "+g(p)+";",a))}return(r||n.allowEmpty)&&e?(r&&(r="\n"+r+"\n"),b(e+" {"+r,--a)+b("}",a)):r}var w=/([[\].#*$><+~=|^:(),"'`\s])/g,_="undefined"!==typeof CSS&&CSS.escape,O=function(e){return _?_(e):e.replace(w,"\\$1")},j=function(){function e(e,t,n){this.type="style",this.key=void 0,this.isProcessed=!1,this.style=void 0,this.renderer=void 0,this.renderable=void 0,this.options=void 0;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var a=null==i||!1===i,o=e in this.style;if(a&&!o&&!r)return this;var u=a&&o;if(u?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return u?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var s=this.options.sheet;return s&&s.attached,this},e}(),x=function(e){function t(t,n,r){var i;(i=e.call(this,t,n,r)||this).selectorText=void 0,i.id=void 0,i.renderable=void 0;var a=r.selector,o=r.scoped,u=r.sheet,s=r.generateId;return a?i.selectorText=a:!1!==o&&(i.id=s(Object(h.a)(Object(h.a)(i)),u),i.selectorText="."+O(i.id)),i}f(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=g(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?Object(i.a)({},e,{allowEmpty:!0}):e;return k(this.selectorText,this.style,n)},Object(c.a)(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(j),E={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new x(e,t,n)}},S={indent:1,children:!0},T=/@([\w-]+)/,I=function(){function e(e,t,n){this.type="conditional",this.at=void 0,this.key=void 0,this.query=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e;var r=e.match(T);for(var a in this.at=r?r[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new X(Object(i.a)({},n,{parent:this})),t)this.rules.add(a,t[a]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.toString=function(e){if(void 0===e&&(e=S),null==e.indent&&(e.indent=S.indent),null==e.children&&(e.children=S.children),!1===e.children)return this.query+" {}";var t=this.rules.toString(e);return t?this.query+" {\n"+t+"\n}":""},e}(),C=/@media|@supports\s+/,N={onCreateRule:function(e,t,n){return C.test(e)?new I(e,t,n):null}},P={indent:1,children:!0},R=/@keyframes\s+([\w-]+)/,A=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.key=void 0,this.name=void 0,this.id=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0;var r=e.match(R);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var a=n.scoped,o=n.sheet,u=n.generateId;for(var s in this.id=!1===a?this.name:O(u(this,o)),this.rules=new X(Object(i.a)({},n,{parent:this})),t)this.rules.add(s,t[s],Object(i.a)({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){if(void 0===e&&(e=P),null==e.indent&&(e.indent=P.indent),null==e.children&&(e.children=P.children),!1===e.children)return this.at+" "+this.id+" {}";var t=this.rules.toString(e);return t&&(t="\n"+t+"\n"),this.at+" "+this.id+" {"+t+"}"},e}(),D=/@keyframes\s+/,L=/\$([\w-]+)/g,M=function(e,t){return"string"===typeof e?e.replace(L,(function(e,n){return n in t?t[n]:e})):e},F=function(e,t,n){var r=e[t],i=M(r,n);i!==r&&(e[t]=i)},U={onCreateRule:function(e,t,n){return"string"===typeof e&&D.test(e)?new A(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&F(e,"animation-name",n.keyframes),"animation"in e&&F(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return M(e,r.keyframes);default:return e}}},V=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).renderable=void 0,t}return f(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?Object(i.a)({},e,{allowEmpty:!0}):e;return k(this.key,this.style,n)},t}(j),q={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new V(e,t,n):null}},z=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.style)){for(var t="",n=0;n<this.style.length;n++)t+=k(this.at,this.style[n]),this.style[n+1]&&(t+="\n");return t}return k(this.at,this.style,e)},e}(),B=/@font-face/,W={onCreateRule:function(e,t,n){return B.test(e)?new z(e,t,n):null}},H=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return k(this.key,this.style,e)},e}(),K={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new H(e,t,n):null}},G=function(){function e(e,t,n){this.type="simple",this.key=void 0,this.value=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),Q={"@charset":!0,"@import":!0,"@namespace":!0},$=[E,N,U,q,W,K,{onCreateRule:function(e,t,n){return e in Q?new G(e,t,n):null}}],Y={process:!0},J={force:!0,process:!0},X=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=void 0,this.classes=void 0,this.keyframes=void 0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var r=this.options,a=r.parent,o=r.sheet,u=r.jss,s=r.Renderer,c=r.generateId,l=r.scoped,f=Object(i.a)({classes:this.classes,parent:a,sheet:o,jss:u,Renderer:s,generateId:c,scoped:l,name:e,keyframes:this.keyframes,selector:void 0},n),h=e;e in this.raw&&(h=e+"-d"+this.counter++),this.raw[h]=t,h in this.classes&&(f.selector="."+O(this.classes[h]));var d=y(h,t,f);if(!d)return null;this.register(d);var p=void 0===f.index?this.index.length:f.index;return this.index.splice(p,0,d),d},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof x?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof A&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof x?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof A&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.map[e],t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=Y);var i=this.options,a=i.jss.plugins,o=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var u=t,s=u.style;if(a.onUpdate(n,t,o,r),r.process&&s&&s!==u.style){for(var c in a.onProcessStyle(u.style,u,o),u.style){var l=u.style[c];l!==s[c]&&u.prop(c,l,J)}for(var f in s){var h=u.style[f],d=s[f];null==h&&h!==d&&u.prop(f,null,J)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=0;i<this.index.length;i++){var a=this.index[i].toString(e);(a||r)&&(t&&(t+="\n"),t+=a)}return t},e}(),Z=function(){function e(e,t){for(var n in this.options=void 0,this.deployed=void 0,this.attached=void 0,this.rules=void 0,this.renderer=void 0,this.classes=void 0,this.keyframes=void 0,this.queue=void 0,this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Object(i.a)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new X(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),ee=function(){function e(){this.plugins={internal:[],external:[]},this.registry=void 0}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),te=new(function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=Object(d.a)(t,["attached"]),i="",a=0;a<this.registry.length;a++){var o=this.registry[a];null!=n&&o.attached!==n||(i&&(i+="\n"),i+=o.toString(r))}return i},Object(c.a)(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}()),ne="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),re="2f1acc6c3a606b082e5eef5e54414ffb";null==ne[re]&&(ne[re]=0);var ie=ne[re]++,ae=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",a="";return r&&(r.options.classNamePrefix&&(a=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(a||"c")+ie+i+t:a+n.key+"-"+ie+(i?"-"+i:"")+"-"+t}},oe=function(e){var t;return function(){return t||(t=e()),t}},ue=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},se=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=g(n,!0),"!important"===n[n.length-1]))return e.style.setProperty(t,r,"important"),!0;e.attributeStyleMap?e.attributeStyleMap.set(t,r):e.style.setProperty(t,r)}catch(i){return!1}return!0},ce=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},le=function(e,t){return e.selectorText=t,e.selectorText===t},fe=oe((function(){return document.querySelector("head")}));function he(e){var t=te.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if((n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e))&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=function(e){for(var t=fe(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var de=oe((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),pe=function(e,t,n){try{if("insertRule"in e)e.insertRule(t,n);else if("appendRule"in e){e.appendRule(t)}}catch(r){return!1}return e.cssRules[n]},ve=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},ye=function(){function e(e){this.getPropertyValue=ue,this.setProperty=se,this.removeProperty=ce,this.setSelector=le,this.element=void 0,this.sheet=void 0,this.hasInsertedRules=!1,this.cssRules=[],e&&te.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var a=de();a&&this.element.setAttribute("nonce",a)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=he(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,a=i.parentNode;a&&a.insertBefore(e,i.nextSibling)}else fe().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var a=ve(n,t);if(!1===(i=pe(n,r.toString({children:!1}),a)))return!1;this.refCssRule(e,a,i)}return this.insertRules(r.rules,i),i}var o=e.toString();if(!o)return!1;var u=ve(n,t),s=pe(n,o,u);return!1!==s&&(this.hasInsertedRules=!0,this.refCssRule(e,u,s),s)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof Z&&(this.cssRules[t]=n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),me=0,ge=function(){function e(e){this.id=me++,this.version="10.7.1",this.plugins=new ee,this.options={id:{minify:!1},createGenerateId:ae,Renderer:s?ye:null,plugins:[]},this.generateId=ae({minify:!1});for(var t=0;t<$.length;t++)this.plugins.use($[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=Object(i.a)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===te.index?0:te.index+1);var r=new Z(e,Object(i.a)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r},t.removeStyleSheet=function(e){return e.detach(),te.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var r=Object(i.a)({},n,{name:e,jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var a=y(e,t,r);return a&&this.plugins.onProcessRule(a),a},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}();function be(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if("function"===i)t||(t={}),t[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var a=be(r);a&&(t||(t={}),t[n]=a)}}return t}var ke="object"===typeof CSS&&null!=CSS&&"number"in CSS,we=function(e){return new ge(e)},_e=(we(),n(183)),Oe={set:function(e,t,n,r){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},je=n(195),xe=(n(18),"function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__"),Ee=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var Se=Date.now(),Te="fnValues"+Se,Ie="fnStyle"+ ++Se,Ce=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var r=y(e,{},n);return r[Ie]=t,r},onProcessStyle:function(e,t){if(Te in t||Ie in t)return e;var n={};for(var r in e){var i=e[r];"function"===typeof i&&(delete e[r],n[r]=i)}return t[Te]=n,e},onUpdate:function(e,t,n,r){var i=t,a=i[Ie];a&&(i.style=a(e)||{});var o=i[Te];if(o)for(var u in o)i.prop(u,o[u](e),r)}}},Ne="@global",Pe="@global ",Re=function(){function e(e,t,n){for(var r in this.type="global",this.at=Ne,this.rules=void 0,this.options=void 0,this.key=void 0,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new X(Object(i.a)({},n,{parent:this})),t)this.rules.add(r,t[r]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(){return this.rules.toString()},e}(),Ae=function(){function e(e,t,n){this.type="global",this.at=Ne,this.options=void 0,this.rule=void 0,this.isProcessed=!1,this.key=void 0,this.key=e,this.options=n;var r=e.substr(Pe.length);this.rule=n.jss.createRule(r,t,Object(i.a)({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),De=/\s*,\s*/g;function Le(e,t){for(var n=e.split(De),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}var Me=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===Ne)return new Re(e,t,n);if("@"===e[0]&&e.substr(0,Pe.length)===Pe)return new Ae(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),!1===n.scoped&&(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,r=e.style,a=r?r[Ne]:null;if(a){for(var o in a)t.addRule(o,a[o],Object(i.a)({},n,{selector:Le(o,e.selector)}));delete r[Ne]}}(e,t),function(e,t){var n=e.options,r=e.style;for(var a in r)if("@"===a[0]&&a.substr(0,Ne.length)===Ne){var o=Le(a.substr(Ne.length),e.selector);t.addRule(o,r[a],Object(i.a)({},n,{selector:o})),delete r[a]}}(e,t))}}},Fe=/\s*,\s*/g,Ue=/&/g,Ve=/\$([\w-]+)/g;var qe=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?(i=i).selector:r}}function t(e,t){for(var n=t.split(Fe),r=e.split(Fe),i="",a=0;a<n.length;a++)for(var o=n[a],u=0;u<r.length;u++){var s=r[u];i&&(i+=", "),i+=-1!==s.indexOf("&")?s.replace(Ue,o):o+" "+s}return i}function n(e,t,n){if(n)return Object(i.a)({},n,{index:n.index+1});var r=e.options.nestingLevel;r=void 0===r?1:r+1;var a=Object(i.a)({},e.options,{nestingLevel:r,index:t.indexOf(e)+1});return delete a.name,a}return{onProcessStyle:function(r,a,o){if("style"!==a.type)return r;var u,s,c=a,l=c.options.parent;for(var f in r){var h=-1!==f.indexOf("&"),d="@"===f[0];if(h||d){if(u=n(c,l,u),h){var p=t(f,c.selector);s||(s=e(l,o)),p=p.replace(Ve,s),l.addRule(p,r[f],Object(i.a)({},u,{selector:p}))}else d&&l.addRule(f,{},u).addRule(c.key,r[f],{selector:c.selector});delete r[f]}}return r}}},ze=/[A-Z]/g,Be=/^ms-/,We={};function He(e){return"-"+e.toLowerCase()}var Ke=function(e){if(We.hasOwnProperty(e))return We[e];var t=e.replace(ze,He);return We[e]=Be.test(t)?"-"+t:t};function Ge(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:Ke(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(Ge):t.fallbacks=Ge(e.fallbacks)),t}var Qe=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=Ge(e[t]);return e}return Ge(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=Ke(t);return t===r?e:(n.prop(r,e),null)}}},$e=ke&&CSS?CSS.px:"px",Ye=ke&&CSS?CSS.ms:"ms",Je=ke&&CSS?CSS.percent:"%";function Xe(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var Ze=Xe({"animation-delay":Ye,"animation-duration":Ye,"background-position":$e,"background-position-x":$e,"background-position-y":$e,"background-size":$e,border:$e,"border-bottom":$e,"border-bottom-left-radius":$e,"border-bottom-right-radius":$e,"border-bottom-width":$e,"border-left":$e,"border-left-width":$e,"border-radius":$e,"border-right":$e,"border-right-width":$e,"border-top":$e,"border-top-left-radius":$e,"border-top-right-radius":$e,"border-top-width":$e,"border-width":$e,"border-block":$e,"border-block-end":$e,"border-block-end-width":$e,"border-block-start":$e,"border-block-start-width":$e,"border-block-width":$e,"border-inline":$e,"border-inline-end":$e,"border-inline-end-width":$e,"border-inline-start":$e,"border-inline-start-width":$e,"border-inline-width":$e,"border-start-start-radius":$e,"border-start-end-radius":$e,"border-end-start-radius":$e,"border-end-end-radius":$e,margin:$e,"margin-bottom":$e,"margin-left":$e,"margin-right":$e,"margin-top":$e,"margin-block":$e,"margin-block-end":$e,"margin-block-start":$e,"margin-inline":$e,"margin-inline-end":$e,"margin-inline-start":$e,padding:$e,"padding-bottom":$e,"padding-left":$e,"padding-right":$e,"padding-top":$e,"padding-block":$e,"padding-block-end":$e,"padding-block-start":$e,"padding-inline":$e,"padding-inline-end":$e,"padding-inline-start":$e,"mask-position-x":$e,"mask-position-y":$e,"mask-size":$e,height:$e,width:$e,"min-height":$e,"max-height":$e,"min-width":$e,"max-width":$e,bottom:$e,left:$e,top:$e,right:$e,inset:$e,"inset-block":$e,"inset-block-end":$e,"inset-block-start":$e,"inset-inline":$e,"inset-inline-end":$e,"inset-inline-start":$e,"box-shadow":$e,"text-shadow":$e,"column-gap":$e,"column-rule":$e,"column-rule-width":$e,"column-width":$e,"font-size":$e,"font-size-delta":$e,"letter-spacing":$e,"text-decoration-thickness":$e,"text-indent":$e,"text-stroke":$e,"text-stroke-width":$e,"word-spacing":$e,motion:$e,"motion-offset":$e,outline:$e,"outline-offset":$e,"outline-width":$e,perspective:$e,"perspective-origin-x":Je,"perspective-origin-y":Je,"transform-origin":Je,"transform-origin-x":Je,"transform-origin-y":Je,"transform-origin-z":Je,"transition-delay":Ye,"transition-duration":Ye,"vertical-align":$e,"flex-basis":$e,"shape-margin":$e,size:$e,gap:$e,grid:$e,"grid-gap":$e,"row-gap":$e,"grid-row-gap":$e,"grid-column-gap":$e,"grid-template-rows":$e,"grid-template-columns":$e,"grid-auto-rows":$e,"grid-auto-columns":$e,"box-shadow-x":$e,"box-shadow-y":$e,"box-shadow-blur":$e,"box-shadow-spread":$e,"font-line-height":$e,"text-shadow-x":$e,"text-shadow-y":$e,"text-shadow-blur":$e});function et(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=et(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var i in t)t[i]=et(i,t[i],n);else for(var a in t)t[a]=et(e+"-"+a,t[a],n);else if("number"===typeof t&&!1===isNaN(t)){var o=n[e]||Ze[e];return!o||0===t&&o===$e?t.toString():"function"===typeof o?o(t).toString():""+t+o}return t}var tt=function(e){void 0===e&&(e={});var t=Xe(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=et(r,e[r],t);return e},onChangeValue:function(e,n){return et(n,e,t)}}},nt=n(43),rt="",it="",at="",ot="",ut=s&&"ontouchstart"in document.documentElement;if(s){var st={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},ct=document.createElement("p").style;for(var lt in st)if(lt+"Transform"in ct){rt=lt,it=st[lt];break}"Webkit"===rt&&"msHyphens"in ct&&(rt="ms",it=st.ms,ot="edge"),"Webkit"===rt&&"-apple-trailing-word"in ct&&(at="apple")}var ft=rt,ht=it,dt=at,pt=ot,vt=ut;var yt={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===ft?"-webkit-"+e:ht+e)}},mt={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===ft?ht+"print-"+e:e)}},gt=/[-\s]+(.)?/g;function bt(e,t){return t?t.toUpperCase():""}function kt(e){return e.replace(gt,bt)}function wt(e){return kt("-"+e)}var _t,Ot={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===ft){var n="mask-image";if(kt(n)in t)return e;if(ft+wt(n)in t)return ht+e}return e}},jt={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==dt||vt?e:ht+e)}},xt={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:ht+e)}},Et={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:ht+e)}},St={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===ft||"ms"===ft&&"edge"!==pt?ht+e:e)}},Tt={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===ft||"ms"===ft||"apple"===dt?ht+e:e)}},It={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===ft?"WebkitColumn"+wt(e)in t&&ht+"column-"+e:"Moz"===ft&&("page"+wt(e)in t&&"page-"+e))}},Ct={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===ft)return e;var n=e.replace("-inline","");return ft+wt(n)in t&&ht+n}},Nt={supportedProperty:function(e,t){return kt(e)in t&&e}},Pt={supportedProperty:function(e,t){var n=wt(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:ft+n in t?ht+e:"Webkit"!==ft&&"Webkit"+n in t&&"-webkit-"+e}},Rt={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===ft?""+ht+e:e)}},At={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===ft?ht+"scroll-chaining":e)}},Dt={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Lt={supportedProperty:function(e,t){var n=Dt[e];return!!n&&(ft+wt(n)in t&&ht+n)}},Mt={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Ft=Object.keys(Mt),Ut=function(e){return ht+e},Vt=[yt,mt,Ot,jt,xt,Et,St,Tt,It,Ct,Nt,Pt,Rt,At,Lt,{supportedProperty:function(e,t,n){var r=n.multiple;if(Ft.indexOf(e)>-1){var i=Mt[e];if(!Array.isArray(i))return ft+wt(i)in t&&ht+i;if(!r)return!1;for(var a=0;a<i.length;a++)if(!(ft+wt(i[0])in t))return!1;return i.map(Ut)}return!1}}],qt=Vt.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),zt=Vt.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,Object(nt.a)(t.noPrefill)),e}),[]),Bt={};if(s){_t=document.createElement("p");var Wt=window.getComputedStyle(document.documentElement,"");for(var Ht in Wt)isNaN(Ht)||(Bt[Wt[Ht]]=Wt[Ht]);zt.forEach((function(e){return delete Bt[e]}))}function Kt(e,t){if(void 0===t&&(t={}),!_t)return e;if(null!=Bt[e])return Bt[e];"transition"!==e&&"transform"!==e||(t[e]=e in _t.style);for(var n=0;n<qt.length&&(Bt[e]=qt[n](e,_t.style,t),!Bt[e]);n++);try{_t.style[e]=""}catch(r){return!1}return Bt[e]}var Gt,Qt={},$t={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Yt=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function Jt(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?Kt(t):", "+Kt(n);return r||(t||n)}function Xt(e,t){var n=t;if(!Gt||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=Qt[r])return Qt[r];try{Gt.style[e]=n}catch(i){return Qt[r]=!1,!1}if($t[e])n=n.replace(Yt,Jt);else if(""===Gt.style[e]&&("-ms-flex"===(n=ht+n)&&(Gt.style[e]="-ms-flexbox"),Gt.style[e]=n,""===Gt.style[e]))return Qt[r]=!1,!1;return Gt.style[e]="",Qt[r]=n,Qt[r]}s&&(Gt=document.createElement("p"));var Zt=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var i=!1,a=Kt(n);a&&a!==n&&(i=!0);var o=!1,u=Xt(a,g(r));u&&u!==r&&(o=!0),(i||o)&&(i&&delete t[n],t[a||n]=u||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at="-"===(n=t.at)[1]||"ms"===ft?n:"@"+ht+"keyframes"+n.substr(10)}var n},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return Xt(t,g(e))||e}}};var en=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),a=0;a<i.length;a++)r[i[a]]=t[i[a]];return r}}};function tn(){return{plugins:[Ce(),Me(),qe(),Qe(),tt(),"undefined"===typeof window?null:Zt(),en()]}}var nn=we(tn()),rn={disableGeneration:!1,generateClassName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,i=void 0===r?"jss":r,a=e.seed,o=void 0===a?"":a,u=""===o?"":"".concat(o,"-"),s=0,c=function(){return s+=1};return function(e,t){var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==Ee.indexOf(e.key))return"Mui-".concat(e.key);var a="".concat(u).concat(r,"-").concat(e.key);return t.options.theme[xe]&&""===o?"".concat(a,"-").concat(c()):a}return"".concat(u).concat(i).concat(c())}}(),jss:nn,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},an=o.a.createContext(rn);var on=-1e9;function un(){return on+=1}n(54);var sn=n(152);function cn(e){var t="function"===typeof e;return{create:function(n,r){var a;try{a=t?e(n):e}catch(s){throw s}if(!r||!n.overrides||!n.overrides[r])return a;var o=n.overrides[r],u=Object(i.a)({},a);return Object.keys(o).forEach((function(e){u[e]=Object(sn.a)(u[e],o[e])})),u},options:{}}}var ln={};function fn(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,i=!0),i&&(r.cacheClasses.value=Object(_e.a)({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}function hn(e,t){var n=e.state,r=e.theme,a=e.stylesOptions,o=e.stylesCreator,u=e.name;if(!a.disableGeneration){var s=Oe.get(a.sheetsManager,o,r);s||(s={refs:0,staticSheet:null,dynamicStyles:null},Oe.set(a.sheetsManager,o,r,s));var c=Object(i.a)({},o.options,a,{theme:r,flip:"boolean"===typeof a.flip?a.flip:"rtl"===r.direction});c.generateId=c.serverGenerateClassName||c.generateClassName;var l=a.sheetsRegistry;if(0===s.refs){var f;a.sheetsCache&&(f=Oe.get(a.sheetsCache,o,r));var h=o.create(r,u);f||((f=a.jss.createStyleSheet(h,Object(i.a)({link:!1},c))).attach(),a.sheetsCache&&Oe.set(a.sheetsCache,o,r,f)),l&&l.add(f),s.staticSheet=f,s.dynamicStyles=be(h)}if(s.dynamicStyles){var d=a.jss.createStyleSheet(s.dynamicStyles,Object(i.a)({link:!0},c));d.update(t),d.attach(),n.dynamicSheet=d,n.classes=Object(_e.a)({baseClasses:s.staticSheet.classes,newClasses:d.classes}),l&&l.add(d)}else n.classes=s.staticSheet.classes;s.refs+=1}}function dn(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}function pn(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var a=Oe.get(r.sheetsManager,i,n);a.refs-=1;var o=r.sheetsRegistry;0===a.refs&&(Oe.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(a.staticSheet),o&&o.remove(a.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),o&&o.remove(t.dynamicSheet))}}function vn(e,t){var n,r=o.a.useRef([]),i=o.a.useMemo((function(){return{}}),t);r.current!==i&&(r.current=i,n=e()),o.a.useEffect((function(){return function(){n&&n()}}),[i])}function yn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,a=t.classNamePrefix,u=t.Component,s=t.defaultTheme,c=void 0===s?ln:s,l=Object(r.a)(t,["name","classNamePrefix","Component","defaultTheme"]),f=cn(e),h=n||a||"makeStyles";f.options={index:un(),name:n,meta:h,classNamePrefix:h};var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(je.a)()||c,r=Object(i.a)({},o.a.useContext(an),l),a=o.a.useRef(),s=o.a.useRef();vn((function(){var i={name:n,state:{},stylesCreator:f,stylesOptions:r,theme:t};return hn(i,e),s.current=!1,a.current=i,function(){pn(i)}}),[t,f]),o.a.useEffect((function(){s.current&&dn(a.current,e),s.current=!0}));var h=fn(a.current,e.classes,u);return h};return d}},function(e,t,n){"use strict";var r=n(6),i=n(14),a=n(1),o=n.n(a),u=(n(18),n(25)),s=n(15),c=n(23),l=n(40),f=n(17),h=n(60),d=n(43),p=n(82);function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var y=n(83),m=n(66);function g(e,t){var n=Object.create(null);return e&&a.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&Object(a.isValidElement)(e)?t(e):e}(e)})),n}function b(e,t,n){return null!=n[t]?n[t]:e.props[t]}function k(e,t,n){var r=g(e.children),i=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var u={};for(var s in t){if(i[s])for(r=0;r<i[s].length;r++){var c=i[s][r];u[i[s][r]]=n(c)}u[s]=n(s)}for(r=0;r<a.length;r++)u[a[r]]=n(a[r]);return u}(t,r);return Object.keys(i).forEach((function(o){var u=i[o];if(Object(a.isValidElement)(u)){var s=o in t,c=o in r,l=t[o],f=Object(a.isValidElement)(l)&&!l.props.in;!c||s&&!f?c||!s||f?c&&s&&Object(a.isValidElement)(l)&&(i[o]=Object(a.cloneElement)(u,{onExited:n.bind(null,u),in:l.props.in,exit:b(u,"exit",e),enter:b(u,"enter",e)})):i[o]=Object(a.cloneElement)(u,{in:!1}):i[o]=Object(a.cloneElement)(u,{onExited:n.bind(null,u),in:!0,exit:b(u,"exit",e),enter:b(u,"enter",e)})}})),i}var w=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},_=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}Object(y.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,i=t.children,o=t.handleExited;return{children:t.firstRender?(n=e,r=o,g(n.children,(function(e){return Object(a.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:b(e,"appear",n),enter:b(e,"enter",n),exit:b(e,"exit",n)})}))):k(e,i,o),firstRender:!1}},n.handleExited=function(e,t){var n=g(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=v({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=Object(p.a)(e,["component","childFactory"]),i=this.state.contextValue,a=w(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?o.a.createElement(m.a.Provider,{value:i},a):o.a.createElement(m.a.Provider,{value:i},o.a.createElement(t,r,a))},t}(o.a.Component);_.propTypes={},_.defaultProps={component:"div",childFactory:function(e){return e}};var O=_,j="undefined"===typeof window?a.useEffect:a.useLayoutEffect;var x=function(e){var t=e.classes,n=e.pulsate,r=void 0!==n&&n,i=e.rippleX,o=e.rippleY,u=e.rippleSize,c=e.in,f=e.onExited,h=void 0===f?function(){}:f,d=e.timeout,p=a.useState(!1),v=p[0],y=p[1],m=Object(s.a)(t.ripple,t.rippleVisible,r&&t.ripplePulsate),g={width:u,height:u,top:-u/2+o,left:-u/2+i},b=Object(s.a)(t.child,v&&t.childLeaving,r&&t.childPulsate),k=Object(l.a)(h);return j((function(){if(!c){y(!0);var e=setTimeout(k,d);return function(){clearTimeout(e)}}}),[k,c,d]),a.createElement("span",{className:m,style:g},a.createElement("span",{className:b}))},E=a.forwardRef((function(e,t){var n=e.center,o=void 0!==n&&n,u=e.classes,c=e.className,l=Object(i.a)(e,["center","classes","className"]),f=a.useState([]),h=f[0],p=f[1],v=a.useRef(0),y=a.useRef(null);a.useEffect((function(){y.current&&(y.current(),y.current=null)}),[h]);var m=a.useRef(!1),g=a.useRef(null),b=a.useRef(null),k=a.useRef(null);a.useEffect((function(){return function(){clearTimeout(g.current)}}),[]);var w=a.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,o=e.cb;p((function(e){return[].concat(Object(d.a)(e),[a.createElement(x,{key:v.current,classes:u,timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i})])})),v.current+=1,y.current=o}),[u]),_=a.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,i=void 0!==r&&r,a=t.center,u=void 0===a?o||t.pulsate:a,s=t.fakeElement,c=void 0!==s&&s;if("mousedown"===e.type&&m.current)m.current=!1;else{"touchstart"===e.type&&(m.current=!0);var l,f,h,d=c?null:k.current,p=d?d.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(u||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(p.width/2),f=Math.round(p.height/2);else{var v=e.touches?e.touches[0]:e,y=v.clientX,_=v.clientY;l=Math.round(y-p.left),f=Math.round(_-p.top)}if(u)(h=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(h+=1);else{var O=2*Math.max(Math.abs((d?d.clientWidth:0)-l),l)+2,j=2*Math.max(Math.abs((d?d.clientHeight:0)-f),f)+2;h=Math.sqrt(Math.pow(O,2)+Math.pow(j,2))}e.touches?null===b.current&&(b.current=function(){w({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})},g.current=setTimeout((function(){b.current&&(b.current(),b.current=null)}),80)):w({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})}}),[o,w]),j=a.useCallback((function(){_({},{pulsate:!0})}),[_]),E=a.useCallback((function(e,t){if(clearTimeout(g.current),"touchend"===e.type&&b.current)return e.persist(),b.current(),b.current=null,void(g.current=setTimeout((function(){E(e,t)})));b.current=null,p((function(e){return e.length>0?e.slice(1):e})),y.current=t}),[]);return a.useImperativeHandle(t,(function(){return{pulsate:j,start:_,stop:E}}),[j,_,E]),a.createElement("span",Object(r.a)({className:Object(s.a)(u.root,c),ref:k},l),a.createElement(O,{component:null,exit:!0},h))})),S=Object(f.a)((function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(a.memo(E)),T=a.forwardRef((function(e,t){var n=e.action,o=e.buttonRef,f=e.centerRipple,d=void 0!==f&&f,p=e.children,v=e.classes,y=e.className,m=e.component,g=void 0===m?"button":m,b=e.disabled,k=void 0!==b&&b,w=e.disableRipple,_=void 0!==w&&w,O=e.disableTouchRipple,j=void 0!==O&&O,x=e.focusRipple,E=void 0!==x&&x,T=e.focusVisibleClassName,I=e.onBlur,C=e.onClick,N=e.onFocus,P=e.onFocusVisible,R=e.onKeyDown,A=e.onKeyUp,D=e.onMouseDown,L=e.onMouseLeave,M=e.onMouseUp,F=e.onTouchEnd,U=e.onTouchMove,V=e.onTouchStart,q=e.onDragLeave,z=e.tabIndex,B=void 0===z?0:z,W=e.TouchRippleProps,H=e.type,K=void 0===H?"button":H,G=Object(i.a)(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),Q=a.useRef(null);var $=a.useRef(null),Y=a.useState(!1),J=Y[0],X=Y[1];k&&J&&X(!1);var Z=Object(h.a)(),ee=Z.isFocusVisible,te=Z.onBlurVisible,ne=Z.ref;function re(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:j;return Object(l.a)((function(r){return t&&t(r),!n&&$.current&&$.current[e](r),!0}))}a.useImperativeHandle(n,(function(){return{focusVisible:function(){X(!0),Q.current.focus()}}}),[]),a.useEffect((function(){J&&E&&!_&&$.current.pulsate()}),[_,E,J]);var ie=re("start",D),ae=re("stop",q),oe=re("stop",M),ue=re("stop",(function(e){J&&e.preventDefault(),L&&L(e)})),se=re("start",V),ce=re("stop",F),le=re("stop",U),fe=re("stop",(function(e){J&&(te(e),X(!1)),I&&I(e)}),!1),he=Object(l.a)((function(e){Q.current||(Q.current=e.currentTarget),ee(e)&&(X(!0),P&&P(e)),N&&N(e)})),de=function(){var e=u.findDOMNode(Q.current);return g&&"button"!==g&&!("A"===e.tagName&&e.href)},pe=a.useRef(!1),ve=Object(l.a)((function(e){E&&!pe.current&&J&&$.current&&" "===e.key&&(pe.current=!0,e.persist(),$.current.stop(e,(function(){$.current.start(e)}))),e.target===e.currentTarget&&de()&&" "===e.key&&e.preventDefault(),R&&R(e),e.target===e.currentTarget&&de()&&"Enter"===e.key&&!k&&(e.preventDefault(),C&&C(e))})),ye=Object(l.a)((function(e){E&&" "===e.key&&$.current&&J&&!e.defaultPrevented&&(pe.current=!1,e.persist(),$.current.stop(e,(function(){$.current.pulsate(e)}))),A&&A(e),C&&e.target===e.currentTarget&&de()&&" "===e.key&&!e.defaultPrevented&&C(e)})),me=g;"button"===me&&G.href&&(me="a");var ge={};"button"===me?(ge.type=K,ge.disabled=k):("a"===me&&G.href||(ge.role="button"),ge["aria-disabled"]=k);var be=Object(c.a)(o,t),ke=Object(c.a)(ne,Q),we=Object(c.a)(be,ke),_e=a.useState(!1),Oe=_e[0],je=_e[1];a.useEffect((function(){je(!0)}),[]);var xe=Oe&&!_&&!k;return a.createElement(me,Object(r.a)({className:Object(s.a)(v.root,y,J&&[v.focusVisible,T],k&&v.disabled),onBlur:fe,onClick:C,onFocus:he,onKeyDown:ve,onKeyUp:ye,onMouseDown:ie,onMouseLeave:ue,onMouseUp:oe,onDragLeave:ae,onTouchEnd:ce,onTouchMove:le,onTouchStart:se,ref:we,tabIndex:k?-1:B},ge,G),p,xe?a.createElement(S,Object(r.a)({ref:$,center:d},W)):null)}));t.a=Object(f.a)({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(T)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(6);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var i=Object(r.a)({},t);return Object.keys(n).forEach((function(e){n[e]&&(i[e]="".concat(t[e]," ").concat(n[e]))})),i}},function(e,t,n){"use strict";function r(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var i,a=t.props[n];for(i in a)void 0===r[i]&&(r[i]=a[i]);return r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(6),i=n(14),a=n(1),o=(n(18),n(15)),u=n(36),s=n(17),c=n(107),l=n(21),f=a.forwardRef((function(e,t){e.checked;var n=e.classes,s=e.className,f=e.control,h=e.disabled,d=(e.inputRef,e.label),p=e.labelPlacement,v=void 0===p?"end":p,y=(e.name,e.onChange,e.value,Object(i.a)(e,["checked","classes","className","control","disabled","inputRef","label","labelPlacement","name","onChange","value"])),m=Object(u.a)(),g=h;"undefined"===typeof g&&"undefined"!==typeof f.props.disabled&&(g=f.props.disabled),"undefined"===typeof g&&m&&(g=m.disabled);var b={disabled:g};return["checked","name","onChange","value","inputRef"].forEach((function(t){"undefined"===typeof f.props[t]&&"undefined"!==typeof e[t]&&(b[t]=e[t])})),a.createElement("label",Object(r.a)({className:Object(o.a)(n.root,s,"end"!==v&&n["labelPlacement".concat(Object(l.a)(v))],g&&n.disabled),ref:t},y),a.cloneElement(f,b),a.createElement(c.a,{component:"span",className:Object(o.a)(n.label,g&&n.disabled)},d))}));t.a=Object(s.a)((function(e){return{root:{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,"&$disabled":{cursor:"default"}},labelPlacementStart:{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},labelPlacementTop:{flexDirection:"column-reverse",marginLeft:16},labelPlacementBottom:{flexDirection:"column",marginLeft:16},disabled:{},label:{"&$disabled":{color:e.palette.text.disabled}}}}),{name:"MuiFormControlLabel"})(f)},function(e,t,n){"use strict";var r=n(14),i=n(6),a=n(1),o=(n(18),n(15)),u=n(17),s=n(32),c=n(154),l=n(21),f=a.forwardRef((function(e,t){var n=e.children,u=e.classes,s=e.className,f=e.color,h=void 0===f?"default":f,d=e.component,p=void 0===d?"button":d,v=e.disabled,y=void 0!==v&&v,m=e.disableElevation,g=void 0!==m&&m,b=e.disableFocusRipple,k=void 0!==b&&b,w=e.endIcon,_=e.focusVisibleClassName,O=e.fullWidth,j=void 0!==O&&O,x=e.size,E=void 0===x?"medium":x,S=e.startIcon,T=e.type,I=void 0===T?"button":T,C=e.variant,N=void 0===C?"text":C,P=Object(r.a)(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),R=S&&a.createElement("span",{className:Object(o.a)(u.startIcon,u["iconSize".concat(Object(l.a)(E))])},S),A=w&&a.createElement("span",{className:Object(o.a)(u.endIcon,u["iconSize".concat(Object(l.a)(E))])},w);return a.createElement(c.a,Object(i.a)({className:Object(o.a)(u.root,u[N],s,"inherit"===h?u.colorInherit:"default"!==h&&u["".concat(N).concat(Object(l.a)(h))],"medium"!==E&&[u["".concat(N,"Size").concat(Object(l.a)(E))],u["size".concat(Object(l.a)(E))]],g&&u.disableElevation,y&&u.disabled,j&&u.fullWidth),component:p,disabled:y,focusRipple:!k,focusVisibleClassName:Object(o.a)(u.focusVisible,_),ref:t,type:I},P),a.createElement("span",{className:u.label},R,n,A))}));t.a=Object(u.a)((function(e){return{root:Object(i.a)({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:Object(s.a)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(s.a)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(s.a)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(Object(s.a)(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:Object(s.a)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(Object(s.a)(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:Object(s.a)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}}),{name:"MuiButton"})(f)},function(e,t,n){"use strict";var r=n(6),i=n(153),a=n(52);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(i.a)(e,Object(r.a)({defaultTheme:a.a},t))}},function(e,t,n){"use strict";var r=n(14),i=n(6),a=n(1),o=(n(18),n(15)),u=n(17),s=[0,1,2,3,4,5,6,7,8,9,10],c=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=parseFloat(e);return"".concat(n/t).concat(String(e).replace(String(n),"")||"px")}var f=a.forwardRef((function(e,t){var n=e.alignContent,u=void 0===n?"stretch":n,s=e.alignItems,c=void 0===s?"stretch":s,l=e.classes,f=e.className,h=e.component,d=void 0===h?"div":h,p=e.container,v=void 0!==p&&p,y=e.direction,m=void 0===y?"row":y,g=e.item,b=void 0!==g&&g,k=e.justify,w=e.justifyContent,_=void 0===w?"flex-start":w,O=e.lg,j=void 0!==O&&O,x=e.md,E=void 0!==x&&x,S=e.sm,T=void 0!==S&&S,I=e.spacing,C=void 0===I?0:I,N=e.wrap,P=void 0===N?"wrap":N,R=e.xl,A=void 0!==R&&R,D=e.xs,L=void 0!==D&&D,M=e.zeroMinWidth,F=void 0!==M&&M,U=Object(r.a)(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","justifyContent","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),V=Object(o.a)(l.root,f,v&&[l.container,0!==C&&l["spacing-xs-".concat(String(C))]],b&&l.item,F&&l.zeroMinWidth,"row"!==m&&l["direction-xs-".concat(String(m))],"wrap"!==P&&l["wrap-xs-".concat(String(P))],"stretch"!==c&&l["align-items-xs-".concat(String(c))],"stretch"!==u&&l["align-content-xs-".concat(String(u))],"flex-start"!==(k||_)&&l["justify-content-xs-".concat(String(k||_))],!1!==L&&l["grid-xs-".concat(String(L))],!1!==T&&l["grid-sm-".concat(String(T))],!1!==E&&l["grid-md-".concat(String(E))],!1!==j&&l["grid-lg-".concat(String(j))],!1!==A&&l["grid-xl-".concat(String(A))]);return a.createElement(d,Object(i.a)({className:V,ref:t},U))})),h=Object(u.a)((function(e){return Object(i.a)({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-content-xs-center":{justifyContent:"center"},"justify-content-xs-flex-end":{justifyContent:"flex-end"},"justify-content-xs-space-between":{justifyContent:"space-between"},"justify-content-xs-space-around":{justifyContent:"space-around"},"justify-content-xs-space-evenly":{justifyContent:"space-evenly"}},function(e,t){var n={};return s.forEach((function(r){var i=e.spacing(r);0!==i&&(n["spacing-".concat(t,"-").concat(r)]={margin:"-".concat(l(i,2)),width:"calc(100% + ".concat(l(i),")"),"& > $item":{padding:l(i,2)}})})),n}(e,"xs"),e.breakpoints.keys.reduce((function(t,n){return function(e,t,n){var r={};c.forEach((function(e){var t="grid-".concat(n,"-").concat(e);if(!0!==e)if("auto"!==e){var i="".concat(Math.round(e/12*1e8)/1e6,"%");r[t]={flexBasis:i,flexGrow:0,maxWidth:i}}else r[t]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else r[t]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===n?Object(i.a)(e,r):e[t.breakpoints.up(n)]=r}(t,e,n),t}),{}))}),{name:"MuiGrid"})(f);t.a=h},function(e,t,n){"use strict";var r=n(6),i=n(14),a=n(1),o=(n(18),n(15)),u=n(21),s=n(17),c=n(60),l=n(23),f=n(107),h=a.forwardRef((function(e,t){var n=e.classes,s=e.className,h=e.color,d=void 0===h?"primary":h,p=e.component,v=void 0===p?"a":p,y=e.onBlur,m=e.onFocus,g=e.TypographyClasses,b=e.underline,k=void 0===b?"hover":b,w=e.variant,_=void 0===w?"inherit":w,O=Object(i.a)(e,["classes","className","color","component","onBlur","onFocus","TypographyClasses","underline","variant"]),j=Object(c.a)(),x=j.isFocusVisible,E=j.onBlurVisible,S=j.ref,T=a.useState(!1),I=T[0],C=T[1],N=Object(l.a)(t,S);return a.createElement(f.a,Object(r.a)({className:Object(o.a)(n.root,n["underline".concat(Object(u.a)(k))],s,I&&n.focusVisible,"button"===v&&n.button),classes:g,color:d,component:v,onBlur:function(e){I&&(E(),C(!1)),y&&y(e)},onFocus:function(e){x(e)&&C(!0),m&&m(e)},ref:N,variant:_},O))}));t.a=Object(s.a)({root:{},underlineNone:{textDecoration:"none"},underlineHover:{textDecoration:"none","&:hover":{textDecoration:"underline"}},underlineAlways:{textDecoration:"underline"},button:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none","&::-moz-focus-inner":{borderStyle:"none"},"&$focusVisible":{outline:"auto"}},focusVisible:{}},{name:"MuiLink"})(h)},function(e,t,n){"use strict";var r=n(6),i=n(14),a=n(1),o=n.n(a),u=(n(18),n(15)),s=n(106);function c(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}var l=n(56),f=n(17),h=n(21),d=n(23),p=n(57);function v(e,t){return parseInt(e[t],10)||0}var y="undefined"!==typeof window?a.useLayoutEffect:a.useEffect,m={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},g=a.forwardRef((function(e,t){var n=e.onChange,o=e.rows,u=e.rowsMax,s=e.rowsMin,c=e.maxRows,l=e.minRows,f=void 0===l?1:l,h=e.style,g=e.value,b=Object(i.a)(e,["onChange","rows","rowsMax","rowsMin","maxRows","minRows","style","value"]),k=c||u,w=o||s||f,_=a.useRef(null!=g).current,O=a.useRef(null),j=Object(d.a)(t,O),x=a.useRef(null),E=a.useRef(0),S=a.useState({}),T=S[0],I=S[1],C=a.useCallback((function(){var t=O.current,n=window.getComputedStyle(t),r=x.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var i=n["box-sizing"],a=v(n,"padding-bottom")+v(n,"padding-top"),o=v(n,"border-bottom-width")+v(n,"border-top-width"),u=r.scrollHeight-a;r.value="x";var s=r.scrollHeight-a,c=u;w&&(c=Math.max(Number(w)*s,c)),k&&(c=Math.min(Number(k)*s,c));var l=(c=Math.max(c,s))+("border-box"===i?a+o:0),f=Math.abs(c-u)<=1;I((function(e){return E.current<20&&(l>0&&Math.abs((e.outerHeightStyle||0)-l)>1||e.overflow!==f)?(E.current+=1,{overflow:f,outerHeightStyle:l}):e}))}),[k,w,e.placeholder]);a.useEffect((function(){var e=Object(p.a)((function(){E.current=0,C()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}),[C]),y((function(){C()})),a.useEffect((function(){E.current=0}),[g]);return a.createElement(a.Fragment,null,a.createElement("textarea",Object(r.a)({value:g,onChange:function(e){E.current=0,_||C(),n&&n(e)},ref:j,rows:w,style:Object(r.a)({height:T.outerHeightStyle,overflow:T.overflow?"hidden":null},h)},b)),a.createElement("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:x,tabIndex:-1,style:Object(r.a)({},m,h)}))}));function b(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function k(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(b(e.value)&&""!==e.value||t&&b(e.defaultValue)&&""!==e.defaultValue)}var w="undefined"===typeof window?a.useEffect:a.useLayoutEffect,_=a.forwardRef((function(e,t){var n=e["aria-describedby"],o=e.autoComplete,f=e.autoFocus,p=e.classes,v=e.className,y=(e.color,e.defaultValue),m=e.disabled,b=e.endAdornment,_=(e.error,e.fullWidth),O=void 0!==_&&_,j=e.id,x=e.inputComponent,E=void 0===x?"input":x,S=e.inputProps,T=void 0===S?{}:S,I=e.inputRef,C=(e.margin,e.multiline),N=void 0!==C&&C,P=e.name,R=e.onBlur,A=e.onChange,D=e.onClick,L=e.onFocus,M=e.onKeyDown,F=e.onKeyUp,U=e.placeholder,V=e.readOnly,q=e.renderSuffix,z=e.rows,B=e.rowsMax,W=e.rowsMin,H=e.maxRows,K=e.minRows,G=e.startAdornment,Q=e.type,$=void 0===Q?"text":Q,Y=e.value,J=Object(i.a)(e,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","maxRows","minRows","startAdornment","type","value"]),X=null!=T.value?T.value:Y,Z=a.useRef(null!=X).current,ee=a.useRef(),te=a.useCallback((function(e){0}),[]),ne=Object(d.a)(T.ref,te),re=Object(d.a)(I,ne),ie=Object(d.a)(ee,re),ae=a.useState(!1),oe=ae[0],ue=ae[1],se=Object(l.b)();var ce=c({props:e,muiFormControl:se,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});ce.focused=se?se.focused:oe,a.useEffect((function(){!se&&m&&oe&&(ue(!1),R&&R())}),[se,m,oe,R]);var le=se&&se.onFilled,fe=se&&se.onEmpty,he=a.useCallback((function(e){k(e)?le&&le():fe&&fe()}),[le,fe]);w((function(){Z&&he({value:X})}),[X,he,Z]);a.useEffect((function(){he(ee.current)}),[]);var de=E,pe=Object(r.a)({},T,{ref:ie});"string"!==typeof de?pe=Object(r.a)({inputRef:ie,type:$},pe,{ref:null}):N?!z||H||K||B||W?(pe=Object(r.a)({minRows:z||K,rowsMax:B,maxRows:H},pe),de=g):de="textarea":pe=Object(r.a)({type:$},pe);return a.useEffect((function(){se&&se.setAdornedStart(Boolean(G))}),[se,G]),a.createElement("div",Object(r.a)({className:Object(u.a)(p.root,p["color".concat(Object(h.a)(ce.color||"primary"))],v,ce.disabled&&p.disabled,ce.error&&p.error,O&&p.fullWidth,ce.focused&&p.focused,se&&p.formControl,N&&p.multiline,G&&p.adornedStart,b&&p.adornedEnd,"dense"===ce.margin&&p.marginDense),onClick:function(e){ee.current&&e.currentTarget===e.target&&ee.current.focus(),D&&D(e)},ref:t},J),G,a.createElement(l.a.Provider,{value:null},a.createElement(de,Object(r.a)({"aria-invalid":ce.error,"aria-describedby":n,autoComplete:o,autoFocus:f,defaultValue:y,disabled:ce.disabled,id:j,onAnimationStart:function(e){he("mui-auto-fill-cancel"===e.animationName?ee.current:{value:"x"})},name:P,placeholder:U,readOnly:V,required:ce.required,rows:z,value:X,onKeyDown:M,onKeyUp:F},pe,{className:Object(u.a)(p.input,T.className,ce.disabled&&p.disabled,N&&p.inputMultiline,ce.hiddenLabel&&p.inputHiddenLabel,G&&p.inputAdornedStart,b&&p.inputAdornedEnd,"search"===$&&p.inputTypeSearch,"dense"===ce.margin&&p.inputMarginDense),onBlur:function(e){R&&R(e),T.onBlur&&T.onBlur(e),se&&se.onBlur?se.onBlur(e):ue(!1)},onChange:function(e){if(!Z){var t=e.target||ee.current;if(null==t)throw new Error(Object(s.a)(1));he({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];T.onChange&&T.onChange.apply(T,[e].concat(r)),A&&A.apply(void 0,[e].concat(r))},onFocus:function(e){ce.disabled?e.stopPropagation():(L&&L(e),T.onFocus&&T.onFocus(e),se&&se.onFocus?se.onFocus(e):ue(!0))}}))),b,q?q(Object(r.a)({},ce,{startAdornment:G})):null)})),O=Object(f.a)((function(e){var t="light"===e.palette.type,n={color:"currentColor",opacity:t?.42:.5,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},i={opacity:"0 !important"},a={opacity:t?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{},"@keyframes mui-auto-fill-cancel":{}},root:Object(r.a)({},e.typography.body1,{color:e.palette.text.primary,lineHeight:"1.1876em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:e.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(6,"px 0 ").concat(7,"px"),"&$marginDense":{paddingTop:3}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"".concat(6,"px 0 ").concat(7,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1876em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":a,"&:focus::-moz-placeholder":a,"&:focus:-ms-input-placeholder":a,"&:focus::-ms-input-placeholder":a},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:3},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}}),{name:"MuiInputBase"})(_),j=a.forwardRef((function(e,t){var n=e.disableUnderline,o=e.classes,s=e.fullWidth,c=void 0!==s&&s,l=e.inputComponent,f=void 0===l?"input":l,h=e.multiline,d=void 0!==h&&h,p=e.type,v=void 0===p?"text":p,y=Object(i.a)(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return a.createElement(O,Object(r.a)({classes:Object(r.a)({},o,{root:Object(u.a)(o.root,!n&&o.underline),underline:null}),fullWidth:c,inputComponent:f,multiline:d,ref:t,type:v},y))}));j.muiName="Input";var x=Object(f.a)((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(t),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(e.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(t)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},marginDense:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}}),{name:"MuiInput"})(j),E=a.forwardRef((function(e,t){var n=e.disableUnderline,o=e.classes,s=e.fullWidth,c=void 0!==s&&s,l=e.inputComponent,f=void 0===l?"input":l,h=e.multiline,d=void 0!==h&&h,p=e.type,v=void 0===p?"text":p,y=Object(i.a)(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return a.createElement(O,Object(r.a)({classes:Object(r.a)({},o,{root:Object(u.a)(o.root,!n&&o.underline),underline:null}),fullWidth:c,inputComponent:f,multiline:d,ref:t,type:v},y))}));E.muiName="Input";var S=Object(f.a)((function(e){var t="light"===e.palette.type,n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)";return{root:{position:"relative",backgroundColor:r,borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:t?"rgba(0, 0, 0, 0.13)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:r}},"&$focused":{backgroundColor:t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)"},"&$disabled":{backgroundColor:t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(n),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:before":{borderBottom:"1px solid ".concat(e.palette.text.primary)},"&$disabled:before":{borderBottomStyle:"dotted"}},focused:{},disabled:{},adornedStart:{paddingLeft:12},adornedEnd:{paddingRight:12},error:{},marginDense:{},multiline:{padding:"27px 12px 10px","&$marginDense":{paddingTop:23,paddingBottom:6}},input:{padding:"27px 12px 10px","&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.type?null:"#fff",caretColor:"light"===e.palette.type?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},inputMarginDense:{paddingTop:23,paddingBottom:6},inputHiddenLabel:{paddingTop:18,paddingBottom:19,"&$inputMarginDense":{paddingTop:10,paddingBottom:11}},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiFilledInput"})(E),T=n(48),I=n(195),C=n(52);function N(){return Object(I.a)()||C.a}var P=a.forwardRef((function(e,t){e.children;var n=e.classes,o=e.className,s=e.label,c=e.labelWidth,l=e.notched,f=e.style,d=Object(i.a)(e,["children","classes","className","label","labelWidth","notched","style"]),p="rtl"===N().direction?"right":"left";if(void 0!==s)return a.createElement("fieldset",Object(r.a)({"aria-hidden":!0,className:Object(u.a)(n.root,o),ref:t,style:f},d),a.createElement("legend",{className:Object(u.a)(n.legendLabelled,l&&n.legendNotched)},s?a.createElement("span",null,s):a.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})));var v=c>0?.75*c+8:.01;return a.createElement("fieldset",Object(r.a)({"aria-hidden":!0,style:Object(r.a)(Object(T.a)({},"padding".concat(Object(h.a)(p)),8),f),className:Object(u.a)(n.root,o),ref:t},d),a.createElement("legend",{className:n.legend,style:{width:l?v:.01}},a.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})))})),R=Object(f.a)((function(e){return{root:{position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden"},legend:{textAlign:"left",padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},legendLabelled:{display:"block",width:"auto",textAlign:"left",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),"& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},legendNotched:{maxWidth:1e3,transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}}),{name:"PrivateNotchedOutline"})(P),A=a.forwardRef((function(e,t){var n=e.classes,o=e.fullWidth,s=void 0!==o&&o,c=e.inputComponent,l=void 0===c?"input":c,f=e.label,h=e.labelWidth,d=void 0===h?0:h,p=e.multiline,v=void 0!==p&&p,y=e.notched,m=e.type,g=void 0===m?"text":m,b=Object(i.a)(e,["classes","fullWidth","inputComponent","label","labelWidth","multiline","notched","type"]);return a.createElement(O,Object(r.a)({renderSuffix:function(e){return a.createElement(R,{className:n.notchedOutline,label:f,labelWidth:d,notched:"undefined"!==typeof y?y:Boolean(e.startAdornment||e.filled||e.focused)})},classes:Object(r.a)({},n,{root:Object(u.a)(n.root,n.underline),notchedOutline:null}),fullWidth:s,inputComponent:l,multiline:v,ref:t,type:g},b))}));A.muiName="Input";var D=Object(f.a)((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{root:{position:"relative",borderRadius:e.shape.borderRadius,"&:hover $notchedOutline":{borderColor:e.palette.text.primary},"@media (hover: none)":{"&:hover $notchedOutline":{borderColor:t}},"&$focused $notchedOutline":{borderColor:e.palette.primary.main,borderWidth:2},"&$error $notchedOutline":{borderColor:e.palette.error.main},"&$disabled $notchedOutline":{borderColor:e.palette.action.disabled}},colorSecondary:{"&$focused $notchedOutline":{borderColor:e.palette.secondary.main}},focused:{},disabled:{},adornedStart:{paddingLeft:14},adornedEnd:{paddingRight:14},error:{},marginDense:{},multiline:{padding:"18.5px 14px","&$marginDense":{paddingTop:10.5,paddingBottom:10.5}},notchedOutline:{borderColor:t},input:{padding:"18.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.type?null:"#fff",caretColor:"light"===e.palette.type?null:"#fff",borderRadius:"inherit"}},inputMarginDense:{paddingTop:10.5,paddingBottom:10.5},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiOutlinedInput"})(A),L=n(36),M=a.forwardRef((function(e,t){var n=e.children,o=e.classes,s=e.className,l=(e.color,e.component),f=void 0===l?"label":l,d=(e.disabled,e.error,e.filled,e.focused,e.required,Object(i.a)(e,["children","classes","className","color","component","disabled","error","filled","focused","required"])),p=c({props:e,muiFormControl:Object(L.a)(),states:["color","required","focused","disabled","error","filled"]});return a.createElement(f,Object(r.a)({className:Object(u.a)(o.root,o["color".concat(Object(h.a)(p.color||"primary"))],s,p.disabled&&o.disabled,p.error&&o.error,p.filled&&o.filled,p.focused&&o.focused,p.required&&o.required),ref:t},d),n,p.required&&a.createElement("span",{"aria-hidden":!0,className:Object(u.a)(o.asterisk,p.error&&o.error)},"\u2009","*"))})),F=Object(f.a)((function(e){return{root:Object(r.a)({color:e.palette.text.secondary},e.typography.body1,{lineHeight:1,padding:0,"&$focused":{color:e.palette.primary.main},"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),colorSecondary:{"&$focused":{color:e.palette.secondary.main}},focused:{},disabled:{},error:{},filled:{},required:{},asterisk:{"&$error":{color:e.palette.error.main}}}}),{name:"MuiFormLabel"})(M),U=a.forwardRef((function(e,t){var n=e.classes,o=e.className,s=e.disableAnimation,l=void 0!==s&&s,f=(e.margin,e.shrink),h=(e.variant,Object(i.a)(e,["classes","className","disableAnimation","margin","shrink","variant"])),d=Object(L.a)(),p=f;"undefined"===typeof p&&d&&(p=d.filled||d.focused||d.adornedStart);var v=c({props:e,muiFormControl:d,states:["margin","variant"]});return a.createElement(F,Object(r.a)({"data-shrink":p,className:Object(u.a)(n.root,o,d&&n.formControl,!l&&n.animated,p&&n.shrink,"dense"===v.margin&&n.marginDense,{filled:n.filled,outlined:n.outlined}[v.variant]),classes:{focused:n.focused,disabled:n.disabled,error:n.error,required:n.required,asterisk:n.asterisk},ref:t},h))})),V=Object(f.a)((function(e){return{root:{display:"block",transformOrigin:"top left"},focused:{},disabled:{},error:{},required:{},asterisk:{},formControl:{position:"absolute",left:0,top:0,transform:"translate(0, 24px) scale(1)"},marginDense:{transform:"translate(0, 21px) scale(1)"},shrink:{transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left"},animated:{transition:e.transitions.create(["color","transform"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},filled:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 20px) scale(1)","&$marginDense":{transform:"translate(12px, 17px) scale(1)"},"&$shrink":{transform:"translate(12px, 10px) scale(0.75)","&$marginDense":{transform:"translate(12px, 7px) scale(0.75)"}}},outlined:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 20px) scale(1)","&$marginDense":{transform:"translate(14px, 12px) scale(1)"},"&$shrink":{transform:"translate(14px, -6px) scale(0.75)"}}}}),{name:"MuiInputLabel"})(U),q=n(64),z=a.forwardRef((function(e,t){var n=e.children,o=e.classes,s=e.className,c=e.color,f=void 0===c?"primary":c,d=e.component,p=void 0===d?"div":d,v=e.disabled,y=void 0!==v&&v,m=e.error,g=void 0!==m&&m,b=e.fullWidth,w=void 0!==b&&b,_=e.focused,O=e.hiddenLabel,j=void 0!==O&&O,x=e.margin,E=void 0===x?"none":x,S=e.required,T=void 0!==S&&S,I=e.size,C=e.variant,N=void 0===C?"standard":C,P=Object(i.a)(e,["children","classes","className","color","component","disabled","error","fullWidth","focused","hiddenLabel","margin","required","size","variant"]),R=a.useState((function(){var e=!1;return n&&a.Children.forEach(n,(function(t){if(Object(q.a)(t,["Input","Select"])){var n=Object(q.a)(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)}})),e})),A=R[0],D=R[1],L=a.useState((function(){var e=!1;return n&&a.Children.forEach(n,(function(t){Object(q.a)(t,["Input","Select"])&&k(t.props,!0)&&(e=!0)})),e})),M=L[0],F=L[1],U=a.useState(!1),V=U[0],z=U[1],B=void 0!==_?_:V;y&&B&&z(!1);var W=a.useCallback((function(){F(!0)}),[]),H={adornedStart:A,setAdornedStart:D,color:f,disabled:y,error:g,filled:M,focused:B,fullWidth:w,hiddenLabel:j,margin:("small"===I?"dense":void 0)||E,onBlur:function(){z(!1)},onEmpty:a.useCallback((function(){F(!1)}),[]),onFilled:W,onFocus:function(){z(!0)},registerEffect:undefined,required:T,variant:N};return a.createElement(l.a.Provider,{value:H},a.createElement(p,Object(r.a)({className:Object(u.a)(o.root,s,"none"!==E&&o["margin".concat(Object(h.a)(E))],w&&o.fullWidth),ref:t},P),n))})),B=Object(f.a)({root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}},{name:"MuiFormControl"})(z),W=a.forwardRef((function(e,t){var n=e.children,o=e.classes,s=e.className,l=e.component,f=void 0===l?"p":l,h=(e.disabled,e.error,e.filled,e.focused,e.margin,e.required,e.variant,Object(i.a)(e,["children","classes","className","component","disabled","error","filled","focused","margin","required","variant"])),d=c({props:e,muiFormControl:Object(L.a)(),states:["variant","margin","disabled","error","filled","focused","required"]});return a.createElement(f,Object(r.a)({className:Object(u.a)(o.root,("filled"===d.variant||"outlined"===d.variant)&&o.contained,s,d.disabled&&o.disabled,d.error&&o.error,d.filled&&o.filled,d.focused&&o.focused,d.required&&o.required,"dense"===d.margin&&o.marginDense),ref:t},h)," "===n?a.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):n)})),H=Object(f.a)((function(e){return{root:Object(r.a)({color:e.palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,margin:0,"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),error:{},disabled:{},marginDense:{marginTop:4},contained:{marginLeft:14,marginRight:14},focused:{},filled:{},required:{}}}),{name:"MuiFormHelperText"})(W),K=n(183),G=n(53),Q=n(54),$=(n(87),n(33)),Y=n(25),J=n.n(Y),X=n(58),Z=n(55),ee=n(184),te=n(42);var ne="undefined"!==typeof window?a.useLayoutEffect:a.useEffect;var re=a.forwardRef((function(e,t){var n=e.children,r=e.container,i=e.disablePortal,o=void 0!==i&&i,u=e.onRendered,s=a.useState(null),c=s[0],l=s[1],f=Object(d.a)(a.isValidElement(n)?n.ref:null,t);return ne((function(){o||l(function(e){return e="function"===typeof e?e():e,Y.findDOMNode(e)}(r)||document.body)}),[r,o]),ne((function(){if(c&&!o)return Object(te.a)(t,c),function(){Object(te.a)(t,null)}}),[t,c,o]),ne((function(){u&&(c||o)&&u()}),[u,c,o]),o?a.isValidElement(n)?a.cloneElement(n,{ref:f}):n:c?Y.createPortal(n,c):c})),ie=n(40),ae=n(80);var oe=n(65),ue=n(43);function se(){var e=document.createElement("div");e.style.width="99px",e.style.height="99px",e.style.position="absolute",e.style.top="-9999px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}function ce(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function le(e){return parseInt(window.getComputedStyle(e)["padding-right"],10)||0}function fe(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,a=[t,n].concat(Object(ue.a)(r)),o=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,(function(e){1===e.nodeType&&-1===a.indexOf(e)&&-1===o.indexOf(e.tagName)&&ce(e,i)}))}function he(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function de(e,t){var n,r=[],i=[],a=e.container;if(!t.disableScrollLock){if(function(e){var t=Object($.a)(e);return t.body===e?Object(X.a)(t).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(a)){var o=se();r.push({value:a.style.paddingRight,key:"padding-right",el:a}),a.style["padding-right"]="".concat(le(a)+o,"px"),n=Object($.a)(a).querySelectorAll(".mui-fixed"),[].forEach.call(n,(function(e){i.push(e.style.paddingRight),e.style.paddingRight="".concat(le(e)+o,"px")}))}var u=a.parentElement,s="HTML"===u.nodeName&&"scroll"===window.getComputedStyle(u)["overflow-y"]?u:a;r.push({value:s.style.overflow,key:"overflow",el:s}),s.style.overflow="hidden"}return function(){n&&[].forEach.call(n,(function(e,t){i[t]?e.style.paddingRight=i[t]:e.style.removeProperty("padding-right")})),r.forEach((function(e){var t=e.value,n=e.el,r=e.key;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var pe=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.modals=[],this.containers=[]}return Object(oe.a)(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&ce(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){e.getAttribute&&"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);fe(t,e.mountNode,e.modalRef,r,!0);var i=he(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblingNodes:r}),n)}},{key:"mount",value:function(e,t){var n=he(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=de(r,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var n=he(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&ce(e.modalRef,!0),fe(r.container,e.mountNode,e.modalRef,r.hiddenSiblingNodes,!1),this.containers.splice(n,1);else{var i=r.modals[r.modals.length-1];i.modalRef&&ce(i.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}();var ve=function(e){var t=e.children,n=e.disableAutoFocus,r=void 0!==n&&n,i=e.disableEnforceFocus,o=void 0!==i&&i,u=e.disableRestoreFocus,s=void 0!==u&&u,c=e.getDoc,l=e.isEnabled,f=e.open,h=a.useRef(),p=a.useRef(null),v=a.useRef(null),y=a.useRef(),m=a.useRef(null),g=a.useCallback((function(e){m.current=Y.findDOMNode(e)}),[]),b=Object(d.a)(t.ref,g),k=a.useRef();return a.useEffect((function(){k.current=f}),[f]),!k.current&&f&&"undefined"!==typeof window&&(y.current=c().activeElement),a.useEffect((function(){if(f){var e=Object($.a)(m.current);r||!m.current||m.current.contains(e.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex",-1),m.current.focus());var t=function(){null!==m.current&&(e.hasFocus()&&!o&&l()&&!h.current?m.current&&!m.current.contains(e.activeElement)&&m.current.focus():h.current=!1)},n=function(t){!o&&l()&&9===t.keyCode&&e.activeElement===m.current&&(h.current=!0,t.shiftKey?v.current.focus():p.current.focus())};e.addEventListener("focus",t,!0),e.addEventListener("keydown",n,!0);var i=setInterval((function(){t()}),50);return function(){clearInterval(i),e.removeEventListener("focus",t,!0),e.removeEventListener("keydown",n,!0),s||(y.current&&y.current.focus&&y.current.focus(),y.current=null)}}}),[r,o,s,l,f]),a.createElement(a.Fragment,null,a.createElement("div",{tabIndex:0,ref:p,"data-test":"sentinelStart"}),a.cloneElement(t,{ref:b}),a.createElement("div",{tabIndex:0,ref:v,"data-test":"sentinelEnd"}))},ye={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},me=a.forwardRef((function(e,t){var n=e.invisible,o=void 0!==n&&n,u=e.open,s=Object(i.a)(e,["invisible","open"]);return u?a.createElement("div",Object(r.a)({"aria-hidden":!0,ref:t},s,{style:Object(r.a)({},ye.root,o?ye.invisible:{},s.style)})):null}));var ge=new pe,be=a.forwardRef((function(e,t){var n=Object(I.a)(),o=Object(ee.a)({name:"MuiModal",props:Object(r.a)({},e),theme:n}),u=o.BackdropComponent,s=void 0===u?me:u,c=o.BackdropProps,l=o.children,f=o.closeAfterTransition,h=void 0!==f&&f,p=o.container,v=o.disableAutoFocus,y=void 0!==v&&v,m=o.disableBackdropClick,g=void 0!==m&&m,b=o.disableEnforceFocus,k=void 0!==b&&b,w=o.disableEscapeKeyDown,_=void 0!==w&&w,O=o.disablePortal,j=void 0!==O&&O,x=o.disableRestoreFocus,E=void 0!==x&&x,S=o.disableScrollLock,T=void 0!==S&&S,C=o.hideBackdrop,N=void 0!==C&&C,P=o.keepMounted,R=void 0!==P&&P,A=o.manager,D=void 0===A?ge:A,L=o.onBackdropClick,M=o.onClose,F=o.onEscapeKeyDown,U=o.onRendered,V=o.open,q=Object(i.a)(o,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),z=a.useState(!0),B=z[0],W=z[1],H=a.useRef({}),K=a.useRef(null),G=a.useRef(null),Q=Object(d.a)(G,t),J=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(o),X=function(){return Object($.a)(K.current)},te=function(){return H.current.modalRef=G.current,H.current.mountNode=K.current,H.current},ne=function(){D.mount(te(),{disableScrollLock:T}),G.current.scrollTop=0},oe=Object(ie.a)((function(){var e=function(e){return e="function"===typeof e?e():e,Y.findDOMNode(e)}(p)||X().body;D.add(te(),e),G.current&&ne()})),ue=a.useCallback((function(){return D.isTopModal(te())}),[D]),se=Object(ie.a)((function(e){K.current=e,e&&(U&&U(),V&&ue()?ne():ce(G.current,!0))})),le=a.useCallback((function(){D.remove(te())}),[D]);if(a.useEffect((function(){return function(){le()}}),[le]),a.useEffect((function(){V?oe():J&&h||le()}),[V,le,J,h,oe]),!R&&!V&&(!J||B))return null;var fe=function(e){return{root:{position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}}(n||{zIndex:ae.a}),he={};return void 0===l.props.tabIndex&&(he.tabIndex=l.props.tabIndex||"-1"),J&&(he.onEnter=Object(Z.a)((function(){W(!1)}),l.props.onEnter),he.onExited=Object(Z.a)((function(){W(!0),h&&le()}),l.props.onExited)),a.createElement(re,{ref:se,container:p,disablePortal:j},a.createElement("div",Object(r.a)({ref:Q,onKeyDown:function(e){"Escape"===e.key&&ue()&&(F&&F(e),_||(e.stopPropagation(),M&&M(e,"escapeKeyDown")))},role:"presentation"},q,{style:Object(r.a)({},fe.root,!V&&B?fe.hidden:{},q.style)}),N?null:a.createElement(s,Object(r.a)({open:V,onClick:function(e){e.target===e.currentTarget&&(L&&L(e),!g&&M&&M(e,"backdropClick"))}},c)),a.createElement(ve,{disableEnforceFocus:k,disableAutoFocus:y,disableRestoreFocus:E,getDoc:X,isEnabled:ue,open:V},a.cloneElement(l,he))))})),ke=n(82),we=n(83),_e=!1,Oe=n(66),je="unmounted",xe="exited",Ee="entering",Se="entered",Te="exiting",Ie=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=xe,r.appearStatus=Ee):i=Se:i=t.unmountOnExit||t.mountOnEnter?je:xe,r.state={status:i},r.nextCallback=null,r}Object(we.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===je?{status:xe}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Ee&&n!==Se&&(t=Ee):n!==Ee&&n!==Se||(t=Te)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===Ee?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===xe&&this.setState({status:je})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[J.a.findDOMNode(this),r],a=i[0],o=i[1],u=this.getTimeouts(),s=r?u.appear:u.enter;!e&&!n||_e?this.safeSetState({status:Se},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:Ee},(function(){t.props.onEntering(a,o),t.onTransitionEnd(s,(function(){t.safeSetState({status:Se},(function(){t.props.onEntered(a,o)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:J.a.findDOMNode(this);t&&!_e?(this.props.onExit(r),this.safeSetState({status:Te},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:xe},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:xe},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:J.a.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===je)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Object(ke.a)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return o.a.createElement(Oe.a.Provider,{value:null},"function"===typeof n?n(e,r):o.a.cloneElement(o.a.Children.only(n),r))},t}(o.a.Component);function Ce(){}Ie.contextType=Oe.a,Ie.propTypes={},Ie.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ce,onEntering:Ce,onEntered:Ce,onExit:Ce,onExiting:Ce,onExited:Ce},Ie.UNMOUNTED=je,Ie.EXITED=xe,Ie.ENTERING=Ee,Ie.ENTERED=Se,Ie.EXITING=Te;var Ne=Ie;function Pe(e,t){var n=e.timeout,r=e.style,i=void 0===r?{}:r;return{duration:i.transitionDuration||"number"===typeof n?n:n[t.mode]||0,delay:i.transitionDelay}}function Re(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var Ae={entering:{opacity:1,transform:Re(1)},entered:{opacity:1,transform:"none"}},De=a.forwardRef((function(e,t){var n=e.children,o=e.disableStrictModeCompat,u=void 0!==o&&o,s=e.in,c=e.onEnter,l=e.onEntered,f=e.onEntering,h=e.onExit,p=e.onExited,v=e.onExiting,y=e.style,m=e.timeout,g=void 0===m?"auto":m,b=e.TransitionComponent,k=void 0===b?Ne:b,w=Object(i.a)(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),_=a.useRef(),O=a.useRef(),j=N(),x=j.unstable_strictMode&&!u,E=a.useRef(null),S=Object(d.a)(n.ref,t),T=Object(d.a)(x?E:void 0,S),I=function(e){return function(t,n){if(e){var r=x?[E.current,t]:[t,n],i=Object(G.a)(r,2),a=i[0],o=i[1];void 0===o?e(a):e(a,o)}}},C=I(f),P=I((function(e,t){!function(e){e.scrollTop}(e);var n,r=Pe({style:y,timeout:g},{mode:"enter"}),i=r.duration,a=r.delay;"auto"===g?(n=j.transitions.getAutoHeightDuration(e.clientHeight),O.current=n):n=i,e.style.transition=[j.transitions.create("opacity",{duration:n,delay:a}),j.transitions.create("transform",{duration:.666*n,delay:a})].join(","),c&&c(e,t)})),R=I(l),A=I(v),D=I((function(e){var t,n=Pe({style:y,timeout:g},{mode:"exit"}),r=n.duration,i=n.delay;"auto"===g?(t=j.transitions.getAutoHeightDuration(e.clientHeight),O.current=t):t=r,e.style.transition=[j.transitions.create("opacity",{duration:t,delay:i}),j.transitions.create("transform",{duration:.666*t,delay:i||.333*t})].join(","),e.style.opacity="0",e.style.transform=Re(.75),h&&h(e)})),L=I(p);return a.useEffect((function(){return function(){clearTimeout(_.current)}}),[]),a.createElement(k,Object(r.a)({appear:!0,in:s,nodeRef:x?E:void 0,onEnter:P,onEntered:R,onEntering:C,onExit:D,onExited:L,onExiting:A,addEndListener:function(e,t){var n=x?e:t;"auto"===g&&(_.current=setTimeout(n,O.current||0))},timeout:"auto"===g?null:g},w),(function(e,t){return a.cloneElement(n,Object(r.a)({style:Object(r.a)({opacity:0,transform:Re(.75),visibility:"exited"!==e||s?void 0:"hidden"},Ae[e],y,n.props.style),ref:T},t))}))}));De.muiSupportAuto=!0;var Le=De,Me=a.forwardRef((function(e,t){var n=e.classes,o=e.className,s=e.component,c=void 0===s?"div":s,l=e.square,f=void 0!==l&&l,h=e.elevation,d=void 0===h?1:h,p=e.variant,v=void 0===p?"elevation":p,y=Object(i.a)(e,["classes","className","component","square","elevation","variant"]);return a.createElement(c,Object(r.a)({className:Object(u.a)(n.root,o,"outlined"===v?n.outlined:n["elevation".concat(d)],!f&&n.rounded),ref:t},y))})),Fe=Object(f.a)((function(e){var t={};return e.shadows.forEach((function(e,n){t["elevation".concat(n)]={boxShadow:e}})),Object(r.a)({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius},outlined:{border:"1px solid ".concat(e.palette.divider)}},t)}),{name:"MuiPaper"})(Me);function Ue(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function Ve(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function qe(e){return[e.horizontal,e.vertical].map((function(e){return"number"===typeof e?"".concat(e,"px"):e})).join(" ")}function ze(e){return"function"===typeof e?e():e}var Be=a.forwardRef((function(e,t){var n=e.action,o=e.anchorEl,s=e.anchorOrigin,c=void 0===s?{vertical:"top",horizontal:"left"}:s,l=e.anchorPosition,f=e.anchorReference,h=void 0===f?"anchorEl":f,d=e.children,v=e.classes,y=e.className,m=e.container,g=e.elevation,b=void 0===g?8:g,k=e.getContentAnchorEl,w=e.marginThreshold,_=void 0===w?16:w,O=e.onEnter,j=e.onEntered,x=e.onEntering,E=e.onExit,S=e.onExited,T=e.onExiting,I=e.open,C=e.PaperProps,N=void 0===C?{}:C,P=e.transformOrigin,R=void 0===P?{vertical:"top",horizontal:"left"}:P,A=e.TransitionComponent,D=void 0===A?Le:A,L=e.transitionDuration,M=void 0===L?"auto":L,F=e.TransitionProps,U=void 0===F?{}:F,V=Object(i.a)(e,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","className","container","elevation","getContentAnchorEl","marginThreshold","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),q=a.useRef(),z=a.useCallback((function(e){if("anchorPosition"===h)return l;var t=ze(o),n=(t&&1===t.nodeType?t:Object($.a)(q.current).body).getBoundingClientRect(),r=0===e?c.vertical:"center";return{top:n.top+Ue(n,r),left:n.left+Ve(n,c.horizontal)}}),[o,c.horizontal,c.vertical,l,h]),B=a.useCallback((function(e){var t=0;if(k&&"anchorEl"===h){var n=k(e);if(n&&e.contains(n)){var r=function(e,t){for(var n=t,r=0;n&&n!==e;)r+=(n=n.parentElement).scrollTop;return r}(e,n);t=n.offsetTop+n.clientHeight/2-r||0}0}return t}),[c.vertical,h,k]),W=a.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{vertical:Ue(e,R.vertical)+t,horizontal:Ve(e,R.horizontal)}}),[R.horizontal,R.vertical]),H=a.useCallback((function(e){var t=B(e),n={width:e.offsetWidth,height:e.offsetHeight},r=W(n,t);if("none"===h)return{top:null,left:null,transformOrigin:qe(r)};var i=z(t),a=i.top-r.vertical,u=i.left-r.horizontal,s=a+n.height,c=u+n.width,l=Object(X.a)(ze(o)),f=l.innerHeight-_,d=l.innerWidth-_;if(a<_){var p=a-_;a-=p,r.vertical+=p}else if(s>f){var v=s-f;a-=v,r.vertical+=v}if(u<_){var y=u-_;u-=y,r.horizontal+=y}else if(c>d){var m=c-d;u-=m,r.horizontal+=m}return{top:"".concat(Math.round(a),"px"),left:"".concat(Math.round(u),"px"),transformOrigin:qe(r)}}),[o,h,z,B,W,_]),K=a.useCallback((function(){var e=q.current;if(e){var t=H(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin}}),[H]),G=a.useCallback((function(e){q.current=Y.findDOMNode(e)}),[]);a.useEffect((function(){I&&K()})),a.useImperativeHandle(n,(function(){return I?{updatePosition:function(){K()}}:null}),[I,K]),a.useEffect((function(){if(I){var e=Object(p.a)((function(){K()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}}),[I,K]);var Q=M;"auto"!==M||D.muiSupportAuto||(Q=void 0);var J=m||(o?Object($.a)(ze(o)).body:void 0);return a.createElement(be,Object(r.a)({container:J,open:I,ref:t,BackdropProps:{invisible:!0},className:Object(u.a)(v.root,y)},V),a.createElement(D,Object(r.a)({appear:!0,in:I,onEnter:O,onEntered:j,onExit:E,onExited:S,onExiting:T,timeout:Q},U,{onEntering:Object(Z.a)((function(e,t){x&&x(e,t),K()}),U.onEntering)}),a.createElement(Fe,Object(r.a)({elevation:b,ref:G},N,{className:Object(u.a)(v.paper,N.className)}),d)))})),We=Object(f.a)({root:{},paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}},{name:"MuiPopover"})(Be);var He=a.createContext({}),Ke=a.forwardRef((function(e,t){var n=e.children,o=e.classes,s=e.className,c=e.component,l=void 0===c?"ul":c,f=e.dense,h=void 0!==f&&f,d=e.disablePadding,p=void 0!==d&&d,v=e.subheader,y=Object(i.a)(e,["children","classes","className","component","dense","disablePadding","subheader"]),m=a.useMemo((function(){return{dense:h}}),[h]);return a.createElement(He.Provider,{value:m},a.createElement(l,Object(r.a)({className:Object(u.a)(o.root,s,h&&o.dense,!p&&o.padding,v&&o.subheader),ref:t},y),v,n))})),Ge=Object(f.a)({root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},{name:"MuiList"})(Ke);function Qe(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function $e(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function Ye(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function Je(e,t,n,r,i,a){for(var o=!1,u=i(e,t,!!t&&n);u;){if(u===e.firstChild){if(o)return;o=!0}var s=!r&&(u.disabled||"true"===u.getAttribute("aria-disabled"));if(u.hasAttribute("tabindex")&&Ye(u,a)&&!s)return void u.focus();u=i(e,u,n)}}var Xe="undefined"===typeof window?a.useEffect:a.useLayoutEffect,Ze=a.forwardRef((function(e,t){var n=e.actions,o=e.autoFocus,u=void 0!==o&&o,s=e.autoFocusItem,c=void 0!==s&&s,l=e.children,f=e.className,h=e.disabledItemsFocusable,p=void 0!==h&&h,v=e.disableListWrap,y=void 0!==v&&v,m=e.onKeyDown,g=e.variant,b=void 0===g?"selectedMenu":g,k=Object(i.a)(e,["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"]),w=a.useRef(null),_=a.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Xe((function(){u&&w.current.focus()}),[u]),a.useImperativeHandle(n,(function(){return{adjustStyleForScrollbar:function(e,t){var n=!w.current.style.width;if(e.clientHeight<w.current.clientHeight&&n){var r="".concat(se(),"px");w.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,w.current.style.width="calc(100% + ".concat(r,")")}return w.current}}}),[]);var O=a.useCallback((function(e){w.current=Y.findDOMNode(e)}),[]),j=Object(d.a)(O,t),x=-1;a.Children.forEach(l,(function(e,t){a.isValidElement(e)&&(e.props.disabled||("selectedMenu"===b&&e.props.selected||-1===x)&&(x=t))}));var E=a.Children.map(l,(function(e,t){if(t===x){var n={};return c&&(n.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===b&&(n.tabIndex=0),a.cloneElement(e,n)}return e}));return a.createElement(Ge,Object(r.a)({role:"menu",ref:j,className:f,onKeyDown:function(e){var t=w.current,n=e.key,r=Object($.a)(t).activeElement;if("ArrowDown"===n)e.preventDefault(),Je(t,r,y,p,Qe);else if("ArrowUp"===n)e.preventDefault(),Je(t,r,y,p,$e);else if("Home"===n)e.preventDefault(),Je(t,null,y,p,Qe);else if("End"===n)e.preventDefault(),Je(t,null,y,p,$e);else if(1===n.length){var i=_.current,a=n.toLowerCase(),o=performance.now();i.keys.length>0&&(o-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&a!==i.keys[0]&&(i.repeating=!1)),i.lastTime=o,i.keys.push(a);var u=r&&!i.repeating&&Ye(r,i);i.previousKeyMatched&&(u||Je(t,r,!1,p,Qe,i))?e.preventDefault():i.previousKeyMatched=!1}m&&m(e)},tabIndex:u?0:-1},k),E)})),et={vertical:"top",horizontal:"right"},tt={vertical:"top",horizontal:"left"},nt=a.forwardRef((function(e,t){var n=e.autoFocus,o=void 0===n||n,s=e.children,c=e.classes,l=e.disableAutoFocusItem,f=void 0!==l&&l,h=e.MenuListProps,d=void 0===h?{}:h,p=e.onClose,v=e.onEntering,y=e.open,m=e.PaperProps,g=void 0===m?{}:m,b=e.PopoverClasses,k=e.transitionDuration,w=void 0===k?"auto":k,_=e.TransitionProps,O=(_=void 0===_?{}:_).onEntering,j=Object(i.a)(_,["onEntering"]),x=e.variant,E=void 0===x?"selectedMenu":x,S=Object(i.a)(e,["autoFocus","children","classes","disableAutoFocusItem","MenuListProps","onClose","onEntering","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"]),T=N(),I=o&&!f&&y,C=a.useRef(null),P=a.useRef(null),R=-1;a.Children.map(s,(function(e,t){a.isValidElement(e)&&(e.props.disabled||("menu"!==E&&e.props.selected||-1===R)&&(R=t))}));var A=a.Children.map(s,(function(e,t){return t===R?a.cloneElement(e,{ref:function(t){P.current=Y.findDOMNode(t),Object(te.a)(e.ref,t)}}):e}));return a.createElement(We,Object(r.a)({getContentAnchorEl:function(){return P.current},classes:b,onClose:p,TransitionProps:Object(r.a)({onEntering:function(e,t){C.current&&C.current.adjustStyleForScrollbar(e,T),v&&v(e,t),O&&O(e,t)}},j),anchorOrigin:"rtl"===T.direction?et:tt,transformOrigin:"rtl"===T.direction?et:tt,PaperProps:Object(r.a)({},g,{classes:Object(r.a)({},g.classes,{root:c.paper})}),open:y,ref:t,transitionDuration:w},S),a.createElement(Ze,Object(r.a)({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),p&&p(e,"tabKeyDown"))},actions:C,autoFocus:o&&(-1===R||f),autoFocusItem:I,variant:E},d,{className:Object(u.a)(c.list,d.className)}),A))})),rt=Object(f.a)({paper:{maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"},list:{outline:0}},{name:"MuiMenu"})(nt),it=n(59);function at(e,t){return"object"===Object(Q.a)(t)&&null!==t?e===t:String(e)===String(t)}var ot=a.forwardRef((function(e,t){var n=e["aria-label"],o=e.autoFocus,c=e.autoWidth,l=e.children,f=e.classes,p=e.className,v=e.defaultValue,y=e.disabled,m=e.displayEmpty,g=e.IconComponent,b=e.inputRef,w=e.labelId,_=e.MenuProps,O=void 0===_?{}:_,j=e.multiple,x=e.name,E=e.onBlur,S=e.onChange,T=e.onClose,I=e.onFocus,C=e.onOpen,N=e.open,P=e.readOnly,R=e.renderValue,A=e.SelectDisplayProps,D=void 0===A?{}:A,L=e.tabIndex,M=(e.type,e.value),F=e.variant,U=void 0===F?"standard":F,V=Object(i.a)(e,["aria-label","autoFocus","autoWidth","children","classes","className","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"]),q=Object(it.a)({controlled:M,default:v,name:"Select"}),z=Object(G.a)(q,2),B=z[0],W=z[1],H=a.useRef(null),K=a.useState(null),Q=K[0],Y=K[1],J=a.useRef(null!=N).current,X=a.useState(),Z=X[0],ee=X[1],te=a.useState(!1),ne=te[0],re=te[1],ie=Object(d.a)(t,b);a.useImperativeHandle(ie,(function(){return{focus:function(){Q.focus()},node:H.current,value:B}}),[Q,B]),a.useEffect((function(){o&&Q&&Q.focus()}),[o,Q]),a.useEffect((function(){if(Q){var e=Object($.a)(Q).getElementById(w);if(e){var t=function(){getSelection().isCollapsed&&Q.focus()};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}}}),[w,Q]);var ae,oe,ue=function(e,t){e?C&&C(t):T&&T(t),J||(ee(c?null:Q.clientWidth),re(e))},se=a.Children.toArray(l),ce=function(e){return function(t){var n;if(j||ue(!1,t),j){n=Array.isArray(B)?B.slice():[];var r=B.indexOf(e.props.value);-1===r?n.push(e.props.value):n.splice(r,1)}else n=e.props.value;e.props.onClick&&e.props.onClick(t),B!==n&&(W(n),S&&(t.persist(),Object.defineProperty(t,"target",{writable:!0,value:{value:n,name:x}}),S(t,e)))}},le=null!==Q&&(J?N:ne);delete V["aria-invalid"];var fe=[],he=!1;(k({value:B})||m)&&(R?ae=R(B):he=!0);var de=se.map((function(e){if(!a.isValidElement(e))return null;var t;if(j){if(!Array.isArray(B))throw new Error(Object(s.a)(2));(t=B.some((function(t){return at(t,e.props.value)})))&&he&&fe.push(e.props.children)}else(t=at(B,e.props.value))&&he&&(oe=e.props.children);return t&&!0,a.cloneElement(e,{"aria-selected":t?"true":void 0,onClick:ce(e),onKeyUp:function(t){" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})}));he&&(ae=j?fe.join(", "):oe);var pe,ve=Z;!c&&J&&Q&&(ve=Q.clientWidth),pe="undefined"!==typeof L?L:y?null:0;var ye=D.id||(x?"mui-component-select-".concat(x):void 0);return a.createElement(a.Fragment,null,a.createElement("div",Object(r.a)({className:Object(u.a)(f.root,f.select,f.selectMenu,f[U],p,y&&f.disabled),ref:Y,tabIndex:pe,role:"button","aria-disabled":y?"true":void 0,"aria-expanded":le?"true":void 0,"aria-haspopup":"listbox","aria-label":n,"aria-labelledby":[w,ye].filter(Boolean).join(" ")||void 0,onKeyDown:function(e){if(!P){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),ue(!0,e))}},onMouseDown:y||P?null:function(e){0===e.button&&(e.preventDefault(),Q.focus(),ue(!0,e))},onBlur:function(e){!le&&E&&(e.persist(),Object.defineProperty(e,"target",{writable:!0,value:{value:B,name:x}}),E(e))},onFocus:I},D,{id:ye}),function(e){return null==e||"string"===typeof e&&!e.trim()}(ae)?a.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):ae),a.createElement("input",Object(r.a)({value:Array.isArray(B)?B.join(","):B,name:x,ref:H,"aria-hidden":!0,onChange:function(e){var t=se.map((function(e){return e.props.value})).indexOf(e.target.value);if(-1!==t){var n=se[t];W(n.props.value),S&&S(e,n)}},tabIndex:-1,className:f.nativeInput,autoFocus:o},V)),a.createElement(g,{className:Object(u.a)(f.icon,f["icon".concat(Object(h.a)(U))],le&&f.iconOpen,y&&f.disabled)}),a.createElement(rt,Object(r.a)({id:"menu-".concat(x||""),anchorEl:Q,open:le,onClose:function(e){ue(!1,e)}},O,{MenuListProps:Object(r.a)({"aria-labelledby":w,role:"listbox",disableListWrap:!0},O.MenuListProps),PaperProps:Object(r.a)({},O.PaperProps,{style:Object(r.a)({minWidth:ve},null!=O.PaperProps?O.PaperProps.style:null)})}),de))})),ut=n(38),st=Object(ut.a)(a.createElement("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),ct=a.forwardRef((function(e,t){var n=e.classes,o=e.className,s=e.disabled,c=e.IconComponent,l=e.inputRef,f=e.variant,d=void 0===f?"standard":f,p=Object(i.a)(e,["classes","className","disabled","IconComponent","inputRef","variant"]);return a.createElement(a.Fragment,null,a.createElement("select",Object(r.a)({className:Object(u.a)(n.root,n.select,n[d],o,s&&n.disabled),disabled:s,ref:l||t},p)),e.multiple?null:a.createElement(c,{className:Object(u.a)(n.icon,n["icon".concat(Object(h.a)(d))],s&&n.disabled)}))})),lt=function(e){return{root:{},select:{"-moz-appearance":"none","-webkit-appearance":"none",userSelect:"none",borderRadius:0,minWidth:16,cursor:"pointer","&:focus":{backgroundColor:"light"===e.palette.type?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},"&$disabled":{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:e.palette.background.paper},"&&":{paddingRight:24}},filled:{"&&":{paddingRight:32}},outlined:{borderRadius:e.shape.borderRadius,"&&":{paddingRight:32}},selectMenu:{height:"auto",minHeight:"1.1876em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},disabled:{},icon:{position:"absolute",right:0,top:"calc(50% - 12px)",pointerEvents:"none",color:e.palette.action.active,"&$disabled":{color:e.palette.action.disabled}},iconOpen:{transform:"rotate(180deg)"},iconFilled:{right:7},iconOutlined:{right:7},nativeInput:{bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%"}}},ft=a.createElement(x,null),ht=a.forwardRef((function(e,t){var n=e.children,o=e.classes,u=e.IconComponent,s=void 0===u?st:u,l=e.input,f=void 0===l?ft:l,h=e.inputProps,d=(e.variant,Object(i.a)(e,["children","classes","IconComponent","input","inputProps","variant"])),p=c({props:e,muiFormControl:Object(L.a)(),states:["variant"]});return a.cloneElement(f,Object(r.a)({inputComponent:ct,inputProps:Object(r.a)({children:n,classes:o,IconComponent:s,variant:p.variant,type:void 0},h,f?f.props.inputProps:{}),ref:t},d))}));ht.muiName="Select";Object(f.a)(lt,{name:"MuiNativeSelect"})(ht);var dt=lt,pt=a.createElement(x,null),vt=a.createElement(S,null),yt=a.forwardRef((function e(t,n){var o=t.autoWidth,u=void 0!==o&&o,s=t.children,l=t.classes,f=t.displayEmpty,h=void 0!==f&&f,d=t.IconComponent,p=void 0===d?st:d,v=t.id,y=t.input,m=t.inputProps,g=t.label,b=t.labelId,k=t.labelWidth,w=void 0===k?0:k,_=t.MenuProps,O=t.multiple,j=void 0!==O&&O,x=t.native,E=void 0!==x&&x,S=t.onClose,T=t.onOpen,I=t.open,C=t.renderValue,N=t.SelectDisplayProps,P=t.variant,R=void 0===P?"standard":P,A=Object(i.a)(t,["autoWidth","children","classes","displayEmpty","IconComponent","id","input","inputProps","label","labelId","labelWidth","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"]),M=E?ct:ot,F=c({props:t,muiFormControl:Object(L.a)(),states:["variant"]}).variant||R,U=y||{standard:pt,outlined:a.createElement(D,{label:g,labelWidth:w}),filled:vt}[F];return a.cloneElement(U,Object(r.a)({inputComponent:M,inputProps:Object(r.a)({children:s,IconComponent:p,variant:F,type:void 0,multiple:j},E?{id:v}:{autoWidth:u,displayEmpty:h,labelId:b,MenuProps:_,onClose:S,onOpen:T,open:I,renderValue:C,SelectDisplayProps:Object(r.a)({id:v},N)},m,{classes:m?Object(K.a)({baseClasses:l,newClasses:m.classes,Component:e}):l},y?y.props.inputProps:{}),ref:n},A))}));yt.muiName="Select";var mt=Object(f.a)(dt,{name:"MuiSelect"})(yt),gt={standard:x,filled:S,outlined:D},bt=a.forwardRef((function(e,t){var n=e.autoComplete,o=e.autoFocus,s=void 0!==o&&o,c=e.children,l=e.classes,f=e.className,h=e.color,d=void 0===h?"primary":h,p=e.defaultValue,v=e.disabled,y=void 0!==v&&v,m=e.error,g=void 0!==m&&m,b=e.FormHelperTextProps,k=e.fullWidth,w=void 0!==k&&k,_=e.helperText,O=e.hiddenLabel,j=e.id,x=e.InputLabelProps,E=e.inputProps,S=e.InputProps,T=e.inputRef,I=e.label,C=e.multiline,N=void 0!==C&&C,P=e.name,R=e.onBlur,A=e.onChange,D=e.onFocus,L=e.placeholder,M=e.required,F=void 0!==M&&M,U=e.rows,q=e.rowsMax,z=e.maxRows,W=e.minRows,K=e.select,G=void 0!==K&&K,Q=e.SelectProps,$=e.type,Y=e.value,J=e.variant,X=void 0===J?"standard":J,Z=Object(i.a)(e,["autoComplete","autoFocus","children","classes","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","hiddenLabel","id","InputLabelProps","inputProps","InputProps","inputRef","label","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","rowsMax","maxRows","minRows","select","SelectProps","type","value","variant"]);var ee={};if("outlined"===X&&(x&&"undefined"!==typeof x.shrink&&(ee.notched=x.shrink),I)){var te,ne=null!==(te=null===x||void 0===x?void 0:x.required)&&void 0!==te?te:F;ee.label=a.createElement(a.Fragment,null,I,ne&&"\xa0*")}G&&(Q&&Q.native||(ee.id=void 0),ee["aria-describedby"]=void 0);var re=_&&j?"".concat(j,"-helper-text"):void 0,ie=I&&j?"".concat(j,"-label"):void 0,ae=gt[X],oe=a.createElement(ae,Object(r.a)({"aria-describedby":re,autoComplete:n,autoFocus:s,defaultValue:p,fullWidth:w,multiline:N,name:P,rows:U,rowsMax:q,maxRows:z,minRows:W,type:$,value:Y,id:j,inputRef:T,onBlur:R,onChange:A,onFocus:D,placeholder:L,inputProps:E},ee,S));return a.createElement(B,Object(r.a)({className:Object(u.a)(l.root,f),disabled:y,error:g,fullWidth:w,hiddenLabel:O,ref:t,required:F,color:d,variant:X},Z),I&&a.createElement(V,Object(r.a)({htmlFor:j,id:ie},x),I),G?a.createElement(mt,Object(r.a)({"aria-describedby":re,id:j,labelId:ie,value:Y,input:oe},Q),c):oe,_&&a.createElement(H,Object(r.a)({id:re},b),_))}));t.a=Object(f.a)({root:{}},{name:"MuiTextField"})(bt)},function(e,t,n){"use strict";var r=n(43),i=n(6),a=(n(18),n(47));function o(e,t){var n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}function u(e){var t=function(t){var n=e(t);return t.css?Object(i.a)({},Object(a.a)(n,e(Object(i.a)({theme:t.theme},t.css))),o(t.css,[e.filterProps])):t.sx?Object(i.a)({},Object(a.a)(n,e(Object(i.a)({theme:t.theme},t.sx))),o(t.sx,[e.filterProps])):n};return t.propTypes={},t.filterProps=["css","sx"].concat(Object(r.a)(e.filterProps)),t}var s=u;var c=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=function(e){return t.reduce((function(t,n){var r=n(e);return r?Object(a.a)(t,r):t}),{})};return r.propTypes={},r.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),r},l=n(48),f=n(78);function h(e,t){return t&&"string"===typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}var d=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,a=e.transform,o=function(e){if(null==e[t])return null;var n=e[t],o=h(e.theme,i)||{};return Object(f.a)(e,n,(function(e){var t;return"function"===typeof o?t=o(e):Array.isArray(o)?t=o[e]||e:(t=h(o,e)||e,a&&(t=a(t))),!1===r?t:Object(l.a)({},r,t)}))};return o.propTypes={},o.filterProps=[t],o};function p(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var v=c(d({prop:"border",themeKey:"borders",transform:p}),d({prop:"borderTop",themeKey:"borders",transform:p}),d({prop:"borderRight",themeKey:"borders",transform:p}),d({prop:"borderBottom",themeKey:"borders",transform:p}),d({prop:"borderLeft",themeKey:"borders",transform:p}),d({prop:"borderColor",themeKey:"palette"}),d({prop:"borderRadius",themeKey:"shape"})),y=c(d({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),d({prop:"display"}),d({prop:"overflow"}),d({prop:"textOverflow"}),d({prop:"visibility"}),d({prop:"whiteSpace"})),m=c(d({prop:"flexBasis"}),d({prop:"flexDirection"}),d({prop:"flexWrap"}),d({prop:"justifyContent"}),d({prop:"alignItems"}),d({prop:"alignContent"}),d({prop:"order"}),d({prop:"flex"}),d({prop:"flexGrow"}),d({prop:"flexShrink"}),d({prop:"alignSelf"}),d({prop:"justifyItems"}),d({prop:"justifySelf"})),g=c(d({prop:"gridGap"}),d({prop:"gridColumnGap"}),d({prop:"gridRowGap"}),d({prop:"gridColumn"}),d({prop:"gridRow"}),d({prop:"gridAutoFlow"}),d({prop:"gridAutoColumns"}),d({prop:"gridAutoRows"}),d({prop:"gridTemplateColumns"}),d({prop:"gridTemplateRows"}),d({prop:"gridTemplateAreas"}),d({prop:"gridArea"})),b=c(d({prop:"position"}),d({prop:"zIndex",themeKey:"zIndex"}),d({prop:"top"}),d({prop:"right"}),d({prop:"bottom"}),d({prop:"left"})),k=c(d({prop:"color",themeKey:"palette"}),d({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"})),w=d({prop:"boxShadow",themeKey:"shadows"});function _(e){return e<=1?"".concat(100*e,"%"):e}var O=d({prop:"width",transform:_}),j=d({prop:"maxWidth",transform:_}),x=d({prop:"minWidth",transform:_}),E=d({prop:"height",transform:_}),S=d({prop:"maxHeight",transform:_}),T=d({prop:"minHeight",transform:_}),I=(d({prop:"size",cssProperty:"width",transform:_}),d({prop:"size",cssProperty:"height",transform:_}),c(O,j,x,E,S,T,d({prop:"boxSizing"}))),C=n(194),N=c(d({prop:"fontFamily",themeKey:"typography"}),d({prop:"fontSize",themeKey:"typography"}),d({prop:"fontStyle",themeKey:"typography"}),d({prop:"fontWeight",themeKey:"typography"}),d({prop:"letterSpacing"}),d({prop:"lineHeight"}),d({prop:"textAlign"})),P=n(14),R=n(1),A=n.n(R),D=n(15),L=n(63),M=n.n(L),F=n(153);function U(e,t){var n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}var V=n(52),q=function(e){var t=function(e){return function(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.name,o=Object(P.a)(r,["name"]),u=a,s="function"===typeof t?function(e){return{root:function(n){return t(Object(i.a)({theme:e},n))}}}:{root:t},c=Object(F.a)(s,Object(i.a)({Component:e,name:a||e.displayName,classNamePrefix:u},o));t.filterProps&&(n=t.filterProps,delete t.filterProps),t.propTypes&&(t.propTypes,delete t.propTypes);var l=A.a.forwardRef((function(t,r){var a=t.children,o=t.className,u=t.clone,s=t.component,l=Object(P.a)(t,["children","className","clone","component"]),f=c(t),h=Object(D.a)(f.root,o),d=l;if(n&&(d=U(d,n)),u)return A.a.cloneElement(a,Object(i.a)({className:Object(D.a)(a.props.className,h)},d));if("function"===typeof a)return a(Object(i.a)({className:h},d));var p=s||e;return A.a.createElement(p,Object(i.a)({ref:r,className:h},d),a)}));return M()(l,e),l}}(e);return function(e,n){return t(e,Object(i.a)({defaultTheme:V.a},n))}},z=s(c(v,y,m,g,b,k,w,I,C.b,N)),B=q("div")(z,{name:"MuiBox"});t.a=B},function(e,t,n){"use strict";var r=n(6),i=n(14),a=n(1),o=(n(18),n(15)),u=n(53),s=n(59),c=n(36),l=n(17),f=n(32),h=n(154),d=n(21),p=a.forwardRef((function(e,t){var n=e.edge,u=void 0!==n&&n,s=e.children,c=e.classes,l=e.className,f=e.color,p=void 0===f?"default":f,v=e.disabled,y=void 0!==v&&v,m=e.disableFocusRipple,g=void 0!==m&&m,b=e.size,k=void 0===b?"medium":b,w=Object(i.a)(e,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return a.createElement(h.a,Object(r.a)({className:Object(o.a)(c.root,l,"default"!==p&&c["color".concat(Object(d.a)(p))],y&&c.disabled,"small"===k&&c["size".concat(Object(d.a)(k))],{start:c.edgeStart,end:c.edgeEnd}[u]),centerRipple:!0,focusRipple:!g,disabled:y,ref:t},w),a.createElement("span",{className:c.label},s))})),v=Object(l.a)((function(e){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{backgroundColor:Object(f.a)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:e.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(f.a)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(f.a)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:e.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}}),{name:"MuiIconButton"})(p),y=a.forwardRef((function(e,t){var n=e.autoFocus,l=e.checked,f=e.checkedIcon,h=e.classes,d=e.className,p=e.defaultChecked,y=e.disabled,m=e.icon,g=e.id,b=e.inputProps,k=e.inputRef,w=e.name,_=e.onBlur,O=e.onChange,j=e.onFocus,x=e.readOnly,E=e.required,S=e.tabIndex,T=e.type,I=e.value,C=Object(i.a)(e,["autoFocus","checked","checkedIcon","classes","className","defaultChecked","disabled","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),N=Object(s.a)({controlled:l,default:Boolean(p),name:"SwitchBase",state:"checked"}),P=Object(u.a)(N,2),R=P[0],A=P[1],D=Object(c.a)(),L=y;D&&"undefined"===typeof L&&(L=D.disabled);var M="checkbox"===T||"radio"===T;return a.createElement(v,Object(r.a)({component:"span",className:Object(o.a)(h.root,d,R&&h.checked,L&&h.disabled),disabled:L,tabIndex:null,role:void 0,onFocus:function(e){j&&j(e),D&&D.onFocus&&D.onFocus(e)},onBlur:function(e){_&&_(e),D&&D.onBlur&&D.onBlur(e)},ref:t},C),a.createElement("input",Object(r.a)({autoFocus:n,checked:l,defaultChecked:p,className:h.input,disabled:L,id:M&&g,name:w,onChange:function(e){var t=e.target.checked;A(t),O&&O(e,t)},readOnly:x,ref:k,required:E,tabIndex:S,type:T,value:I},b)),R?f:m)})),m=Object(l.a)({root:{padding:9},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}},{name:"PrivateSwitchBase"})(y),g=n(38),b=Object(g.a)(a.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),k=Object(g.a)(a.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),w=Object(g.a)(a.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),_=a.createElement(k,null),O=a.createElement(b,null),j=a.createElement(w,null),x=a.forwardRef((function(e,t){var n=e.checkedIcon,u=void 0===n?_:n,s=e.classes,c=e.color,l=void 0===c?"secondary":c,f=e.icon,h=void 0===f?O:f,p=e.indeterminate,v=void 0!==p&&p,y=e.indeterminateIcon,g=void 0===y?j:y,b=e.inputProps,k=e.size,w=void 0===k?"medium":k,x=Object(i.a)(e,["checkedIcon","classes","color","icon","indeterminate","indeterminateIcon","inputProps","size"]),E=v?g:h,S=v?g:u;return a.createElement(m,Object(r.a)({type:"checkbox",classes:{root:Object(o.a)(s.root,s["color".concat(Object(d.a)(l))],v&&s.indeterminate),checked:s.checked,disabled:s.disabled},color:l,inputProps:Object(r.a)({"data-indeterminate":v},b),icon:a.cloneElement(E,{fontSize:void 0===E.props.fontSize&&"small"===w?w:E.props.fontSize}),checkedIcon:a.cloneElement(S,{fontSize:void 0===S.props.fontSize&&"small"===w?w:S.props.fontSize}),ref:t},x))}));t.a=Object(l.a)((function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},indeterminate:{},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(f.a)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(f.a)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}}}}),{name:"MuiCheckbox"})(x)},function(e,t,n){"use strict";var r=n(6),i=n(14),a=n(1),o=(n(18),n(15)),u=n(17),s=n(38),c=Object(s.a)(a.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var l=a.forwardRef((function(e,t){var n=e.alt,u=e.children,s=e.classes,l=e.className,f=e.component,h=void 0===f?"div":f,d=e.imgProps,p=e.sizes,v=e.src,y=e.srcSet,m=e.variant,g=void 0===m?"circular":m,b=Object(i.a)(e,["alt","children","classes","className","component","imgProps","sizes","src","srcSet","variant"]),k=null,w=function(e){var t=e.src,n=e.srcSet,r=a.useState(!1),i=r[0],o=r[1];return a.useEffect((function(){if(t||n){o(!1);var e=!0,r=new Image;return r.src=t,r.srcSet=n,r.onload=function(){e&&o("loaded")},r.onerror=function(){e&&o("error")},function(){e=!1}}}),[t,n]),i}({src:v,srcSet:y}),_=v||y,O=_&&"error"!==w;return k=O?a.createElement("img",Object(r.a)({alt:n,src:v,srcSet:y,sizes:p,className:s.img},d)):null!=u?u:_&&n?n[0]:a.createElement(c,{className:s.fallback}),a.createElement(h,Object(r.a)({className:Object(o.a)(s.root,s.system,s[g],l,!O&&s.colorDefault),ref:t},b),k)}));t.a=Object(u.a)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},colorDefault:{color:e.palette.background.default,backgroundColor:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[600]},circle:{},circular:{},rounded:{borderRadius:e.shape.borderRadius},square:{borderRadius:0},img:{width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4},fallback:{width:"75%",height:"75%"}}}),{name:"MuiAvatar"})(l)},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(53),i=n(78),a=n(47);var o={m:"margin",p:"padding"},u={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},s={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},c=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!s[e])return[e];e=s[e]}var t=e.split(""),n=Object(r.a)(t,2),i=n[0],a=n[1],c=o[i],l=u[a]||"";return Array.isArray(l)?l.map((function(e){return c+e})):[c+l]})),l=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function f(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}function h(e,t){return function(n){return e.reduce((function(e,r){return e[r]=function(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}(t,n),e}),{})}}function d(e){var t=f(e.theme);return Object.keys(e).map((function(n){if(-1===l.indexOf(n))return null;var r=h(c(n),t),a=e[n];return Object(i.a)(e,a,r)})).reduce(a.a,{})}d.propTypes={},d.filterProps=l;t.b=d},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1),i=n.n(r);var a=i.a.createContext(null);function o(){return i.a.useContext(a)}}]]);
//# sourceMappingURL=2.14e63e9c.chunk.js.map